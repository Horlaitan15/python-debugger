var __BRYTHON__=__BRYTHON__||{};!function(a){var b=document.getElementsByTagName("script"),c=b[b.length-1].src,d=c.split("/");d.pop();var e=a.brython_path=d.join("/")+"/",f=a.script_path=window.location.href,g=f.split("/");g.pop();var h=a.script_dir=g.join("/");a.$py_module_path={},a.$py_src={},a.path=[e+"Lib",e+"libs",h,e+"Lib/site-packages"],a.bound={},a.type={},a.async_enabled=!1,a.async_enabled&&(a.block={}),a.modules={},a.imported={},a.vars={},a._globals={},a.frames_stack=[],a.builtins={__repr__:function(){return"<module 'builtins>'"},__str__:function(){return"<module 'builtins'>"}},a.builtins_block={id:"__builtins__",module:"__builtins__"},a.modules.__builtins__=a.builtins_block,a.bound.__builtins__={__BRYTHON__:!0,$eval:!0,$open:!0},a.bound.__builtins__.BaseException=!0,a.type.__builtins__={},a.builtin_funcs={},a.__getattr__=function(a){return this[a]},a.__setattr__=function(b,c){if(!(["debug","stdout","stderr"].indexOf(b)>-1))throw a.builtins.AttributeError("__BRYTHON__ object has no attribute "+b);a[b]=c},a.language=window.navigator.userLanguage||window.navigator.language,a.charset=document.characterSet||document.inputEncoding||"utf-8",a.max_int=Math.pow(2,53)-1,a.min_int=-a.max_int,a.$py_next_hash=-Math.pow(2,53),a.$py_UUID=0,a.lambda_magic=Math.random().toString(36).substr(2,8),a.callbacks={};var i="undefined"!=typeof Storage;if(i){a.has_local_storage=!1;try{localStorage&&(a.local_storage=localStorage,a.has_local_storage=!0)}catch(a){}a.has_session_storage=!1;try{sessionStorage&&(a.session_storage=sessionStorage,a.has_session_storage=!0)}catch(a){}}else a.has_local_storage=!1,a.has_session_storage=!1;a.globals=function(){return a.frames_stack[a.frames_stack.length-1][3]}}(__BRYTHON__),__BRYTHON__.implementation=[3,2,4,"alpha",0],__BRYTHON__.__MAGIC__="3.2.4",__BRYTHON__.version_info=[3,3,0,"alpha",0],__BRYTHON__.compiled_date="2015-12-09 16:11:58.945015",__BRYTHON__.builtin_module_names=["posix","sys","errno","time","_ajax","_browser","_html","_jsre","_multiprocessing","_posixsubprocess","_svg","_sys","builtins","dis","hashlib","javascript","json","long_int","math","modulefinder","random","_abcoll","_codecs","_collections","_csv","_functools","_imp","_io","_random","_socket","_sre","_string","_struct","_sysconfigdata","_testcapi","_thread","_warnings","_weakref"],__BRYTHON__.re_XID_Start=/[a-zA-Z_\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u01BA\u01BB\u01BC-\u01BF\u01C0-\u01C3\u01C4-\u0241\u0250-\u02AF\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EE\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03F5\u03F7-\u0481\u048A-\u04CE\u04D0-\u04F9\u0500-\u050F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0621-\u063A\u0640\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FF]/,__BRYTHON__.re_XID_Continue=/[a-zA-Z_\u0030-\u0039\u0041-\u005A\u005F\u0061-\u007A\u00AA\u00B5\u00B7\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u01BA\u01BB\u01BC-\u01BF\u01C0-\u01C3\u01C4-\u0241\u0250-\u02AF\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EE\u0300-\u036F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03F5\u03F7-\u0481\u0483-\u0486\u048A-\u04CE\u04D0-\u04F9\u0500-\u050F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05B9\u05BB-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u0615\u0621-\u063A\u0640\u0641-\u064A\u064B-\u065E\u0660-\u0669\u066E-\u066F\u0670\u0671-\u06D3\u06D5\u06D6-\u06DC\u06DF-\u06E4\u06E5-\u06E6\u06E7-\u06E8\u06EA-\u06ED\u06EE-\u06EF\u06F0-\u06F9\u06FA-\u06FC\u06FF]/,function($B){function $_SyntaxError(a,b,c){for(var d=a;"node"!==d.type;)d=d.parent;var e=d.node,f=e.module,g=e.line_num;if(void 0!==c&&g++,void 0!==c)throw $B.$IndentationError(f,b,$pos);Array.isArray(b)&&$B.$SyntaxError(f,b[0],$pos),"Triple string end not found"===b&&$B.$SyntaxError(f,"invalid syntax : triple string end not found",$pos),$B.$SyntaxError(f,"invalid syntax",$pos)}function $Node(a){this.type=a,this.children=[],this.yield_atoms=[],this.add=function(a){this.children[this.children.length]=a,a.parent=this,a.module=this.module},this.insert=function(a,b){this.children.splice(a,0,b),b.parent=this,b.module=this.module},this.toString=function(){return"<object 'Node'>"},this.show=function(a){var b="";if("module"===this.type){for(var c=0;c<this.children.length;c++)b+=this.children[c].show(a);return b}a=a||0,b+=" ".repeat(a),b+=this.context,this.children.length>0&&(b+="{"),b+="\n";for(var c=0;c<this.children.length;c++)b+="["+c+"] "+this.children[c].show(a+4);return this.children.length>0&&(b+=" ".repeat(a),b+="}\n"),b},this.to_js=function(a){if(void 0!==this.js)return this.js;this.res=[];var b=0;if(this.unbound=[],"module"===this.type){for(var c=0;c<this.children.length;c++)this.res[b++]=this.children[c].to_js(),this.children[c].js_index=b;return this.js=this.res.join(""),this.js}a=a||0;var d=this.context.to_js();if(d){this.res[b++]=" ".repeat(a),this.res[b++]=d,this.js_index=b,this.children.length>0&&(this.res[b++]="{"),this.res[b++]="\n";for(var c=0;c<this.children.length;c++)this.res[b++]=this.children[c].to_js(a+4),this.children[c].js_index=b;this.children.length>0&&(this.res[b++]=" ".repeat(a),this.res[b++]="}\n")}return this.js=this.res.join(""),this.js},this.transform=function(a){if(this.yield_atoms.length>0){this.parent.children.splice(a,1);for(var b=0,c=0;c<this.yield_atoms.length;c++){var d=new $Node,e="$yield_value"+$loop_num;e+="="+(this.yield_atoms[c].to_js()||"None"),new $NodeJSCtx(d,e),this.parent.insert(a+b,d);var f=new $Node;this.parent.insert(a+b+1,f);var g=new $YieldCtx(new $NodeCtx(f));new $StringCtx(g,"$yield_value"+$loop_num);var h=new $Node;h.is_set_yield_value=!0,e=$loop_num,new $NodeJSCtx(h,e),this.parent.insert(a+b+2,h),this.yield_atoms[c].to_js=function(a){return function(){return"$yield_value"+a}}($loop_num),$loop_num++,b+=3}return this.parent.insert(a+b,this),this.yield_atoms=[],b+1}if("module"!==this.type){var i,j=this.context.tree[0];void 0!==j.transform&&(i=j.transform(this,a));for(var c=0;c<this.children.length;){var b=this.children[c].transform(c);void 0===b&&(b=1),c+=b}return void 0===i&&(i=1),i}this.doc_string=$get_docstring(this);for(var c=0;c<this.children.length;){var b=this.children[c].transform(c);void 0===b&&(b=1),c+=b}},this.clone=function(){var a=new $Node(this.type);for(var b in this)a[b]=this[b];return a}}function $AbstractExprCtx(a,b){this.type="abstract_expr",this.with_commas=b,this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.toString=function(){return"(abstract_expr "+b+") "+this.tree},this.to_js=function(){return this.js_processed=!0,"list"===this.type?"["+$to_js(this.tree)+"]":$to_js(this.tree)}}function $AliasCtx(a){this.type="ctx_manager_alias",this.parent=a,this.tree=[],a.tree[a.tree.length-1].alias=this}function $AnnotationCtx(a){this.type="annotation",this.parent=a,this.tree=[],a.annotation=this,this.toString=function(){return"(annotation) "+this.tree},this.to_js=function(){return $to_js(this.tree)}}function $AssertCtx(a){this.type="assert",this.toString=function(){return"(assert) "+this.tree},this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.transform=function(a,b){if("list_or_tuple"===this.tree[0].type)var c=this.tree[0].tree[0],d=this.tree[0].tree[1];else var c=this.tree[0],d=null;var e=new $ConditionCtx(a.context,"if"),f=new $NotCtx(e);f.tree=[c],a.context=e;var g=new $Node,h='throw AssertionError("AssertionError")';null!==d&&(h="throw AssertionError(str("+d.to_js()+"))"),new $NodeJSCtx(g,h),a.add(g)}}function $AssignCtx(a,b){for(var c=a;c;)"assert"==c.type&&$_SyntaxError(a,"invalid syntax - assign"),c=c.parent;b=void 0===b,this.type="assign",a.parent.tree.pop(),a.parent.tree[a.parent.tree.length]=this,this.parent=a.parent,this.tree=[a];var d=$get_scope(this);if("expr"==a.type&&"call"==a.tree[0].type)$_SyntaxError(a,["can't assign to function call "]);else if("list_or_tuple"==a.type||"expr"==a.type&&"list_or_tuple"==a.tree[0].type){"expr"==a.type&&(a=a.tree[0]);for(var e in a.ids())$B.bound[d.id][e]=!0}else if("assign"==a.type)for(var f=0;f<a.tree.length;f++){var g=a.tree[f].tree[0];"id"==g.type&&($B.bound[d.id][g.value]=!0)}else{var g=a.tree[0];if(g&&"id"==g.type&&(noassign[g.value]===!0&&$_SyntaxError(a,["can't assign to keyword"]),g.bound=!0,!$B._globals[d.id]||void 0===$B._globals[d.id][g.value])){var h=$get_node(this);h.bound_before=$B.keys($B.bound[d.id]),$B.bound[d.id][g.value]=!0}}this.guess_type=function(){if("expr"==this.tree[0].type&&"id"==this.tree[0].tree[0].type)$set_type(d,this.tree[0],this.tree[1]);else if("assign"==this.tree[0].type){var a=(this.tree[0].tree[0].tree[0],this.tree[0].tree[1].tree[0]);$set_type(d,a,this.tree[1].tree[0]),this.tree[0].guess_type()}},this.toString=function(){return"(assign) "+this.tree[0]+"="+this.tree[1]},this.transform=function(a,b){for(var c=$get_scope(this),d=this.tree[0];"assign"===d.type;){var e=new $Node,f=new $NodeCtx(e);f.tree=[d],a.parent.insert(b+1,e),this.tree[0]=d.tree[1],d=this.tree[0]}var g=null;switch(d.type){case"expr":if(d.tree.length>1)g=d.tree;else if("list_or_tuple"===d.tree[0].type||"target_list"===d.tree[0].type)g=d.tree[0].tree;else if("id"==d.tree[0].type){var h=d.tree[0].value;$B._globals&&$B._globals[c.id]&&$B._globals[c.id][h]||(d.tree[0].bound=!0)}break;case"target_list":case"list_or_tuple":g=d.tree}if(null!==g){var i=this.tree[1],j=null;if(("list"===i.type||"tuple"===i.type||"expr"===i.type&&i.tree.length>1)&&(j=i.tree),null!==j){if(j.length>g.length)throw Error("ValueError : too many values to unpack (expected "+g.length+")");if(j.length<g.length)throw Error("ValueError : need more than "+j.length+" to unpack");var k=[],l=0,e=new $Node;new $NodeJSCtx(e,"void(0)"),k[l++]=e;var m="$temp"+$loop_num,e=new $Node;new $NodeJSCtx(e,"var "+m+"=[], $pos=0"),k[l++]=e;for(var n=0;n<j.length;n++){var o=m+"[$pos++]="+j[n].to_js(),e=new $Node;new $NodeJSCtx(e,o),k[l++]=e}for(var n=0;n<g.length;n++){var e=new $Node;e.id=$get_node(this).module;var p=new $NodeCtx(e);g[n].parent=p;var q=new $AssignCtx(g[n],!1);q.tree[1]=new $JSCode(m+"["+n+"]"),k[l++]=e}a.parent.children.splice(b,1);for(var n=k.length-1;n>=0;n--)a.parent.insert(b,k[n]);$loop_num++}else{var e=new $Node;e.line_num=a.line_num;var o="var $right"+$loop_num+"=getattr";o+="(iter("+i.to_js()+'),"__next__");',new $NodeJSCtx(e,o);var k=[e],l=1,r=new $Node,m="$rlist"+$loop_num;o="var "+m+"=[], $pos=0;",o+="while(1){try{"+m+"[$pos++]=$right",o+=$loop_num+"()}catch(err){break}};",new $NodeJSCtx(r,o),k[l++]=r;for(var s=null,n=0;n<g.length;n++){var t=g[n];if("packed"==t.type||"expr"==t.type&&"packed"==t.tree[0].type){s=n;break}}var u=new $Node,v=g.length;if(null!==s&&v--,o="if($rlist"+$loop_num+".length<"+v+")",o+='{throw ValueError("need more than "+$rlist'+$loop_num,o+='.length+" value" + ($rlist'+$loop_num+".length>1 ?",o+=' "s" : "")+" to unpack")}',new $NodeJSCtx(u,o),k[l++]=u,null==s){var u=new $Node,v=g.length;o="if($rlist"+$loop_num+".length>"+v+")",o+='{throw ValueError("too many values to unpack ',o+="(expected "+g.length+')")}',new $NodeJSCtx(u,o),k[l++]=u}for(var n=0;n<g.length;n++){var e=new $Node;e.id=c.id;var p=new $NodeCtx(e);g[n].parent=p;var q=new $AssignCtx(g[n],!1),o="$rlist"+$loop_num;null==s||n<s?o+="["+n+"]":n==s?(o+=".slice("+n+",$rlist"+$loop_num+".length-",o+=g.length-n-1+")"):o+="[$rlist"+$loop_num+".length-"+(g.length-n)+"]",q.tree[1]=new $JSCode(o),k[l++]=e}a.parent.children.splice(b,1);for(var n=k.length-1;n>=0;n--)a.parent.insert(b,k[n]);$loop_num++}}},this.to_js=function(){if(this.js_processed=!0,"call"===this.parent.type)return'{$nat:"kw",name:'+this.tree[0].to_js()+",value:"+this.tree[1].to_js()+"}";var a=this.tree[0];"expr"===a.type&&(a=a.tree[0]);var b=this.tree[1];if("attribute"==a.type||"sub"==a.type){var c=($get_node(this),b.to_js()),d="",e="",f="$temp"+$loop_num;if("expr"!=b.type||void 0===b.tree[0]||"call"!=b.tree[0].type||"eval"!=b.tree[0].func.value&&"exec"!=b.tree[0].func.value?"expr"==b.type&&void 0!==b.tree[0]&&"sub"==b.tree[0].type?(d+="var "+f+"="+c+";\n",e=f):e=c:(d+="var "+f+"="+c+";\n",e=f),"attribute"===a.type)return $loop_num++,a.func="setattr",d+=a.to_js(),a.func="getattr",d=d.substr(0,d.length-1),d+","+e+");None;";if("sub"===a.type){var g,h=a.value.to_js(),i="$temp"+$loop_num;"id"==a.value.type&&(g=$get_node(this).locals[a.value.value]),$loop_num++;var d="var "+i+"="+h+"\n";return"list"!==g&&(d+="if(Array.isArray("+i+") && !"+i+".__class__){"),1==a.tree.length?d+="$B.set_list_key("+i+","+(a.tree[0].to_js()+""||"null")+","+b.to_js()+")":2==a.tree.length?d+="$B.set_list_slice("+i+","+(a.tree[0].to_js()+""||"null")+","+(a.tree[1].to_js()+""||"null")+","+b.to_js()+")":3==a.tree.length&&(d+="$B.set_list_slice_step("+i+","+(a.tree[0].to_js()+""||"null")+","+(a.tree[1].to_js()+""||"null")+","+(a.tree[2].to_js()+""||"null")+","+b.to_js()+")"),"list"==g?d:(d+="\n}else{",1==a.tree.length?(d+="$B.$setitem("+a.value.to_js(),d+=","+a.tree[0].to_js()+","+c+")};None;"):(a.func="setitem",d+=a.to_js(),d=d.substr(0,d.length-1),a.func="getitem",d+=","+c+")};None;"),d)}}return a.to_js()+"="+b.to_js()}}function $AttrCtx(a){this.type="attribute",this.value=a.tree[0],this.parent=a,a.tree.pop(),a.tree[a.tree.length]=this,this.tree=[],this.func="getattr",this.toString=function(){return"(attr) "+this.value+"."+this.name},this.to_js=function(){return this.js_processed=!0,this.func+"("+this.value.to_js()+',"'+this.name+'")'}}function $AugmentedAssignCtx(a,b){this.type="augm_assign",this.parent=a.parent,a.parent.tree.pop(),a.parent.tree[a.parent.tree.length]=this,this.op=b,this.tree=[a];var c=this.scope=$get_scope(this);if("expr"==a.type&&"id"==a.tree[0].type){var d=a.tree[0].value;noassign[d]===!0?$_SyntaxError(a,["can't assign to keyword"]):"def"!=c.ntype&&"generator"!=c.ntype||void 0!==$B.bound[c.id][d]||void 0!==c.globals&&c.globals.indexOf(d)!=-1||(a.tree[0].unbound=!0)}$get_node(this).bound_before=$B.keys($B.bound[c.id]),this.module=c.module,this.toString=function(){return"(augm assign) "+this.tree},this.transform=function(c,d){var e="__"+$operators[b]+"__",f=0,g=c.parent,h=c.line_num,i=!1;g.children.splice(d,1);var j="expr"==this.tree[0].type&&"id"==this.tree[0].tree[0].type;if(j)var k=this.tree[0].tree[0].value,l=void 0!==$B.bound[this.scope.id][k],m=this.tree[0].tree[0].unbound;var n="expr"==this.tree[1].type&&"int"==this.tree[1].tree[0].type,o=n?this.tree[1].tree[0].to_js():"$temp";if(!n){var p=new $Node;p.line_num=h,i=!0,new $NodeJSCtx(p,"var $temp,$left;"),g.insert(d,p),f++;var p=new $Node;p.id=this.scope.id;var q=new $NodeCtx(p),r=new $ExprCtx(q,"js",!1),s=new $RawJSCtx(r,"$temp"),t=new $AssignCtx(r);t.tree[1]=this.tree[1],s.parent=t,g.insert(d+f,p),f++}var u="",v=!1;switch(b){case"+=":case"-=":case"*=":case"/=":if(j){var u,w=this.scope,x=("$local_"+w.id.replace(/\./g,"_"),"$local_"+w.module.replace(/\./g,"_"));switch(w.ntype){case"module":u=x;break;case"def":case"generator":u=w.globals&&w.globals.indexOf(a.tree[0].value)>-1?x:"$locals";break;case"class":var p=new $Node;i||(p.line_num=h,i=!0),new $NodeJSCtx(p,"var $left="+a.to_js()),g.insert(d+f,p),v=!0,f++}}}var y=a.tree[0].to_js();u=u&&!a.tree[0].unknown_binding&&void 0===m;var z=b.charAt(0);if(u){var A=v?"$left":y,p=new $Node;i||(p.line_num=h,i=!0),D=n?"if(":'if(typeof $temp.valueOf()=="number" && ',D+=A+".constructor===Number",D+="&& "+y+z+o+">$B.min_int && "+y+z+o+"< $B.max_int){",D+=n?"(":'(typeof $temp=="number" && ',D+="typeof "+A+'=="number") ? ',D+=y+b+o,D+=" : ("+A+".constructor===Number ? ",D+=y+"=float("+y+z,D+=n?o:o+".valueOf()",D+=") : "+y+b,D+=n?o:o+".valueOf()",D+=")}",new $NodeJSCtx(p,D),g.insert(d+f,p),f++}var B={"+=":"add","-=":"sub","*=":"mul"};if("sub"==a.tree[0].type&&("+="==b||"-="==b||"*="==b)&&1==a.tree[0].tree.length){var C="$B.augm_item_"+B[b]+"(";C+=a.tree[0].value.to_js(),C+=","+a.tree[0].tree[0].to_js()+",",C+=o+");None;";var p=new $Node;return i||(p.line_num=h,i=!0),new $NodeJSCtx(p,C),g.insert(d+f,p),void f++}var p=new $Node;i||(p.line_num=h,i=!0);var D="";u&&(D+="else "),D+="if(!hasattr("+a.to_js()+',"'+e+'"))',new $NodeJSCtx(p,D),g.insert(d+f,p),f++;var E=new $Node;E.id=this.scope.id;var F=new $NodeCtx(E),G=new $ExprCtx(F,"clone",!1);if(m)new $RawJSCtx(G,'$locals["'+k+'"]');else{G.tree=a.tree;for(var H=0;H<G.tree.length;H++)G.tree[H].parent=G}var I=new $AssignCtx(G),J=new $OpCtx(G,b.substr(0,b.length-1));J.parent=I,new $RawJSCtx(J,o),I.tree.push(J),G.parent.tree.pop(),G.parent.tree.push(I),p.add(E);var K=new $Node;new $NodeJSCtx(K,"else"),g.insert(d+f,K);var L=new $Node,M="getattr("+a.to_js()+',"'+e+'")('+o+")";return new $NodeJSCtx(L,M),K.add(L),!j||l||this.scope.blurred||($B.bound[this.scope.id][k]=void 0),f},this.to_js=function(){return""}}function $BodyCtx(a){for(var b=a.parent;"node"!==b.type;)b=b.parent;var c=b.node,d=new $Node;return d.line_num=c.line_num,c.insert(0,d),new $NodeCtx(d)}function $BreakCtx(a){this.type="break",this.toString=function(){return"break "},this.parent=a,a.tree[a.tree.length]=this;for(var b=a;"node"!==b.type;)b=b.parent;for(var c=b.node,d=c.parent,e=!1;;)if("module"===d.type)$_SyntaxError(a,"break outside of a loop");else{var f=d.context.tree[0];if("condition"===f.type&&"while"===f.token){this.loop_ctx=f,f.has_break=!0;break}switch(f.type){case"for":this.loop_ctx=f,f.has_break=!0,e=!0;break;case"def":case"generator":case"class":$_SyntaxError(a,"break outside of a loop");default:d=d.parent}if(e)break}this.to_js=function(){this.js_processed=!0;var a=$get_scope(this),b=";$locals_"+a.id.replace(/\./g,"_");return b+'["$no_break'+this.loop_ctx.loop_num+'"]=false;break;'}}function $CallArgCtx(a){this.type="call_arg",this.toString=function(){return"call_arg "+this.tree},this.parent=a,this.start=$pos,this.tree=[],a.tree[a.tree.length]=this,this.expect="id",this.to_js=function(){return this.js_processed=!0,$to_js(this.tree)}}function $CallCtx(a){this.type="call",this.func=a.tree[0],void 0!==this.func&&(this.func.parent=this),this.parent=a,"class"!=a.type?(a.tree.pop(),a.tree[a.tree.length]=this):a.args=this,this.expect="id",this.tree=[],this.start=$pos,this.toString=function(){return"(call) "+this.func+"("+this.tree+")"},this.to_js=function(){this.js_processed=!0,this.tree.length>0&&0==this.tree[this.tree.length-1].tree.length&&this.tree.pop();var a=this.func.to_js();if(void 0!==this.func){switch(this.func.value){case"classmethod":return"classmethod("+$to_js(this.tree)+")";case"$$super":if(0==this.tree.length){var b=$get_scope(this);if("def"==b.ntype||"generator"==b.ntype){var c=$get_scope(b.context.tree[0]);"class"==c.ntype&&new $IdCtx(this,c.context.tree[0].name)}}if(1==this.tree.length){var b=$get_scope(this);if("def"==b.ntype||"generator"==b.ntype){var d=b.context.tree[0].args;d.length>0&&new $IdCtx(this,d[0])}}break;default:if("unary"==this.func.type)switch(this.func.op){case"+":return"getattr("+$to_js(this.tree)+',"__pos__")()';case"-":return"getattr("+$to_js(this.tree)+',"__neg__")()';case"~":return"getattr("+$to_js(this.tree)+',"__invert__")()'}}var e=!1;if($B.async_enabled){var b=$get_scope(this.func);void 0===$B.block[b.id]||$B.block[b.id][this.func.value]&&(e=!0)}for(var f=[],g=[],h=null,i=null,j=0;j<this.tree.length;j++){var k,l=this.tree[j];switch(l.type){case"star_arg":h=l.tree[0].tree[0].to_js();break;case"double_star_arg":i=l.tree[0].tree[0].to_js();break;case"id":f.push(l.to_js());break;default:switch(void 0===l.tree[0]?console.log("bizarre",l):k=l.tree[0].type,k){case"expr":f.push(l.to_js());break;case"kwarg":g.push(l.tree[0].tree[0].value+":"+l.tree[0].tree[1].to_js());break;case"list_or_tuple":case"op":f.push(l.to_js());break;case"star_arg":h=l.tree[0].tree[0].to_js();break;case"double_star_arg":i=l.tree[0].tree[0].to_js();break;default:f.push(l.to_js())}}}var m=f.join(", ");h&&(m="$B.extend_list("+m,f.length>0&&(m+=","),m+="_b_.list("+h+"))");var n="{"+g.join(", ")+"}";if(i?(n='{$nat:"kw",kw:$B.extend("'+this.func.value+'",'+n,n+=","+i+")}"):n="{}"!==n?'{$nat:"kw",kw:'+n+"}":"",h&&n?m+=".concat(["+n+"])":m&&n?m+=","+n:m||(m=n),m=h?".apply(null,"+m+")":"("+m+")",$B.debug>0){var o="";return e&&(o="@@;$B.execution_object.$append($jscode, 10); ",o+="$B.execution_object.$execute_next_segment(); ",o+="$jscode=@@"),o+="getattr("+a+',"__call__")',o+m}if(this.tree.length>-1){if("id"==this.func.type){if(this.func.is_builtin){if(void 0!==$B.builtin_funcs[this.func.value])return a+m}else{var p=this.func.found;if(p&&("class"==p.type||"def"==p.type))return a+m}var o="("+a+".$is_func ? ";o+=a+" : ",o+="getattr("+a+',"__call__"))'+m}else var o="getattr("+a+',"__call__")'+m;return o}return"getattr("+a+',"__call__")()'}}}function $ClassCtx(a){this.type="class",this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.expect="id",this.toString=function(){return"(class) "+this.name+" "+this.tree+" args "+this.args};var b=this.scope=$get_scope(this);this.parent.node.parent_block=b,this.parent.node.bound={},this.set_name=function(c){this.random=$B.UUID(),this.name=c,this.id=a.node.module+"_"+c+"_"+this.random,$B.bound[this.id]={},$B.type[this.id]={},$B.async_enabled&&($B.block[this.id]={}),$B.modules[this.id]=this.parent.node,this.parent.node.id=this.id;for(var d=b;d.context&&"class"==d.context.tree[0].type;)d=d.parent;for(;d.context&&"def"!=d.context.tree[0].type&&"generator"!=d.context.tree[0].type;)d=d.parent;this.parent.node.parent_block=d,$B.bound[this.scope.id][c]=this,$B.type[this.scope.id][c]="class",b.is_function&&b.context.tree[0].locals.indexOf(c)==-1&&b.context.tree[0].locals.push(c)},this.transform=function(a,b){this.doc_string=$get_docstring(a);var c=new $Node,d="$locals_"+this.id.replace(/\./g,"_"),e=";var "+d+"={}";e+=", $locals = "+d+";",new $NodeJSCtx(c,e),a.insert(0,c);var f=new $Node;new $NodeJSCtx(f,"return "+d+";"),a.insert(a.children.length,f);var g=new $Node;new $NodeJSCtx(g,")();"),a.parent.insert(b+1,g);var h=$get_scope(this),i=";$locals_"+h.id.replace(/\./g,"_");if(i+='["'+this.name+'"]',"FF"==this.name)var e=[i+'=$B.$class_constructor1("'+this.name],j=1;else var e=[i+'=$B.$class_constructor("'+this.name],j=1;if(e[j++]='",$'+this.name+"_"+this.random,void 0!==this.args){for(var k=this.args.tree,l=[],m=[],n=0;n<k.length;n++){var o=k[n];"kwarg"==o.tree[0].type?m.push(o.tree[0]):l.push(o.to_js())}e[j++]=",tuple(["+l.join(",")+"]),[";for(var p=new RegExp('"',"g"),q=[],r=0,n=0;n<l.length;n++)q[r++]='"'+l[n].replace(p,'\\"')+'"';e[j++]=q.join(",")+"]",q=[],r=0;for(var n=0;n<m.length;n++){var o=m[n];q[r++]='["'+o.tree[0].value+'",'+o.tree[1].to_js()+"]"}e[j++]=",["+q.join(",")+"]"}else e[j++]=",tuple([]),[],[]";e[j++]=")";var s=new $Node;new $NodeJSCtx(s,e.join("")),b++,a.parent.insert(b+1,s),b++;var t=new $Node;e=i+".$dict.__doc__=",e+=(this.doc_string||"None")+";",new $NodeJSCtx(t,e),a.parent.insert(b+1,t),b++,e=i+".$dict.__module__=$locals_"+$get_module(this).module.replace(/\./g,"_")+".__name__";var u=new $Node;if(new $NodeJSCtx(u,e),a.parent.insert(b+1,u),"module"===h.ntype){var v=new $Node;new $NodeJSCtx(v,'$locals["'+this.name+'"]='+this.name)}var w=new $Node;new $NodeJSCtx(w,"None;"),a.parent.insert(b+2,w),this.transformed=!0},this.to_js=function(){return this.js_processed=!0,"var $"+this.name+"_"+this.random+"=(function()"}}function $CompIfCtx(a){this.type="comp_if",a.parent.intervals.push($pos),this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.toString=function(){return"(comp if) "+this.tree},this.to_js=function(){return this.js_processed=!0,$to_js(this.tree)}}function $ComprehensionCtx(a){this.type="comprehension",this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.toString=function(){return"(comprehension) "+this.tree},this.to_js=function(){this.js_processed=!0;for(var a=[],b=0,c=0;c<this.tree.length;c++)a[b++]=this.tree[c].start;return a}}function $CompForCtx(a){this.type="comp_for",a.parent.intervals.push($pos),this.parent=a,this.tree=[],this.expect="in",a.tree[a.tree.length]=this,this.toString=function(){return"(comp for) "+this.tree},this.to_js=function(){return this.js_processed=!0,$to_js(this.tree)}}function $CompIterableCtx(a){this.type="comp_iterable",this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.toString=function(){return"(comp iter) "+this.tree},this.to_js=function(){return this.js_processed=!0,$to_js(this.tree)}}function $ConditionCtx(a,b){this.type="condition",this.token=b,this.parent=a,this.tree=[],"while"===b&&(this.loop_num=$loop_num++),a.tree[a.tree.length]=this,this.toString=function(){return this.token+" "+this.tree},this.transform=function(a,b){var c=$get_scope(this);if("while"==this.token){"generator"==c.ntype&&(this.parent.node.loop_start=this.loop_num);var d=new $Node,e='$locals["$no_break'+this.loop_num+'"]=true';return new $NodeJSCtx(d,e),a.parent.insert(b,d),2}},this.to_js=function(){this.js_processed=!0;var a=this.token;"elif"===a&&(a="else if");var b=[a+"(bool("];if("while"==a){if(__BRYTHON__.loop_timeout){var c="\n"+" ".repeat($get_node(this).indent),d=c+" ".repeat(4),e=this.loop_num,f=c+"var $time"+e+" = new Date()"+c+"function $test_timeout"+e+"()"+d+"{if((new Date())-$time"+e+">"+1e3*__BRYTHON__.loop_timeout+'){throw _b_.RuntimeError("script timeout")}'+d+"return true"+c+"}\n";b.splice(0,0,f),b.push("$test_timeout"+e+"() && ")}b.push('$locals["$no_break'+this.loop_num+'"] && ')}return 1==this.tree.length?b.push($to_js(this.tree)+"))"):(b.push(this.tree[0].to_js()+"))"),this.tree[1].tree.length>0&&b.push("{"+this.tree[1].to_js()+"}")),b.join("")}}function $ContinueCtx(a){this.type="continue",this.parent=a,a.tree[a.tree.length]=this,this.toString=function(){return"(continue)"},this.to_js=function(){return this.js_processed=!0,"continue"}}function $DebuggerCtx(a){this.type="continue",this.parent=a,a.tree[a.tree.length]=this,this.toString=function(){return"(debugger)"},this.to_js=function(){return this.js_processed=!0,"debugger"}}function $DecoratorCtx(a){this.type="decorator",this.parent=a,a.tree[a.tree.length]=this,this.tree=[],this.toString=function(){return"(decorator) "+this.tree},this.transform=function(b,c){for(var d=c+1,e=b.parent.children,f=[this.tree];;)if(d>=e.length)$_SyntaxError(a,["decorator expects function"]);else if("node_js"==e[d].context.type)d++;else{if("decorator"!==e[d].context.tree[0].type)break;f.push(e[d].context.tree[0].tree),e.splice(d,1)}this.dec_ids=[];for(var g=0,h=0;h<f.length;h++)this.dec_ids[g++]="$id"+$B.UUID();if($B.async_enabled)for(var i=!1,h=0;h<f.length;h++)try{var j=f[h][0].tree[0].value;"brython_block"!=j&&"brython_async"!=j||(i=!0)}catch(a){console.log(h),console.log(f[h][0])}var k=e[d].context.tree[0];"def"==k.type&&(k.decorated=!0,k.alias="$dec"+$B.UUID());for(var l=(e[d].context,""),m=$get_scope(this),n='$locals["'+k.name+'"]',o=n+"=",h=0;h<f.length;h++)o+=this.dec_ids[h]+"(",l+=")";o+=(k.decorated?k.alias:n)+l+";",$B.bound[m.id][k.name]=!0;var p=new $Node;new $NodeJSCtx(p,o),b.parent.insert(d+1,p),this.decorators=f,$B.async_enabled&&i&&(void 0===$B.block[m.id]&&($B.block[m.id]={}),$B.block[m.id][k.name]=!0)},this.to_js=function(){if($B.async_enabled&&void 0!==this.processing)return"";this.js_processed=!0;for(var a=[],b=0,c=0;c<this.decorators.length;c++)a[b++]="var "+this.dec_ids[c]+"="+$to_js(this.decorators[c])+";";return a.join("")}}function $DefCtx(a){this.type="def",this.name=null,this.parent=a,this.tree=[],this.locals=[],this.yields=[],a.tree[a.tree.length]=this,this.enclosing=[];for(var b=this.scope=$get_scope(this),c=b;c.context&&"class"==c.context.tree[0].type;)c=c.parent;for(;c.context&&"def"!=c.context.tree[0].type&&"generator"!=c.context.tree[0].type;)c=c.parent;this.parent.node.parent_block=c;for(var d=c;d&&d.context;){if("def"==d.context.tree[0].type){this.inside_function=!0;break}d=d.parent_block}this.module=b.module,this.positional_list=[],this.default_list=[],this.other_args=null,this.other_kw=null,this.after_star=[],this.set_name=function(a){var c=new $IdCtx(this,a);this.name=a,this.id=this.scope.id+"_"+a,this.id=this.id.replace(/\./g,"_"),this.id+="_"+$B.UUID(),this.parent.node.id=this.id,this.parent.node.module=this.module,$B.modules[this.id]=this.parent.node,$B.bound[this.id]={},$B.type[this.id]={},$B.bound[this.scope.id][a]=this;try{$B.type[this.scope.id][a]="function"}catch(a){console.log(a,this.scope.id)}c.bound=!0,b.is_function&&b.context.tree[0].locals.indexOf(a)==-1&&b.context.tree[0].locals.push(a)},this.toString=function(){return"def "+this.name+"("+this.tree+")"},this.transform=function(a,b){if(void 0===this.transformed){var c=this.scope,d=this.parent.node;for("func"==this.name.substr(0,4);d&&d.context;){if("def"==d.context.tree[0].type){this.inside_function=!0;break}d=d.parent}this.doc_string=$get_docstring(a),this.rank=b;var e=(this.parent.node.globals,a.indent+16);$ws(e);if(this.name.substr(0,15)=="lambda_"+$B.lambda_magic){var f=$B.modules[c.id].parent_block;f.context&&"def"==f.context.tree[0].type&&this.enclosing.push(f)}for(var g=this.parent.node;g.parent&&g.parent.is_def_func;)this.enclosing.push(g.parent.parent),g=g.parent.parent;var h=[],i=0,j=0,k=[],l=0;this.argcount=0,this.kwonlyargcount=0,this.varnames={},this.args=[],this.__defaults__=[],this.slots=[];var m=[],n=[];this.annotation&&n.push('"return":'+this.annotation.to_js());for(var o=this.tree[1].tree,p=0;p<o.length;p++){var q=o[p];this.args[i++]=q.name,this.varnames[q.name]=!0,"func_arg_id"===q.type?(this.star_arg?this.kwonlyargcount++:this.argcount++,this.slots.push(q.name+":null"),m.push('"'+q.name+'"'),q.tree.length>0&&(h[j++]='"'+q.name+'"',k[l++]=q.name+":"+$to_js(q.tree),this.__defaults__.push($to_js(q.tree)))):"func_star_arg"==q.type&&("*"==q.op?this.star_arg=q.name:"**"==q.op&&(this.kw_arg=q.name)),q.annotation&&n.push(q.name+": "+q.annotation.to_js())}var r=67;this.star_arg&&(r|=4),this.kw_arg&&(r|=8),"generator"==this.type&&(r|=32);for(var s=[],t=[],u=0,p=0,v=this.positional_list.length;p<v;p++)s[u]='"'+this.positional_list[p]+'"',t[u++]=this.positional_list[p]+":null";s=s.join(","),t="{"+t.join(",")+"}";for(var w=[],u=0,p=0;p<this.default_list.length;p++)w[u++]=this.default_list[p]+":null";w="{"+w.join(",")+"}";var x,y=[],z=c;for(void 0===z.parent_block&&(alert("undef "+z),console.log(z));"__builtins__"!==z.parent_block.id;)z=z.parent_block;var A="$locals_"+z.id.replace(/\./g,"_"),B="$locals_"+this.id;x="var "+B+"={}, ",x+='$local_name="'+this.id+'",$locals='+B+";";var C=new $Node;C.locals_def=!0,new $NodeJSCtx(C,x),y.push(C);var D=new $Node,x=(y.length,';$B.enter_frame([$local_name, $locals,"'+z.id+'", '+A+"]);");D.enter_frame=!0,new $NodeJSCtx(D,x),y.push(D),this.env=[];var E=[],x=("$locals_"+c.id.replace(/\./g,"_")+'["'+this.name+'"]','var $ns = $B.args("'+this.name+'", ');x+=this.argcount+", {"+this.slots.join(", ")+"}, ",x+="["+m.join(", ")+"], ",x+="arguments, ",x+=k.length?"$defaults, ":"{}, ",x+=this.other_args+", "+this.other_kw+");";var C=new $Node;new $NodeJSCtx(C,x),E.push(C);var C=new $Node;new $NodeJSCtx(C,"for(var $var in $ns){$locals[$var]=$ns[$var]};"),E.push(C);var F=!1;if(0==h.length&&null===this.other_args&&null===this.other_kw&&0==this.after_star.length){F=!0;if($B.debug>0||this.positional_list.length>0){var C=new $Node,x="if(arguments.length>0 && arguments[arguments.length-1].$nat)";new $NodeJSCtx(C,x),y.push(C),C.add(E[0]),C.add(E[1]);var G=new $Node;new $NodeJSCtx(G,"else"),y.push(G)}if($B.debug>0){var H=this.positional_list.length;x="if(arguments.length!="+H+")";var I=new $Node;new $NodeJSCtx(I,x),G.add(I),H>0?(x="if(arguments.length<"+H+")",x+="{var $missing="+H+"-arguments.length;",x+='throw TypeError("'+this.name+'() missing "+$missing+',x+='" positional argument"+($missing>1 ? "s" : "")+": "',x+="+new Array("+s+").slice(arguments.length))}",C=new $Node,new $NodeJSCtx(C,x),I.add(C),x="else if"):x="if",x+="(arguments.length>"+H+")",x+='{throw TypeError("'+this.name+"() takes "+H,x+=" positional argument",x+=H>1?"s":"",x+=' but more were given")}',C=new $Node,new $NodeJSCtx(C,x),I.add(C)}for(var p=0;p<this.positional_list.length;p++){var q=this.positional_list[p],C=new $Node,x='$locals["'+q+'"]=('+q+".is_float ? _b_.float("+q+".value) : "+q+")";x='$locals["'+q+'"]='+q,new $NodeJSCtx(C,x),G.add(C)}}else y.push(E[0]),
y.push(E[1]);for(var p=y.length-1;p>=0;p--)a.children.splice(0,0,y[p]);var J=new $Node;if(F){var K=Object.keys(this.varnames).concat(["$extra"]).join(", ");new $NodeJSCtx(J,"return function("+K+")")}else new $NodeJSCtx(J,"return function()");J.is_def_func=!0,J.module=this.module;for(var p=0;p<a.children.length;p++)J.add(a.children[p]);var L=a.children[a.children.length-1].context.tree[0];"return"!==L.type&&"generator"!=this.type&&J.add($NodeJS("return None")),a.children=[];var M=new $Node,x=";_b_.None;";k.length>0&&(x="var $defaults = {"+k.join(",")+"};"),new $NodeJSCtx(M,x),a.insert(0,M),a.add(J);var N=new $Node;new $NodeJSCtx(N,")();"),a.parent.insert(b+1,N);var O=2;if("generator"===this.type&&!this.declared){for(var P=c,Q=[],u=0;P&&"__builtins__"!==P.id;){var R=P.id.replace(/\./g,"_");P===c?Q[u++]='["'+R+'",$locals]':Q[u++]='["'+R+'",$locals_'+R+"]",P=P.parent_block}var S="["+Q.join(", ")+"]";x="$B.$BRgenerator("+S+',"'+this.name+'","'+this.id+'")';var T=new $Node;T.id=this.module;var U=new $NodeCtx(T),V=new $ExprCtx(U,"id",!1),W=(new $IdCtx(V,this.name),new $AssignCtx(V)),X=new $ExprCtx(W,"id",!1),Y=new $NodeJSCtx(W,x);X.tree.push(Y),a.parent.insert(b+O,T),this.declared=!0,O++}var Z=this.tree[0].to_js();this.decorated&&(Z=this.alias);var e=a.indent;x=Z+".$infos = {";var $=new $Node;new $NodeJSCtx($,x),a.parent.insert(b+O,$),O++,x='    __name__:"',"class"==this.scope.ntype&&(x+=this.scope.context.tree[0].name+"."),x+=this.name+'",';var $=new $Node;new $NodeJSCtx($,x),a.parent.insert(b+O,$),O++;var _=$get_module(this);C=new $Node,new $NodeJSCtx(C,"    __defaults__ : ["+this.__defaults__.join(", ")+"],"),a.parent.insert(b+O,C),O++;var _=$get_module(this);C=new $Node,new $NodeJSCtx(C,'    __module__ : "'+_.module+'",'),a.parent.insert(b+O,C),O++,x="    __doc__: "+(this.doc_string||"None")+",",C=new $Node,new $NodeJSCtx(C,x),a.parent.insert(b+O,C),O++,x="    __annotations__: {"+n.join(",")+"},",C=new $Node,new $NodeJSCtx(C,x),a.parent.insert(b+O,C),O++;for(var aa in $B.bound[this.id])this.varnames[aa]=!0;var ba=[];for(var aa in this.varnames)ba.push('"'+aa+'"');var ca="\n"+" ".repeat(e+8);if(x="    __code__:{"+ca+"__class__:$B.$CodeDict",ca=","+ca,x+=ca+"co_argcount:"+this.argcount,x+=ca+"co_filename:$locals_"+c.module.replace(/\./g,"_")+'["__file__"]',x+=ca+"co_firstlineno:"+a.line_num,x+=ca+"co_flags:"+r,x+=ca+"co_kwonlyargcount:"+this.kwonlyargcount,x+=ca+'co_name: "'+this.name+'"',x+=ca+"co_nlocals: "+ba.length,x+=ca+"co_varnames: ["+ba.join(", ")+"]",x+="}\n};",x+="None;",C=new $Node,new $NodeJSCtx(C,x),a.parent.insert(b+O,C),"def"==this.type){for(var da=D.parent,u=0;u<da.children.length&&da.children[u]!==D;u++);var ea=new $Node,fa=da.children.slice(u+1,da.children.length),U=new $NodeCtx(ea);da.insert(u+1,ea),new $TryCtx(U);for(var p=0;p<fa.length;p++)ea.add(fa[p]);da.children.splice(u+2,da.children.length);var ga=new $Node,U=new $NodeCtx(ga);new $SingleKwCtx(U,"finally"),ga.add($NodeJS("$B.leave_frame($local_name)")),da.add(ga)}return this.transformed=!0,O}},this.to_js=function(a){return this.js_processed=!0,a=a||this.tree[0].to_js(),this.decorated&&(a="var "+this.alias),a+"=(function()"}}function $DelCtx(a){this.type="del",this.parent=a,a.tree[a.tree.length]=this,this.tree=[],this.toString=function(){return"del "+this.tree},this.to_js=function(){if(this.js_processed=!0,"list_or_tuple"==this.tree[0].type){for(var b=[],c=0,d=0;d<this.tree[0].tree.length;d++){var e=new $DelCtx(a);e.tree=[this.tree[0].tree[d]],b[c++]=e.to_js(),a.tree.pop()}return this.tree=[],b.join(";")}var f=this.tree[0].tree[0];$get_scope(this);switch(f.type){case"id":return"delete "+f.to_js()+";";case"list_or_tuple":for(var b=[],c=0,d=0;d<f.tree.length;d++)b[c++]="delete "+f.tree[d].to_js();return b.join(";");case"sub":return f.func="delitem",js=f.to_js(),f.func="getitem",js;case"op":$_SyntaxError(this,["can't delete operator"]);case"call":$_SyntaxError(this,["can't delete function call"]);case"attribute":return"delattr("+f.value.to_js()+',"'+f.name+'")';default:$_SyntaxError(this,["can't delete "+f.type])}}}function $DictOrSetCtx(a){this.type="dict_or_set",this.real="dict_or_set",this.expect="id",this.closed=!1,this.start=$pos,this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.toString=function(){switch(this.real){case"dict":return"(dict) {"+this.items+"}";case"set":return"(set) {"+this.tree+"}"}return"(dict_or_set) {"+this.tree+"}"},this.to_js=function(){switch(this.js_processed=!0,this.real){case"dict":for(var a=[],b=0,c=0;c<this.items.length;c+=2)a[b++]="["+this.items[c].to_js()+","+this.items[c+1].to_js()+"]";return"dict(["+a.join(",")+"])"+$to_js(this.tree);case"set_comp":return"set("+$to_js(this.items)+")"+$to_js(this.tree);case"dict_comp":return"dict("+$to_js(this.items)+")"+$to_js(this.tree)}return"set(["+$to_js(this.items)+"])"+$to_js(this.tree)}}function $DoubleStarArgCtx(a){this.type="double_star_arg",this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.toString=function(){return"**"+this.tree},this.to_js=function(){return this.js_processed=!0,'{$nat:"pdict",arg:'+$to_js(this.tree)+"}"}}function $EllipsisCtx(a){this.type="ellipsis",this.parent=a,this.nbdots=1,a.tree[a.tree.length]=this,this.toString=function(){return"ellipsis"},this.to_js=function(){return this.js_processed=!0,'$B.builtins["Ellipsis"]'}}function $ExceptCtx(a){this.type="except",this.parent=a,a.tree[a.tree.length]=this,this.tree=[],this.expect="id",this.scope=$get_scope(this),this.toString=function(){return"(except) "},this.set_alias=function(a){this.tree[0].alias=a,$B.bound[this.scope.id][a]=!0;try{$B.type[this.scope.id][a]="exception"}catch(a){console.log(a,this.scope.id)}},this.to_js=function(){switch(this.js_processed=!0,this.tree.length){case 0:return"else";case 1:if("Exception"===this.tree[0].name)return"else if(1)"}for(var a=[],b=0,c=0;c<this.tree.length;c++)a[b++]=this.tree[c].to_js();return"else if($B.is_exc("+this.error_name+",["+a.join(",")+"]))"}}function $ExprCtx(a,b,c){this.type="expr",this.name=b,this.with_commas=c,this.expect=",",this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.toString=function(){return"(expr "+c+") "+this.tree},this.to_js=function(a){return this.js_processed=!0,"list"===this.type?"["+$to_js(this.tree)+"]":1===this.tree.length?this.tree[0].to_js(a):"tuple("+$to_js(this.tree)+")"}}function $ExprNot(a){this.type="expr_not",this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.toString=function(){return"(expr_not)"}}function $FloatCtx(a,b){this.type="float",this.value=b,this.toString=function(){return"float "+this.value},this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.to_js=function(){return this.js_processed=!0,"float("+this.value+")"}}function $ForExpr(a){this.type="for",this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.loop_num=$loop_num,this.module=$get_scope(this).module,$loop_num++,this.toString=function(){return"(for) "+this.tree},this.transform=function(a,b){var c=$get_scope(this),d=(c.module,this.tree[0]),e=1==d.tree.length&&"id"==d.expect,f=this.tree[1],g=this.loop_num,h="$locals_"+c.id.replace(/\./g,"_"),i="\n"+" ".repeat(a.indent+4);if(__BRYTHON__.loop_timeout)var j="var $time"+g+" = new Date()"+i+"function $test_timeout"+g+"(){if((new Date())-$time"+g+">"+1e3*__BRYTHON__.loop_timeout+'){throw _b_.RuntimeError("script timeout")}'+i+"return true}";var k=!1;if(1==d.tree.length&&"id"!=d.expct&&"expr"==f.type&&"expr"==f.tree[0].type&&"call"==f.tree[0].tree[0].type){var l=f.tree[0].tree[0];if("id"==l.func.type){var m=l.func.value;"range"==m&&l.tree.length<3&&(k=l)}}var n=[],o=0,p=a.children,q=1;if(k&&"generator"!=c.ntype){this.has_break&&(J=new $Node,new $NodeJSCtx(J,h+'["$no_break'+g+'"]=true'),n[o++]=J);var r=!1;if(!c.blurred){for(var s=$get_scope(this),t=[],u=0;;){if($B.bound[s.id].range&&(t[u++]=s.id),!s.parent_block)break;s=s.parent_block}r=1==t.length&&"__builtins__"==t[0],t==["__builtins__"]&&(r=!0)}var v=new $Node;r?new $NodeJSCtx(v,"if(1)"):new $NodeJSCtx(v,"if("+l.func.to_js()+"===$B.builtins.range)"),n[o++]=v;var w=d.to_js();if(1==k.tree.length)var x=0,y=k.tree[0].to_js();else var x=k.tree[0].to_js(),y=k.tree[1].to_js();var z=w+"="+x+";"+i+"var $stop_"+g+"=$B.int_or_bool("+y+"),"+i+"    $next"+g+"= "+w+","+i+"    $safe"+g+"= typeof $next"+g+'=="number" && typeof $stop_'+g+'=="number";'+i;z+=__BRYTHON__.loop_timeout?j+i+"while($test_timeout"+g+"())":"while(true)";var A=new $Node;new $NodeJSCtx(A,z),A.add($NodeJS("if($safe"+g+" && $next"+g+">= $stop_"+g+"){break}")),A.add($NodeJS("else if(!$safe"+g+" && $B.ge($next"+g+", $stop_"+g+")){break}")),A.add($NodeJS(w+" = $next"+g)),A.add($NodeJS("if($safe"+g+"){$next"+g+"+=1}")),A.add($NodeJS("else{$next"+g+"=$B.add($next"+g+",1)}"));for(var B=0;B<p.length;B++)A.add(p[B].clone());A.add($NodeJS('$locals.line_info="'+a.line_num+","+c.id+'"'));var C=!1;if("module"==c.ntype)for(var D=a.parent;D;){if(D.for_wrapper){C=!0;break}D=D.parent}if("module"!=c.ntype||C)v.add(A);else{var E=new $Node;E.for_wrapper=!0,z="function $f"+g+"(",this.has_break&&(z+="$no_break"+g),z+=")",new $NodeJSCtx(E,z),v.add(E),E.add(A),this.has_break&&(J=new $Node,new $NodeJSCtx(J,"return $no_break"+g),E.add(J));var F=new $Node;if(new $NodeJSCtx(F,"var $res"+g+"=$f"+g+"();"),v.add(F),this.has_break){var G=new $Node;new $NodeJSCtx(G,"$no_break"+g+"=$res"+g),v.add(G)}}if(r){a.parent.children.splice(b,1);var H=0;this.has_break&&(a.parent.insert(b,n[0]),H++);for(var B=n[H].children.length-1;B>=0;B--)a.parent.insert(b+H,n[H].children[B]);return a.parent.children[b].line_num=a.line_num,a.children=[],0}var I=new $Node;new $NodeJSCtx(I,"else"),n[o++]=I;for(var B=n.length-1;B>=0;B--)a.parent.insert(b+1,n[B]);this.test_range=!0,n=[],o=0}var J=new $Node;J.line_num=$get_node(this).line_num;var z='$locals["$next'+g+'"]';z+="=getattr(iter("+f.to_js()+'),"__next__");\n',new $NodeJSCtx(J,z),n[o++]=J,this.has_break&&(J=new $Node,new $NodeJSCtx(J,h+'["$no_break'+g+'"]=true;'),n[o++]=J);var K=new $Node;if(__BRYTHON__.loop_timeout?(z=j+i,z+=this.has_break?"while($test_timeout"+g+"() && "+h+'["$no_break'+g+'"])':"while($test_timeout"+g+"())"):z=this.has_break?"while("+h+'["$no_break'+g+'"])':"while(1)",new $NodeJSCtx(K,z),K.context.loop_num=g,K.context.type="for",K.line_num=a.line_num,"generator"==c.ntype&&(K.loop_start=g),n[o++]=K,a.parent.children.splice(b,1),this.test_range)for(var B=n.length-1;B>=0;B--)I.insert(0,n[B]);else for(var B=n.length-1;B>=0;B--)a.parent.insert(b,n[B]),q+=n.length;var L=new $Node;new $NodeJSCtx(L,"try"),K.add(L);var M=new $Node;M.parent=$get_node(this).parent,M.id=this.module;var N=new $NodeCtx(M),O=new $ExprCtx(N,"left",!0);if(e){var P=new $ListOrTupleCtx(O);P.real="tuple",P.tree=d.tree}else O.tree=d.tree;var Q=new $AssignCtx(O);Q.tree[1]=new $JSCode('$locals["$next'+g+'"]()'),L.add(M);var R=new $Node,z="catch($err){if($B.is_exc($err,[StopIteration]))";z+='{delete $locals["$next'+g+'"];$B.clear_exc();break;}',z+="else{throw($err)}}",new $NodeJSCtx(R,z),K.add(R);for(var B=0;B<p.length;B++)K.add(p[B].clone());return a.children=[],0},this.to_js=function(){this.js_processed=!0;var a=this.tree.pop();return"for "+$to_js(this.tree)+" in "+a.to_js()}}function $FromCtx(a){this.type="from",this.parent=a,this.module="",this.names=[],this.aliases={},a.tree[a.tree.length]=this,this.expect="module",this.scope=$get_scope(this),this.add_name=function(a){this.names[this.names.length]=a,"*"==a&&(this.scope.blurred=!0)},this.transform=function(a,b){if(!this.blocking){var c=this.module.replace(/\$/g,"");if("*"==this.names[0])a.add($NodeJS('for(var $attr in $B.imported["'+c+'"]){if($attr.charAt(0)!=="_"){$locals[$attr]=$B.imported["'+c+'"][$attr]}};'));else for(var d=0;d<this.names.length;d++){var e=this.names[d];a.add($NodeJS('$locals["'+(this.aliases[e]||e)+'"]=$B.imported["'+c+'"]["'+e+'"]'))}for(var d=b+1;d<a.parent.children.length;d++)a.add(a.parent.children[d]);a.parent.children.splice(b+1,a.parent.children.length),a.parent.add($NodeJS(")"))}},this.bind_names=function(){for(var a=$get_scope(this),b=0;b<this.names.length;b++){var c=this.aliases[this.names[b]]||this.names[b];$B.bound[a.id][c]=!0,$B.type[a.id][c]=!1}},this.toString=function(){return"(from) "+this.module+" (import) "+this.names+"(as)"+this.aliases},this.to_js=function(){this.js_processed=!0;for(var a,b=$get_scope(this),c=$get_module(this).module,d=[],e=0,f=$get_node(this).indent,g=" ".repeat(f),h=this.module.replace(/\$/g,""),i=[];h.length>0&&"."==h.charAt(0);){if(void 0===a?void 0!==$B.imported[c]&&(a=$B.imported[c].__package__):a=$B.imported[a],void 0===a)return"throw SystemError(\"Parent module '' not loaded, cannot perform relative import\")";"None"==a?console.log("package is None !"):i.push(a),h=h.substr(1)}h&&i.push(h),this.module=i.join(".");var j=this.module.replace(/\$/g,"");"$locals_"+b.id.replace(/\./g,"_");if(this.blocking){d[e++]='$B.$import("',d[e++]=j+'",["',d[e++]=this.names.join('","')+'"], {';var k="";for(var l in this.aliases)d[e++]=k+'"'+l+'": "'+this.aliases[l]+'"',k=",";if(d[e++]="}, {}, true);","*"==this.names[0])d[e++]="\n"+g+'for(var $attr in $B.imported["'+j+'"]){if($attr.charAt(0)!=="_"){$locals[$attr]=$B.imported["'+j+'"][$attr]}};';else for(var m=0;m<this.names.length;m++){var n=this.names[m];d[e++]="\n"+g+'$locals["'+(this.aliases[n]||n)+'"]=$B.imported["'+j+'"]["'+n+'"];'}d[e++]="\n"+g+"None;"}else d[e++]='$B.$import_non_blocking("'+j+'", function()';return"*"==this.names[0]&&(b.blurred=!0),d.join("")}}function $FuncArgs(a){this.type="func_args",this.parent=a,this.tree=[],this.names=[],a.tree[a.tree.length]=this,this.toString=function(){return"func args "+this.tree},this.expect="id",this.has_default=!1,this.has_star_arg=!1,this.has_kw_arg=!1,this.to_js=function(){return this.js_processed=!0,$to_js(this.tree)}}function $FuncArgIdCtx(a,b){this.type="func_arg_id",this.name=b,this.parent=a,a.has_star_arg?a.parent.after_star.push('"'+b+'"'):a.parent.positional_list.push(b);var c=$get_node(this);$B.bound[c.id][b]&&$_SyntaxError(a,["duplicate argument '"+b+"' in function definition"]),$B.bound[c.id][b]="arg",$B.type[c.id][b]=!1,this.tree=[],a.tree[a.tree.length]=this;for(var d=a;void 0!==d.parent;){if("def"===d.type){d.locals.push(b);break}d=d.parent}this.expect="=",this.toString=function(){return"func arg id "+this.name+"="+this.tree},this.to_js=function(){return this.js_processed=!0,this.name+$to_js(this.tree)}}function $FuncStarArgCtx(a,b){this.type="func_star_arg",this.op=b,this.parent=a,this.node=$get_node(this),a.has_star_arg="*"==b,a.has_kw_arg="**"==b,a.tree[a.tree.length]=this,this.toString=function(){return"(func star arg "+this.op+") "+this.name},this.set_name=function(c){if(this.name=c,"$dummy"!=c){$B.bound[this.node.id][c]&&$_SyntaxError(a,["duplicate argument '"+c+"' in function definition"]),$B.bound[this.node.id][c]="arg",$B.type[this.node.id][c]=!1;for(var d=a;void 0!==d.parent;){if("def"===d.type){d.locals.push(c);break}d=d.parent}"*"==b?d.other_args='"'+c+'"':d.other_kw='"'+c+'"'}}}function $GlobalCtx(a){this.type="global",this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.expect="id",this.toString=function(){return"global "+this.tree},this.scope=$get_scope(this),$B._globals[this.scope.id]=$B._globals[this.scope.id]||{},this.add=function(a){$B._globals[this.scope.id][a]=!0},this.to_js=function(){return this.js_processed=!0,""}}function $IdCtx(a,b){this.type="id",this.toString=function(){return"(id) "+this.value+":"+(this.tree||"")},this.value=b,this.parent=a,this.tree=[],a.tree[a.tree.length]=this,"call_arg"===a.parent.type&&(this.call_arg=!0),this.scope=$get_scope(this),this.blurred_scope=this.scope.blurred,this.env=clone($B.bound[this.scope.id]);for(var c=a;void 0!==c.parent;){switch(c.type){case"list_or_tuple":case"dict_or_set":case"call_arg":case"def":case"lambda":void 0===c.vars?c.vars=[b]:c.vars.indexOf(b)===-1&&c.vars.push(b),this.call_arg&&"lambda"===c.type&&(void 0===c.locals?c.locals=[b]:c.locals.push(b))}c=c.parent}var d=this.scope=$get_scope(this);if(("target_list"==a.type||"packed"==a.type||"expr"==a.type&&"target_list"==a.parent.type)&&($B.bound[d.id][b]=!0,$B.type[d.id][b]=!1,this.bound=!0),"def"==d.ntype||"generator"==d.ntype){for(var e=this.parent;e;){if("list_or_tuple"==e.type&&e.is_comp())return;e=e.parent}if("expr"==a.type&&"comp_if"==a.parent.type)return;"global"==a.type&&(void 0===d.globals?d.globals=[b]:d.globals.indexOf(b)==-1&&d.globals.push(b))}this.to_js=function(a){this.js_processed=!0;var b=this.value,c=void 0!==$B.bound[this.scope.id][b],d=$get_node(this).bound_before;if(this.scope.nonlocals&&void 0!==this.scope.nonlocals[b]&&(this.nonlocal=!0),this.unbound=this.unbound||c&&!this.bound&&d&&d.indexOf(b)==-1,this.unbound&&!this.nonlocal)return"def"==this.scope.ntype||"generator"==this.scope.ntype?'$B.$local_search("'+b+'")':'$B.$search("'+b+'")';if("eval"==b)b="$eval";else if("__BRYTHON__"==b||"$B"==b)return b;for(var e=$get_scope(this),f=e,g=[],h=(f.module,e);h.parent_block&&"__builtins__"!==h.parent_block.id;)h=h.parent_block;for(var i="$locals_"+h.id.replace(/\./g,"_");;){if(void 0===$B.bound[f.id]&&console.log("name "+b+" undef "+f.id),void 0===$B.type[f.id]&&console.log("name "+b+" type undef "+f.id),void 0!==$B._globals[f.id]&&void 0!==$B._globals[f.id][b])return void 0!==$B.bound[h.id][b]||this.bound?i+'["'+b+'"]':'$B.$global_search("'+b+'")';if(f===e){var d=$get_node(this).bound_before;d&&!this.bound?d.indexOf(b)>-1?g.push(f):f.context&&"def"==f.context.tree[0].type&&f.context.tree[0].env.indexOf(b)>-1&&g.push(f):$B.bound[f.id][b]&&g.push(f)}else $B.bound[f.id][b]&&g.push(f);if(!f.parent_block)break;f=f.parent_block}if(this.found=g,this.nonlocal&&g[0]===e&&g.shift(),g.length>0){if(!this.bound&&g[0].context&&g[0]===e&&"$"!=b.charAt(0)){var j=$get_node(this).locals||{},k=e.nonlocals;if(void 0===j[b]&&(void 0===k||void 0===k[b]))return'$B.$local_search("'+b+'")'}if(g.length>1&&g[0].context){if("axd"==b&&(console.log(b,g),!this.bound&&void 0===j[b]))return'$B.$search("'+b+'")';if("class"==g[0].context.tree[0].type&&!this.bound){var l,m="$locals_"+g[0].id.replace(/\./g,"_"),n="$locals_"+g[1].id.replace(/\./g,"_");if(d)return d.indexOf(b)>-1?(this.found=$B.bound[g[0].id][b],l=m):(this.found=$B.bound[g[1].id][b],l=n),l+'["'+b+'"]';this.found=!1;var l=m+'["'+b+'"]!==undefined ? ';return l+=m+'["'+b+'"] : ',l+n+'["'+b+'"]'}}var f=g[0];this.found=$B.bound[f.id][b];var o="$locals_"+f.id.replace(/\./g,"_");if(void 0===f.context)if("__builtins__"==f.id)h.blurred?b="("+i+'["'+b+'"] || '+b+")":this.is_builtin=!0;else if(f.id==f.module){if(!this.bound&&f===e&&void 0===this.env[b]){var j=$get_node(this).locals||{};return void 0===j[b]&&g.length>1&&"__builtins__"==g[1].id?(this.is_builtin=!0,b+$to_js(this.tree,"")):'$B.$search("'+b+'")'}b=o+'["'+b+'"]'}else b=o+'["'+b+'"]';else b=f===e?$B._globals[f.id]&&$B._globals[f.id][b]?i+'["'+b+'"]':'$locals["'+b+'"]':o+'["'+b+'"]';return b+$to_js(this.tree,"")}return this.unknown_binding=!0,'$B.$search("'+b+'")'}}function $ImaginaryCtx(a,b){this.type="imaginary",this.value=b,this.toString=function(){return"imaginary "+this.value},this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.to_js=function(){return this.js_processed=!0,"complex(0,"+this.value+")"}}function $ImportCtx(a){this.type="import",this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.expect="id",this.toString=function(){return"import "+this.tree},this.bind_names=function(){for(var a=$get_scope(this),b=0;b<this.tree.length;b++){if(this.tree[b].name==this.tree[b].alias){var c=this.tree[b].name,d=c.split("."),e=c;d.length>1&&(e=d[0])}else e=this.tree[b].alias;$B.bound[a.id][e]=!0,$B.type[a.id][e]="module"}},this.to_js=function(){this.js_processed=!0;for(var a=$get_scope(this),b=(a.module,[]),c=0,d=0;d<this.tree.length;d++){var e=this.tree[d].name,f=this.tree[d].name==this.tree[d].alias?"{}":'{"'+e+'" : "'+this.tree[d].alias+'"}',g="$locals_"+a.id.replace(/\./g,"_");b[c++]='$B.$import("'+e+'", [],'+f+","+g+", true);"}return b.join("")+"None;"}}function $IMPRTCtx(a){this.type="import",this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.expect="id",this.toString=function(){return"import "+this.tree},this.bind_names=function(){for(var a=$get_scope(this),b=0;b<this.tree.length;b++){if(this.tree[b].name==this.tree[b].alias){var c=this.tree[b].name,d=c.split("."),e=c;d.length>1&&(e=d[0])}else e=this.tree[b].alias;$B.bound[a.id][e]=!0,$B.type[a.id][e]="module"}},this.transform=function(a,b){for(var c=1;c<this.tree.length;c++){var d=new $Node,e=new $IMPRTCtx(new $NodeCtx(d));e.tree=[this.tree[c]],a.parent.insert(b+1,d)}this.tree.splice(1,this.tree.length);var f=this.tree[0].name,g='$locals["'+this.tree[0].alias+'"]= $B.imported["'+f+'"]';a.add($NodeJS(g));for(var c=b+1;c<a.parent.children.length;c++)a.add(a.parent.children[c]);a.parent.children.splice(b+1,a.parent.children.length),a.parent.add($NodeJS(")"))},this.to_js=function(){this.js_processed=!0;for(var a=$get_scope(this),b=(a.module,[]),c=0,d=0;d<this.tree.length;d++){var e=this.tree[d].name;this.tree[d].name==this.tree[d].alias?"{}":'{"'+e+'" : "'+this.tree[d].alias+'"}',"$locals_"+a.id.replace(/\./g,"_");b[c++]='$B.$import_non_blocking("'+e+'", function()'}return b.join("")}}function $ImportedModuleCtx(a,b){this.type="imported module",this.toString=function(){return" (imported module) "+this.name},this.parent=a,this.name=b,this.alias=b,a.tree[a.tree.length]=this,this.to_js=function(){return this.js_processed=!0,'"'+this.name+'"'}}function $IntCtx(a,b){this.type="int",this.value=b,this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.toString=function(){return"int "+this.value},this.to_js=function(){this.js_processed=!0;var a=parseInt(b[1],b[0]);return a>$B.min_int&&a<$B.max_int?a:'$B.LongInt("'+b[1]+'", '+b[0]+")"}}function $JSCode(a){this.js=a,this.toString=function(){return this.js},this.to_js=function(){return this.js_processed=!0,this.js}}function $KwArgCtx(a){this.type="kwarg",this.parent=a.parent,this.tree=[a.tree[0]],a.parent.tree.pop(),a.parent.tree.push(this);var b=this.tree[0].value,c=a.parent.parent;void 0===c.kwargs?c.kwargs=[b]:c.kwargs.indexOf(b)===-1?c.kwargs.push(b):$_SyntaxError(a,["keyword argument repeated"]);$get_scope(this);this.toString=function(){return"kwarg "+this.tree[0]+"="+this.tree[1]},this.to_js=function(){this.js_processed=!0;var a=this.tree[0].value;"$$"==a.substr(0,2)&&(a=a.substr(2));var b='{$nat:"kw",name:"'+a+'",';return b+"value:"+$to_js(this.tree.slice(1,this.tree.length))+"}"}}function $LambdaCtx(a){this.type="lambda",this.parent=a,a.tree[a.tree.length]=this,this.tree=[],this.args_start=$pos+6,this.vars=[],this.locals=[],this.toString=function(){return"(lambda) "+this.args_start+" "+this.body_start},this.to_js=function(){this.js_processed=!0;var a=$get_module(this),b=$B.$py_src[a.id],c=new RegExp('"',"g"),d=b.substring(this.args_start,this.body_start).replace(c,'\\"'),e=b.substring(this.body_start+1,this.body_end).replace(c,'\\"');e=e.replace(/\n/g," ");for(var f=$get_scope(this),g=f,h=[],i=0;g&&"__builtins__"!==g.id;)h[i++]='["'+g.id+'",$locals_'+g.id.replace(/\./g,"_")+"]",g=g.parent_block;var j="["+h.join(", ")+"]";return"$B.$lambda("+j+',"'+d+'","'+e+'")'}}function $ListOrTupleCtx(a,b){this.type="list_or_tuple",this.start=$pos,this.real=b,this.expect="id",this.closed=!1,this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.toString=function(){switch(this.real){case"list":return"(list) ["+this.tree+"]";case"list_comp":case"gen_expr":return"("+this.real+") ["+this.intervals+"-"+this.tree+"]";default:return"(tuple) ("+this.tree+")"}},this.is_comp=function(){switch(this.real){case"list_comp":case"gen_expr":case"dict_or_set_comp":return!0}return!1},this.get_src=function(){for(var a=$get_scope(this),b=a.id;void 0===$B.$py_src[b]&&$B.modules[b].parent_block;)b=$B.modules[b].parent_block.id;return void 0===$B.$py_src[b]?$B.$py_src[a.module]:$B.$py_src[b]},this.ids=function(){for(var a={},b=0;b<this.tree.length;b++){var c=this.tree[b];if("id"==c.type)a[c.value]=!0;else if("expr"==c.type&&"id"==c.tree[0].type)a[c.tree[0].value]=!0;else if("list_or_tuple"==c.type||"expr"==c.type&&"list_or_tuple"==c.tree[0].type){"expr"==c.type&&(c=c.tree[0]);for(var d in c.ids())a[d]=!0}}return a},this.to_js=function(){this.js_processed=!0;for(var a=$get_scope(this),b=a,c=[],d=0;b&&"__builtins__"!==b.id;)b===a?c[d++]='["'+b.id+'",$locals]':c[d++]='["'+b.id+'",$locals_'+b.id.replace(/\./g,"_")+"]",b=b.parent_block;var e="["+c.join(", ")+"]",f=$get_module(this);f.id.replace(/\./g,"_");switch(this.real){case"list":return"$B.$list(["+$to_js(this.tree)+"])";case"list_comp":case"gen_expr":case"dict_or_set_comp":for(var g=this.get_src(),h=[],i=new RegExp('"',"g"),j=1;j<this.intervals.length;j++){for(var k=g.substring(this.intervals[j-1],this.intervals[j]),l=k.split("\n"),m=[],d=0,n=0;n<l.length;n++){var k=l[n];0!=k.replace(/ /g,"").length&&(k=k.replace(/\n/g," "),k=k.replace(/\\/g,"\\\\"),k=k.replace(i,'\\"'),m[d++]='"'+k+'"')}h.push("["+m.join(",")+"]")}switch(this.real){case"list_comp":return"$B.$list_comp("+e+","+h+")";case"dict_or_set_comp":return 1===this.expression.length?"$B.$gen_expr("+e+","+h+")":"$B.$dict_comp("+e+","+h+")"}return"$B.$gen_expr("+e+","+h+")";case"tuple":return 1===this.tree.length&&void 0===this.has_comma?this.tree[0].to_js():"tuple(["+$to_js(this.tree)+"])"}}}function $NodeCtx(a){this.node=a,a.context=this,this.tree=[],this.type="node";for(var b=null,c=a;c.parent&&"module"!==c.parent.type;){var d=c.parent.context.tree[0].type,e=!1;switch(d){case"def":case"class":case"generator":b=c.parent,e=!0}if(e)break;c=c.parent}null==b&&(b=c.parent||c),this.node.locals=clone($B.bound[b.id]),this.toString=function(){return"node "+this.tree},this.to_js=function(){if(this.js_processed=!0,this.tree.length>1){var b=new $Node,c=new $NodeCtx(b);c.tree=[this.tree[1]],b.indent=a.indent+4,this.tree.pop(),a.add(b)}return 0==a.children.length?$to_js(this.tree)+";":$to_js(this.tree)}}function $NodeJS(a){var b=new $Node;return new $NodeJSCtx(b,a),b}function $NodeJSCtx(a,b){this.node=a,a.context=this,this.type="node_js",this.tree=[b],this.toString=function(){return"js "+b},this.to_js=function(){return this.js_processed=!0,b}}function $NonlocalCtx(a){this.type="global",this.parent=a,this.tree=[],this.names={},a.tree[a.tree.length]=this,this.expect="id",this.scope=$get_scope(this),this.scope.nonlocals=this.scope.nonlocals||{},void 0===this.scope.context&&$_SyntaxError(a,["nonlocal declaration not allowed at module level"]),this.toString=function(){return"global "+this.tree},this.add=function(b){"arg"==$B.bound[this.scope.id][b]&&$_SyntaxError(a,["name '"+b+"' is parameter and nonlocal"]),this.names[b]=[!1,$pos],this.scope.nonlocals[b]=!0},this.transform=function(b,c){var d=this.scope.parent_block;if(void 0===d.context)$_SyntaxError(a,["no binding for nonlocal '"+$B.last(Object.keys(this.names))+"' found"]);else{for(;void 0!==d&&void 0!==d.context;){for(var e in this.names)void 0!==$B.bound[d.id][e]&&(this.names[e]=[!0]);d=d.parent_block}for(var e in this.names)this.names[e][0]||(console.log("nonlocal error, context "+a),$pos=this.names[e][1],$_SyntaxError(a,["no binding for nonlocal '"+e+"' found"]))}},this.to_js=function(){return this.js_processed=!0,""}}function $NotCtx(a){this.type="not",this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.toString=function(){return"not ("+this.tree+")"},this.to_js=function(){return this.js_processed=!0,"!bool("+$to_js(this.tree)+")"}}function $OpCtx(a,b){if(this.type="op",this.op=b,this.parent=a.parent,this.tree=[a],this.scope=$get_scope(this),"expr"==a.type)if(["int","float","str"].indexOf(a.tree[0].type)>-1)this.left_type=a.tree[0].type;else if("id"==a.tree[0].type){var c=$B.bound[this.scope.id][a.tree[0].value];c&&(this.left_type=c.type)}a.parent.tree.pop(),a.parent.tree.push(this),this.toString=function(){return"(op "+this.op+") ["+this.tree+"]"},this.to_js=function(){function a(b){if("expr"==b.type&&"int"==b.tree[0].type)return!0;if("expr"==b.type&&"float"==b.tree[0].type)return l=!0,!0;if("expr"==b.type&&"list_or_tuple"==b.tree[0].type&&"tuple"==b.tree[0].real&&1==b.tree[0].tree.length&&"expr"==b.tree[0].tree[0].type)return a(b.tree[0].tree[0].tree[0]);if("expr"==b.type&&"id"==b.tree[0].type){var c=b.tree[0].to_js();return k.indexOf(c)==-1&&k.push(c),!0}if("op"==b.type&&["*","+","-"].indexOf(b.op)>-1){for(var d=0;d<b.tree.length;d++)if(!a(b.tree[d]))return!1;return!0}return!1}function b(a,b){var c;return["int","float","str"].indexOf(b.type)>-1?c=b.type:"id"==b.type&&a[b.value]&&(c=a[b.value].type),c}this.js_processed=!0;var c={"==":"eq","!=":"ne",">=":"ge","<=":"le","<":"lt",">":"gt"};if(void 0!==c[this.op]){var d=c[this.op];if("expr"==this.tree[0].type&&"expr"==this.tree[1].type){var e=this.tree[0].tree[0],f=this.tree[1].tree[0];switch(f.type){case"int":switch(e.type){case"int":return e.to_js()+this.op+f.to_js();case"str":return'$B.$TypeError("unorderable types: int() < str()")';case"id":var g="typeof "+e.to_js()+'=="number" ? ';return g+=e.to_js()+this.op+f.to_js()+" : ",g+="getattr("+this.tree[0].to_js(),g+=',"__'+d+'__")('+this.tree[1].to_js()+")"}break;case"str":switch(e.type){case"str":return e.to_js()+this.op+f.to_js();case"int":return'$B.$TypeError("unorderable types: str() < int()")';case"id":var g="typeof "+e.to_js()+'=="string" ? ';return g+=e.to_js()+this.op+f.to_js()+" : ",g+="getattr("+this.tree[0].to_js(),g+=',"__'+d+'__")('+this.tree[1].to_js()+")"}break;case"id":if("id"==e.type){var g="typeof "+e.to_js()+'!="object" && ';return g+="typeof "+e.to_js()+"==typeof "+f.to_js(),g+=" ? "+e.to_js()+this.op+f.to_js()+" : ",g+="getattr("+this.tree[0].to_js(),g+=',"__'+d+'__")('+this.tree[1].to_js()+")"}}}}switch(this.op){case"and":var g="$B.$test_expr($B.$test_item("+this.tree[0].to_js()+")&&";return g+"$B.$test_item("+this.tree[1].to_js()+"))";case"or":var g="$B.$test_expr($B.$test_item("+this.tree[0].to_js()+")||";return g+"$B.$test_item("+this.tree[1].to_js()+"))";case"in":return"$B.$is_member("+$to_js(this.tree)+")";case"not_in":return"!$B.$is_member("+$to_js(this.tree)+")";case"unary_neg":case"unary_pos":case"unary_inv":var h,d;if("unary_neg"==this.op?(h="-",d="__neg__"):"unary_pos"==this.op?(h="-",d="__pos__"):(h="~",d="__invert__"),"expr"==this.tree[1].type){var i=this.tree[1].tree[0];switch(i.type){case"int":var j=parseInt(i.value[1],i.value[0]);return j>$B.min_int&&j<$B.max_int?h+j:"getattr("+i.to_js()+', "'+d+'")()';case"float":return"float("+h+i.value+")";case"imaginary":return"complex(0,"+h+i.value+")"}}return"getattr("+this.tree[1].to_js()+',"'+d+'")()';case"is":return this.tree[0].to_js()+"==="+this.tree[1].to_js();case"is_not":return this.tree[0].to_js()+"!=="+this.tree[1].to_js();case"*":case"+":case"-":var h=this.op,k=[],l=!1,m=$get_scope(this),n=this.tree[0],o=this.tree[1];if(a(this)){var p=this.tree[0].tree[0],q=this.tree[1].tree[0];if(0!=k.length||l){if(0==k.length)return"new Number("+this.simple_js()+")";var r=$B.bound[m.id],e=b(r,p),f=b(r,q);if("float"==e&&"float"==f||"+"==this.op&&"str"==e&&"str"==f)return this.result_type=e,p.to_js()+this.op+q.to_js();if(["int","float"].indexOf(e)>-1&&["int","float"].indexOf(f)>-1)switch("int"==e&&"int"==f?this.result_type="int":this.result_type="float",this.op){case"+":return"$B.add("+p.to_js()+","+q.to_js()+")";case"-":return"$B.sub("+p.to_js()+","+q.to_js()+")";case"*":return"$B.mul("+p.to_js()+","+q.to_js()+")"}for(var s=[],t=[],u=0,v=0;v<k.length;v++)s[u]="typeof "+k[v]+'.valueOf() == "number"',t[u++]="typeof "+k[v]+' == "number"';var g=[s.join(" && ")+" ? "],u=1;return g[u++]="("+t.join(" && ")+" ? ",g[u++]=this.simple_js(),g[u++]=" : new $B.$FloatClass("+this.simple_js()+")",g[u++]=")","+"==this.op&&(g[u++]=" : (typeof "+this.tree[0].to_js()+'=="string"',g[u++]=" && typeof "+this.tree[1].to_js(),g[u++]='=="string") ? '+this.tree[0].to_js(),g[u++]="+"+this.tree[1].to_js()),g[u++]=": getattr("+this.tree[0].to_js()+',"__',g[u++]=$operators[this.op]+'__")('+this.tree[1].to_js()+")","("+g.join("")+")"}return this.simple_js()}var g="getattr("+n.to_js()+',"__';return g+$operators[this.op]+'__")('+o.to_js()+")";
default:var g="getattr("+this.tree[0].to_js()+',"__';return g+$operators[this.op]+'__")('+this.tree[1].to_js()+")"}},this.simple_js=function(){function a(a){return"op"==a.type?a.simple_js():"expr"==a.type&&"list_or_tuple"==a.tree[0].type&&"tuple"==a.tree[0].real&&1==a.tree[0].tree.length&&"expr"==a.tree[0].tree[0].type?"("+a.tree[0].tree[0].tree[0].simple_js()+")":a.tree[0].to_js()}return"+"==b?"$B.add("+a(this.tree[0])+","+a(this.tree[1])+")":"-"==b?"$B.sub("+a(this.tree[0])+","+a(this.tree[1])+")":"*"==b?"$B.mul("+a(this.tree[0])+","+a(this.tree[1])+")":"/"==b?"$B.div("+a(this.tree[0])+","+a(this.tree[1])+")":a(this.tree[0])+b+a(this.tree[1])}}function $PackedCtx(a){if(this.type="packed","list_or_tuple"==a.parent.type)for(var b=0;b<a.parent.tree.length;b++){var c=a.parent.tree[b];"expr"==c.type&&c.tree.length>0&&"packed"==c.tree[0].type&&$_SyntaxError(a,["two starred expressions in assignment"])}this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.toString=function(){return"(packed) "+this.tree},this.to_js=function(){return this.js_processed=!0,$to_js(this.tree)}}function $PassCtx(a){this.type="pass",this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.toString=function(){return"(pass)"},this.to_js=function(){return this.js_processed=!0,"void(0)"}}function $RaiseCtx(a){this.type="raise",this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.toString=function(){return" (raise) "+this.tree},this.to_js=function(){this.js_processed=!0;var a="";if(0===this.tree.length)return"$B.$raise()";var b=this.tree[0],c=b.to_js();if("id"===b.type||"expr"===b.type&&"id"===b.tree[0].type)return a="if(isinstance("+c+",type)){throw "+c+"()}",a+"else{throw "+c+"}";for(;this.tree.length>1;)this.tree.pop();return a+"throw "+$to_js(this.tree)}}function $RawJSCtx(a,b){this.type="raw_js",a.tree[a.tree.length]=this,this.parent=a,this.toString=function(){return"(js) "+b},this.to_js=function(){return this.js_processed=!0,b}}function $ReturnCtx(a){this.type="return",this.parent=a,this.tree=[],a.tree[a.tree.length]=this;for(var b=$get_node(this);b.parent;){if(b.parent.context&&"for"==b.parent.context.tree[0].type){b.parent.context.tree[0].has_return=!0;break}b=b.parent}this.toString=function(){return"return "+this.tree},this.to_js=function(){this.js_processed=!0,1==this.tree.length&&"abstract_expr"==this.tree[0].type&&(this.tree.pop(),new $IdCtx(new $ExprCtx(this,"rvalue",!1),"None"));var a=$get_scope(this);if("generator"==a.ntype)return"return [$B.generator_return("+$to_js(this.tree)+")]";for(var b=$get_node(this),c=!0,d=!1;b&&c;){if(b.is_try){d=!0,pnode=b.parent,flag=!1;for(var e=0;e<pnode.children.length;e++){var f=pnode.children[e];if(flag||f!==b){if(flag&&"single_kw"==f.context.tree[0].type&&"finally"==f.context.tree[0].token){c=!1;break}}else flag=!0}}b=b.parent}if(c&&!d)var g="try{var $res = "+$to_js(this.tree)+";$B.leave_frame($local_name);return $res}catch(err){$B.leave_frame($local_name);throw err}";else if(c)var g="var $res = "+$to_js(this.tree)+";$B.leave_frame($local_name);return $res";else var g="return "+$to_js(this.tree);var g="return "+$to_js(this.tree);return g}}function $SingleKwCtx(a,b){if(this.type="single_kw",this.token=b,this.parent=a,this.tree=[],a.tree[a.tree.length]=this,"else"==b){for(var c=a.node,d=c.parent,e=0;e<d.children.length&&d.children[e]!==c;e++);var f=d.children[e-1].context;if(f.tree.length>0){var g=f.tree[0];("for"==g.type||"condition"==g.type&&"while"==g.token)&&(g.has_break=!0,this.loop_num=g.loop_num)}}this.toString=function(){return this.token},this.to_js=function(){if(this.js_processed=!0,"finally"==this.token)return this.token;if(void 0!==this.loop_num){var a=$get_scope(this),b="if($locals_"+a.id.replace(/\./g,"_");return b+'["$no_break'+this.loop_num+'"])'}return this.token}}function $StarArgCtx(a){this.type="star_arg",this.parent=a,this.tree=[],a.tree[a.tree.length]=this,this.toString=function(){return"(star arg) "+this.tree},this.to_js=function(){return this.js_processed=!0,'{$nat:"ptuple",arg:'+$to_js(this.tree)+"}"}}function $StringCtx(a,b){this.type="str",this.parent=a,this.tree=[b],this.raw=!1,a.tree[a.tree.length]=this,this.toString=function(){return"string "+(this.tree||"")},this.to_js=function(){this.js_processed=!0;for(var a="",b=null,c=0;c<this.tree.length;c++){if("call"==this.tree[c].type){var d="(function(){throw TypeError(\"'str' object is not callable\")}())";return d}var e=this.tree[c],f="b"==e.charAt(0);if(null==b)b=f,f&&(a+="bytes(");else if(b!=f)return'$B.$TypeError("can\'t concat bytes to str")';a+=f?e.substr(1).replace(/\n/g,"\\n\\\n"):e.replace(/\n/g,"\\n\\\n"),c<this.tree.length-1&&(a+="+")}return f&&(a+=',"ISO-8859-1")'),a}}function $SubCtx(a){this.type="sub",this.func="getitem",this.value=a.tree[0],a.tree.pop(),a.tree[a.tree.length]=this,this.parent=a,this.tree=[],this.toString=function(){return"(sub) (value) "+this.value+" (tree) "+this.tree},this.to_js=function(){if(this.js_processed=!0,"getitem"==this.func&&"id"==this.value.type){var a=$get_node(this).locals[this.value.value],b=this.value.to_js();if("list"==a||"tuple"==a){if(1==this.tree.length)return"$B.list_key("+b+", "+this.tree[0].to_js()+")";if(2==this.tree.length)return"$B.list_slice("+b+", "+(this.tree[0].to_js()||"null")+","+(this.tree[1].to_js()||"null")+")";if(3==this.tree.length)return"$B.list_slice_step("+b+", "+(this.tree[0].to_js()||"null")+","+(this.tree[1].to_js()||"null")+","+(this.tree[2].to_js()||"null")+")"}}if("getitem"==this.func&&1==this.tree.length)return"$B.$getitem("+this.value.to_js()+","+this.tree[0].to_js()+")";var c="",d=!1;if("delitem"!==this.func&&Array.isArray&&1==this.tree.length&&!this.in_sub){var e="",f=this;for(d=!0;"sub"==f.value.type;)e+="["+f.tree[0].to_js()+"]",f.value.in_sub=!0,f=f.value;var g=f.value.to_js()+"["+f.tree[0].to_js()+"]";c+="((Array.isArray("+f.value.to_js()+") || ",c+="typeof "+f.value.to_js()+'=="string")',c+=" && "+g+"!==undefined ?",c+=g+e+" : "}var b=this.value.to_js();if(c+="getattr("+b+',"__'+this.func+'__")(',1===this.tree.length)c+=this.tree[0].to_js()+")";else{for(var h=[],i=0,j=0;j<this.tree.length;j++)"abstract_expr"===this.tree[j].type?h[i++]="None":h[i++]=this.tree[j].to_js();c+="slice("+h.join(",")+"))"}return d?c+")":c}}function $TargetListCtx(a){this.type="target_list",this.parent=a,this.tree=[],this.expect="id",a.tree[a.tree.length]=this,this.toString=function(){return"(target list) "+this.tree},this.to_js=function(){return this.js_processed=!0,$to_js(this.tree)}}function $TernaryCtx(a){this.type="ternary",this.parent=a.parent,a.parent.tree.pop(),a.parent.tree.push(this),a.parent=this,this.tree=[a],this.toString=function(){return"(ternary) "+this.tree},this.to_js=function(){this.js_processed=!0;var a="bool("+this.tree[1].to_js()+") ? ";return a+=this.tree[0].to_js()+" : ",a+this.tree[2].to_js()}}function $TryCtx(a){this.type="try",this.parent=a,a.tree[a.tree.length]=this,this.toString=function(){return"(try) "},this.transform=function(b,c){if(b.parent.children.length===c+1)$_SyntaxError(a,"missing clause after 'try' 1");else{var d=b.parent.children[c+1].context.tree[0];switch(d.type){case"except":case"finally":case"single_kw":break;default:$_SyntaxError(a,"missing clause after 'try' 2")}}var e=$get_scope(this),f="$B.$failed"+$loop_num,g=f+"=false;try";new $NodeJSCtx(b,g),b.is_try=!0;var h=new $Node;new $NodeJSCtx(h,"catch($err"+$loop_num+")"),h.is_catch=!0,b.parent.insert(c+1,h);var i=new $Node;new $NodeJSCtx(i,f+"=true;if(0){}"),h.insert(0,i);for(var j=c+2,k=!1,l=!1,m=!1;;){if(j===b.parent.children.length)break;var n=b.parent.children[j].context.tree[0];if("except"===n.type){if(l&&$_SyntaxError(a,"'except' or 'finally' after 'else'"),m&&$_SyntaxError(a,"'except' after 'finally'"),n.error_name="$err"+$loop_num,n.tree.length>0&&null!==n.tree[0].alias&&void 0!==n.tree[0].alias){var i=new $Node,o=n.tree[0].alias,g='$locals["'+o+'"]';g+="=$B.exception($err"+$loop_num+")",new $NodeJSCtx(i,g),b.parent.children[j].insert(0,i)}h.insert(h.children.length,b.parent.children[j]),0===n.tree.length&&(k&&$_SyntaxError(a,"more than one except: line"),k=!0),b.parent.children.splice(j,1)}else if("single_kw"===n.type&&"finally"===n.token)m=!0,j++;else{if("single_kw"!==n.type||"else"!==n.token)break;l&&$_SyntaxError(a,"more than one 'else'"),m&&$_SyntaxError(a,"'else' after 'finally'"),l=!0;var p=b.parent.children[j];b.parent.children.splice(j,1)}}if(!k){var i=new $Node,n=new $NodeCtx(i);h.insert(h.children.length,i),new $SingleKwCtx(n,"else"),i.add($NodeJS("throw $err"+$loop_num))}if(l){var q=new $Node;q.module=e.module,new $NodeJSCtx(q,"if(!$B.$failed"+$loop_num+")");for(var r=0;r<p.children.length;r++)q.add(p.children[r]);b.parent.insert(j,q),j++}$loop_num++},this.to_js=function(){return this.js_processed=!0,"try"}}function $UnaryCtx(a,b){this.type="unary",this.op=b,this.parent=a,a.tree[a.tree.length]=this,this.toString=function(){return"(unary) "+this.op},this.to_js=function(){return this.js_processed=!0,this.op}}function $WithCtx(a){this.type="with",this.parent=a,a.tree[a.tree.length]=this,this.tree=[],this.expect="as",this.scope=$get_scope(this),this.toString=function(){return"(with) "+this.tree},this.set_alias=function(a){this.tree[this.tree.length-1].alias=a,$B.bound[this.scope.id][a]=!0,$B.type[this.scope.id][a]=!1,"module"!==this.scope.ntype&&this.scope.context.tree[0].locals.push(a)},this.transform=function(b,c){for(;this.tree.length>1;){var d=b.children,e=this.tree.pop(),f=new $Node,g=new $NodeCtx(f),h=new $WithCtx(g);e.parent=h,h.tree=[e];for(var i=0;i<d.length;i++)f.add(d[i]);b.children=[f]}if(b.is_try=!0,!this.transformed){if(this.tree.length>1){var j=new $Node,g=new $NodeCtx(j);j.parent=b,j.module=b.module,j.indent=b.indent+4;var k=new $WithCtx(g);k.tree=this.tree.slice(1);for(var i=0;i<b.children.length;i++)j.add(b.children[i]);return b.children=[j],void(this.transformed=!0)}var l=this.num=$loop_num;if(null===this.tree[0].alias&&(this.tree[0].alias="$temp"),"expr"==this.tree[0].type&&"list_or_tuple"==this.tree[0].tree[0].type){"expr"==this.tree[1].type&&"list_or_tuple"==this.tree[1].tree[0].type||$_SyntaxError(a),this.tree[0].tree[0].tree.length!=this.tree[1].tree[0].tree.length&&$_SyntaxError(a,["wrong number of alias"]);var m=this.tree[0].tree[0].tree,n=this.tree[1].tree[0].tree;this.tree.shift(),this.tree.shift();for(var i=m.length-1;i>=0;i--)m[i].alias=n[i].value,this.tree.splice(0,0,m[i])}var o=b.children;b.children=[];var p=new $Node;if(p.is_try=!0,new $NodeJSCtx(p,"try"),b.add(p),this.tree[0].alias){var n=this.tree[0].alias,q='$locals["'+n+'"] = $value'+l,r=new $Node;new $NodeJSCtx(r,q),p.add(r)}for(var i=0;i<o.length;i++)p.add(o[i]);var s=new $Node;s.is_catch=!0,new $NodeJSCtx(s,"catch($err"+$loop_num+")");var t=new $Node,u=b.indent+4,q="$exc"+l+" = false;$err"+$loop_num+"=$B.exception($err"+$loop_num+")\n"+" ".repeat(u)+"if(!bool($ctx_manager_exit"+l+"($err"+$loop_num+".__class__.$factory,$err"+$loop_num+",getattr($err"+$loop_num+',"traceback"))))';q+="{throw $err"+$loop_num+"}",new $NodeJSCtx(t,q),s.add(t),b.add(s);var v=new $Node;new $NodeJSCtx(v,"finally"),v.context.type="single_kw",v.context.token="finally",v.is_except=!0;var t=new $Node;new $NodeJSCtx(t,"if($exc"+l+"){$ctx_manager_exit"+l+"(None,None,None)}"),v.add(t),b.parent.insert(c+1,v),$loop_num++,this.transformed=!0}},this.to_js=function(){this.js_processed=!0;var a=$get_node(this).indent,b=" ".repeat(a),c=this.num,d=($get_scope(this),"var $ctx_manager"+c+" = "+this.tree[0].to_js()+"\n"+b+"var $ctx_manager_exit"+c+"= getattr($ctx_manager"+c+',"__exit__")\n'+b+"var $value"+c+" = getattr($ctx_manager"+c+',"__enter__")()\n');return d+=b+"var $exc"+c+" = true\n",d+b+"try"}}function $YieldCtx(a){switch(this.type="yield",this.toString=function(){return"(yield) "+this.tree},this.parent=a,this.tree=[],a.tree[a.tree.length]=this,a.type){case"node":break;case"assign":case"tuple":case"list_or_tuple":for(var b=a;b.parent;)b=b.parent;b.node.yield_atoms.push(this);break;default:$_SyntaxError(a,"yield atom must be inside ()")}var c=$get_scope(this);c.is_function?c.has_return_with_arguments&&$_SyntaxError(a,["'return' with argument inside generator"]):$_SyntaxError(a,["'yield' outside function"]);var d=c.context.tree[0];d.type="generator",d.yields.push(this),this.toString=function(){return"(yield) "+(this.from?"(from) ":"")+this.tree},this.transform=function(a,b){if(this.from===!0){var c=new $Node;a.parent.children.splice(b,1),a.parent.insert(b,c);var d=new $ForExpr(new $NodeCtx(c));new $IdCtx(new $ExprCtx(d,"id",!1),"$temp"+$loop_num),d.tree[1]=this.tree[0],this.tree[0].parent=d;var e=new $Node;c.add(e),new $IdCtx(new $YieldCtx(new $NodeCtx(e)),"$temp"+$loop_num);var f=new $Node;new $NodeJSCtx(f,"// placeholder for generator sent value"),f.set_yield_value=!0,c.add(f),d.transform(c,b),$loop_num++}else{var c=new $Node;new $NodeJSCtx(c,"// placeholder for generator sent value"),c.set_yield_value=!0,a.parent.insert(b+1,c)}},this.to_js=function(){return this.js_processed=!0,void 0===this.from?$to_js(this.tree)||"None":$to_js(this.tree)}}function $add_line_num(a,b){if("module"!==a.type){for(var c=a.context.tree[0],d=1,e=!0,f=a;void 0!==f.parent;)f=f.parent;var g=f.id;if(void 0===a.line_num&&(e=!1),"condition"===c.type&&"elif"===c.token?e=!1:"except"===c.type?e=!1:"single_kw"===c.type&&(e=!1),e){var h=';$locals.$line_info="'+a.line_num+","+g+'";',i=new $Node;new $NodeJSCtx(i,h),a.parent.insert(b,i),d=2}for(var j=0;j<a.children.length;)j+=$add_line_num(a.children[j],j);return("condition"==c.type&&"while"==c.token||"for"==a.context.type)&&a.add($NodeJS('$locals.$line_info="'+a.line_num+","+g+'";')),d}for(var j=0;j<a.children.length;)j+=$add_line_num(a.children[j],j)}function $previous(a){var b=a.node.parent.children[a.node.parent.children.length-2];return b&&b.context||$_SyntaxError(a,"keyword not following correct keyword"),b.context.tree[0]}function $get_docstring(a){var b="";if(a.children.length>0){var c=a.children[0];c.context.tree&&"expr"==c.context.tree[0].type&&"str"==c.context.tree[0].tree[0].type&&(b=c.context.tree[0].tree[0].to_js())}return b}function $get_scope(a){for(var b=a.parent;"node"!==b.type;)b=b.parent;for(var c=b.node,d=null;c.parent&&"module"!==c.parent.type;){var e=c.parent.context.tree[0].type;switch(e){case"def":case"class":case"generator":var d=c.parent;return d.ntype=e,d.elt=d.context.tree[0],d.is_function="class"!=e,d}c=c.parent}var d=c.parent||c;return d.ntype="module",d.elt=d.module,d}function $get_module(a){for(var b=a.parent;"node"!==b.type;)b=b.parent;for(var c=b.node,d=null;"module"!==c.parent.type;)c=c.parent;var d=c.parent;return d.ntype="module",d}function $get_node(a){for(var b=a;b.parent;)b=b.parent;return b.node}function $get_blocks(a,b){for(var c=[];;){if(void 0!==$B.bound[b.id][a]&&c.push(b.id),!b.parent_block)break;if("__builtins__"==b.parent_block.id&&b.blurred)return!1;b=b.parent_block}return c}function $set_type(a,b,c){for("expr"==b.type&&(b=b.tree[0]);"expr"==c.type&&1==c.tree.length;)c=c.tree[0];if("list_or_tuple"==c.type&&"tuple"==c.real&&1==c.tree.length)return $set_type(a.id,b,c.tree[0]);if(void 0!==$B.type[a.id]){if("id"==b.type)switch(c.type){case"int":case"str":return void($B.type[a.id][b.value]=c.type);case"list_or_tuple":case"dict_or_set":return void($B.type[a.id][b.value]=c.real);case"id":return void($B.type[a.id][b.value]=$B.type[a.id][c.value]);case"call":var d=c.func.value;if(void 0!==$B.bound.__builtins__[d]){var e=$get_blocks(d,a);if(1==e.length&&"__builtins__"==e[0])switch(d){case"int":case"list":case"str":return void($B.type[a.id][b.value]=d)}}}$B.type[a.id][b.value]=!1}}function $ws(a){return" ".repeat(a)}function $to_js_map(a){if(void 0!==a.to_js)return a.to_js();throw Error("no to_js() for "+a)}function $to_js(a,b){return void 0===b&&(b=","),a.map($to_js_map).join(b)}function $arbo(a){for(;void 0!=a.parent;)a=a.parent;return a}function $transition(a,b){switch(a.type){case"abstract_expr":switch(b){case"id":case"imaginary":case"int":case"float":case"str":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":case"yield":a.parent.tree.pop();var c=a.with_commas;a=a.parent}switch(b){case"id":return new $IdCtx(new $ExprCtx(a,"id",c),arguments[2]);case"str":return new $StringCtx(new $ExprCtx(a,"str",c),arguments[2]);case"bytes":return new $StringCtx(new $ExprCtx(a,"bytes",c),arguments[2]);case"int":return new $IntCtx(new $ExprCtx(a,"int",c),arguments[2]);case"float":return new $FloatCtx(new $ExprCtx(a,"float",c),arguments[2]);case"imaginary":return new $ImaginaryCtx(new $ExprCtx(a,"imaginary",c),arguments[2]);case"(":return new $ListOrTupleCtx(new $ExprCtx(a,"tuple",c),"tuple");case"[":return new $ListOrTupleCtx(new $ExprCtx(a,"list",c),"list");case"{":return new $DictOrSetCtx(new $ExprCtx(a,"dict_or_set",c));case".":return new $EllipsisCtx(new $ExprCtx(a,"ellipsis",c));case"not":return"op"===a.type&&"is"===a.op?(a.op="is_not",a):new $NotCtx(new $ExprCtx(a,"not",c));case"lambda":return new $LambdaCtx(new $ExprCtx(a,"lambda",c));case"op":var d=arguments[2];switch(d){case"*":a.parent.tree.pop();var c=a.with_commas;return a=a.parent,new $PackedCtx(new $ExprCtx(a,"expr",c));case"-":case"~":case"+":a.parent.tree.pop();var e=new $UnaryCtx(a.parent,d);if("-"==d)var f=new $OpCtx(e,"unary_neg");else if("+"==d)var f=new $OpCtx(e,"unary_pos");else var f=new $OpCtx(e,"unary_inv");return new $AbstractExprCtx(f,!1)}$_SyntaxError(a,"token "+b+" after "+a);case"=":$_SyntaxError(a,b);case"yield":return new $AbstractExprCtx(new $YieldCtx(a),!0);case":":return $transition(a.parent,b,arguments[2]);case")":case",":switch(a.parent.type){case"list_or_tuple":case"call_arg":case"op":case"yield":break;default:$_SyntaxError(a,b)}}return $transition(a.parent,b,arguments[2]);case"annotation":return $transition(a.parent,b);case"assert":if("eol"===b)return $transition(a.parent,b);$_SyntaxError(a,b);case"assign":if("eol"===b)return"abstract_expr"==a.tree[1].type&&$_SyntaxError(a,"token "+b+" after "+a),a.guess_type(),$transition(a.parent,"eol");$_SyntaxError(a,"token "+b+" after "+a);case"attribute":if("id"===b){var g=arguments[2];return noassign[g]===!0&&$_SyntaxError(a,["cannot assign to "+g]),a.name=g,a.parent}$_SyntaxError(a,b);case"augm_assign":if("eol"===b)return"abstract_expr"==a.tree[1].type&&$_SyntaxError(a,"token "+b+" after "+a),$transition(a.parent,"eol");$_SyntaxError(a,"token "+b+" after "+a);case"break":if("eol"===b)return $transition(a.parent,"eol");$_SyntaxError(a,b);case"call":switch(b){case",":return"id"==a.expect&&$_SyntaxError(a,b),a;case"id":case"imaginary":case"int":case"float":case"str":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":return a.has_dstar&&$_SyntaxError(a,b),a.expect=",",$transition(new $CallArgCtx(a),b,arguments[2]);case")":return a.end=$pos,a.parent;case"op":switch(a.expect=",",arguments[2]){case"-":case"~":case"+":return a.expect=",",$transition(new $CallArgCtx(a),b,arguments[2]);case"*":return a.has_star=!0,new $StarArgCtx(a);case"**":return a.has_dstar=!0,new $DoubleStarArgCtx(a)}throw Error("SyntaxError")}return $transition(a.parent,b,arguments[2]);case"call_arg":switch(b){case"id":case"imaginary":case"int":case"float":case"str":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":if("id"===a.expect){a.expect=",";var h=new $AbstractExprCtx(a,!1);return $transition(h,b,arguments[2])}break;case"=":if(","===a.expect)return new $ExprCtx(new $KwArgCtx(a),"kw_value",!1);break;case"for":var i=new $ListOrTupleCtx(a,"gen_expr");i.vars=a.vars,i.locals=a.locals,i.intervals=[a.start],a.tree.pop(),i.expression=a.tree,a.tree=[i],i.tree=[];var j=new $ComprehensionCtx(i);return new $TargetListCtx(new $CompForCtx(j));case"op":if("id"===a.expect){var k=arguments[2];switch(a.expect=",",k){case"+":case"-":case"~":return $transition(new $AbstractExprCtx(a,!1),b,k);case"*":return new $StarArgCtx(a);case"**":return new $DoubleStarArgCtx(a)}}$_SyntaxError(a,"token "+b+" after "+a);case")":if(a.parent.kwargs&&$B.last(a.parent.tree).tree[0]&&["kwarg","star_arg","double_star_arg"].indexOf($B.last(a.parent.tree).tree[0].type)==-1&&$_SyntaxError(a,["non-keyword arg after keyword arg"]),a.tree.length>0){var l=a.tree[a.tree.length-1];"list_or_tuple"===l.type&&"gen_expr"===l.real&&l.intervals.push($pos)}return $transition(a.parent,b);case":":if(","===a.expect&&"lambda"===a.parent.parent.type)return $transition(a.parent.parent,b);break;case",":if(","===a.expect)return a.parent.kwargs&&["kwarg","star_arg","double_star_arg"].indexOf($B.last(a.parent.tree).tree[0].type)==-1&&(console.log("err2"),$_SyntaxError(a,["non-keyword arg after keyword arg"])),$transition(a.parent,b,arguments[2]);console.log("context "+a+"token "+b+" expect "+a.expect)}$_SyntaxError(a,"token "+b+" after "+a);case"class":switch(b){case"id":if("id"===a.expect)return a.set_name(arguments[2]),a.expect="(:",a;break;case"(":return new $CallCtx(a);case":":return $BodyCtx(a)}$_SyntaxError(a,"token "+b+" after "+a);case"comp_if":return $transition(a.parent,b,arguments[2]);case"comp_for":if("in"===b&&"in"===a.expect)return a.expect=null,new $AbstractExprCtx(new $CompIterableCtx(a),!0);if(null===a.expect)return $transition(a.parent,b,arguments[2]);$_SyntaxError(a,"token "+b+" after "+a);case"comp_iterable":return $transition(a.parent,b,arguments[2]);case"comprehension":switch(b){case"if":return new $AbstractExprCtx(new $CompIfCtx(a),!1);case"for":return new $TargetListCtx(new $CompForCtx(a))}return $transition(a.parent,b,arguments[2]);case"condition":if(":"===b)return $BodyCtx(a);$_SyntaxError(a,"token "+b+" after "+a);case"continue":if("eol"==b)return a.parent;$_SyntaxError(a,"token "+b+" after "+a);case"ctx_manager_alias":switch(b){case",":case":":return $transition(a.parent,b,arguments[2])}$_SyntaxError(a,"token "+b+" after "+a);case"decorator":if("id"===b&&0===a.tree.length)return $transition(new $AbstractExprCtx(a,!1),b,arguments[2]);if("eol"===b)return $transition(a.parent,b);$_SyntaxError(a,"token "+b+" after "+a);case"def":switch(b){case"id":return a.name&&$_SyntaxError(a,"token "+b+" after "+a),a.set_name(arguments[2]),a;case"(":return null===a.name&&$_SyntaxError(a,"token "+b+" after "+a),a.has_args=!0,new $FuncArgs(a);case"annotation":return new $AbstractExprCtx(new $AnnotationCtx(a),!0);case":":if(a.has_args)return $BodyCtx(a)}$_SyntaxError(a,"token "+b+" after "+a);case"del":if("eol"===b)return $transition(a.parent,b);$_SyntaxError(a,"token "+b+" after "+a);case"dict_or_set":if(a.closed){switch(b){case"[":return new $SubCtx(a.parent);case"(":return new $CallArgCtx(new $CallCtx(a));case"op":return new $AbstractExprCtx(new $OpCtx(a,arguments[2]),!1)}return $transition(a.parent,b,arguments[2])}if(","===a.expect){switch(b){case"}":switch(a.real){case"dict_or_set":if(1!==a.tree.length)break;a.real="set";case"set":case"set_comp":case"dict_comp":return a.items=a.tree,a.tree=[],a.closed=!0,a;case"dict":if(a.tree.length%2===0)return a.items=a.tree,a.tree=[],a.closed=!0,a}$_SyntaxError(a,"token "+b+" after "+a);case",":return"dict_or_set"===a.real&&(a.real="set"),"dict"===a.real&&a.tree.length%2&&$_SyntaxError(a,"token "+b+" after "+a),a.expect="id",a;case":":if("dict_or_set"===a.real&&(a.real="dict"),"dict"===a.real)return a.expect=",",new $AbstractExprCtx(a,!1);$_SyntaxError(a,"token "+b+" after "+a);case"for":"dict_or_set"===a.real?a.real="set_comp":a.real="dict_comp";var i=new $ListOrTupleCtx(a,"dict_or_set_comp");i.intervals=[a.start+1],i.vars=a.vars,a.tree.pop(),i.expression=a.tree,a.tree=[i],i.tree=[];var j=new $ComprehensionCtx(i);return new $TargetListCtx(new $CompForCtx(j))}$_SyntaxError(a,"token "+b+" after "+a)}else if("id"===a.expect){switch(b){case"}":return 0==a.tree.length?(a.items=[],a.real="dict"):a.items=a.tree,a.tree=[],a.closed=!0,a;case"id":case"imaginary":case"int":case"float":case"str":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":a.expect=",";var h=new $AbstractExprCtx(a,!1);return $transition(h,b,arguments[2]);case"op":switch(arguments[2]){case"+":return a;case"-":case"~":a.expect=",";var e=new $UnaryCtx(a,arguments[2]);if("-"==arguments[2])var f=new $OpCtx(e,"unary_neg");else if("+"==arguments[2])var f=new $OpCtx(e,"unary_pos");else var f=new $OpCtx(e,"unary_inv");return new $AbstractExprCtx(f,!1)}$_SyntaxError(a,"token "+b+" after "+a)}$_SyntaxError(a,"token "+b+" after "+a)}return $transition(a.parent,b,arguments[2]);case"double_star_arg":switch(b){case"id":case"imaginary":case"int":case"float":case"str":case"bytes":case"[":case"(":case"{":case".":case"not":case"lambda":return $transition(new $AbstractExprCtx(a,!1),b,arguments[2]);case",":return a.parent;case")":return $transition(a.parent,b);case":":if("lambda"===a.parent.parent.type)return $transition(a.parent.parent,b)}$_SyntaxError(a,"token "+b+" after "+a);case"ellipsis":if("."==b)return a.nbdots++,a;if(3==a.nbdots)return $transition(a.parent,b,arguments[2]);$pos--,$_SyntaxError(a,"token "+b+" after "+a);case"except":switch(b){case"id":case"imaginary":case"int":case"float":case"str":case"bytes":case"[":case"(":case"{":case"not":case"lamdba":if("id"===a.expect)return a.expect="as",$transition(new $AbstractExprCtx(a,!1),b,arguments[2]);case"as":if("as"===a.expect&&void 0===a.has_alias)return a.expect="alias",a.has_alias=!0,a;case"id":if("alias"===a.expect)return a.expect=":",a.set_alias(arguments[2]),a;break;case":":var m=a.expect;if("id"==m||"as"==m||":"==m)return $BodyCtx(a);break;case"(":if("id"===a.expect&&0===a.tree.length)return a.parenth=!0,a;break;case")":if(","==a.expect||"as"==a.expect)return a.expect="as",a;case",":if(void 0!==a.parenth&&void 0===a.has_alias&&("as"==a.expect||","==a.expect))return a.expect="id",a}$_SyntaxError(a,"token "+b+" after "+a.expect);case"expr":switch(b){case"id":case"imaginary":case"int":case"float":case"str":case"bytes":case"[":case"(":case"{":case".":case"not":case"lamdba":if("expr"===a.expect)return a.expect=",",$transition(new $AbstractExprCtx(a,!1),b,arguments[2])}switch(b){case"not":if(","===a.expect)return new $ExprNot(a);break;case"in":if("target_list"==a.parent.type)return $transition(a.parent,b);if(","===a.expect)return $transition(a,"op","in");break;case",":if(","===a.expect&&a.with_commas){a.parent.tree.pop();var n=new $ListOrTupleCtx(a.parent,"tuple");return n.implicit=!0,n.has_comma=!0,n.tree=[a],a.parent=n,n}return $transition(a.parent,b);case".":return new $AttrCtx(a);case"[":return new $AbstractExprCtx(new $SubCtx(a),!0);case"(":return new $CallCtx(a);case"op":var o=a.parent,k=arguments[2];if("ternary"==o.type&&o.in_else){var p=new $OpCtx(a,k);return new $AbstractExprCtx(p,!1)}for(var q=a.parent,r=null;;)if("expr"===q.type)q=q.parent;else{if(!("op"===q.type&&$op_weight[q.op]>=$op_weight[k])||"**"==q.op&&"**"==k)break;r=q,q=q.parent}if(null===r){if("and"===k||"or"===k)for(;"not"===a.parent.type||"expr"===a.parent.type&&"not"===a.parent.parent.type;)a=a.parent,o=a.parent;else for(;;){if(a.parent===q)break;a=a.parent,o=a.parent}a.parent.tree.pop();var h=new $ExprCtx(o,"operand",a.with_commas);h.expect=",",a.parent=h;var p=new $OpCtx(a,k);return new $AbstractExprCtx(p,!1)}if("op"===r.type){var s=!1;switch(r.op){case"<":case"<=":case"==":case"!=":case"is":case">=":case">":s=!0}if(s)switch(k){case"<":case"<=":case"==":case"!=":case"is":case">=":case">":var t=r.tree[1],u=new Object;for(var v in t)u[v]=t[v];for(;r.parent&&"op"==r.parent.type&&$op_weight[r.parent.op]<$op_weight[r.op];)r=r.parent;r.parent.tree.pop();var w=new $OpCtx(r,"and");u.parent=w,w.tree.push("xxx");var p=new $OpCtx(u,k);return new $AbstractExprCtx(p,!1)}}r.parent.tree.pop();var h=new $ExprCtx(r.parent,"operand",!1);h.tree=[q],r.parent=h;var p=new $OpCtx(r,k);return new $AbstractExprCtx(p,!1);case"augm_assign":if(","===a.expect)return new $AbstractExprCtx(new $AugmentedAssignCtx(a,arguments[2]),!0);break;case"=":if(","===a.expect){if("call_arg"===a.parent.type)return new $AbstractExprCtx(new $KwArgCtx(a),!0);if("annotation"==a.parent.type)return $transition(a.parent.parent,b,arguments[2]);for(;void 0!==a.parent;)a=a.parent;return a=a.tree[0],new $AbstractExprCtx(new $AssignCtx(a),!0)}break;case"if":if("comp_iterable"!==a.parent.type){for(var x=a;x.parent&&"op"==x.parent.type;)x=x.parent,"expr"==x.type&&x.parent&&"op"==x.parent.type&&(x=x.parent);return new $AbstractExprCtx(new $TernaryCtx(x),!1)}}return $transition(a.parent,b);case"expr_not":if("in"==b)return a.parent.tree.pop(),new $AbstractExprCtx(new $OpCtx(a.parent,"not_in"),!1);$_SyntaxError(a,"token "+b+" after "+a);case"for":switch(b){case"in":return new $AbstractExprCtx(new $ExprCtx(a,"target list",!0),!1);case":":return $BodyCtx(a)}$_SyntaxError(a,"token "+b+" after "+a);case"from":switch(b){case"id":if("id"==a.expect)return a.add_name(arguments[2]),a.expect=",",a;if("alias"===a.expect)return a.aliases[a.names[a.names.length-1]]=arguments[2],a.expect=",",a;case".":if("module"==a.expect)return"id"==b?a.module+=arguments[2]:a.module+=".",a;case"import":case"IMPRT":if(a.blocking="import"==b,"module"==a.expect)return a.expect="id",a;case"op":if("*"==arguments[2]&&"id"==a.expect&&0==a.names.length)return"module"!==$get_scope(a).ntype&&$_SyntaxError(a,["import * only allowed at module level"]),a.add_name("*"),a.expect="eol",a;case",":if(","==a.expect)return a.expect="id",a;case"eol":switch(a.expect){case",":case"eol":return a.bind_names(),$transition(a.parent,b)}case"as":if(","==a.expect||"eol"==a.expect)return a.expect="alias",a;case"(":if("id"==a.expect)return a.expect="id",a;case")":if(","==a.expect||"id"==a.expect)return a.expect="eol",a}$_SyntaxError(a,"token "+b+" after "+a);case"func_arg_id":switch(b){case"=":if("="===a.expect){a.parent.has_default=!0;var y=a.parent.parent;return a.parent.has_star_arg?y.default_list.push(y.after_star.pop()):y.default_list.push(y.positional_list.pop()),new $AbstractExprCtx(a,!1)}break;case",":case")":if(!a.parent.has_default||0!=a.tree.length||void 0!==a.parent.has_star_arg)return $transition(a.parent,b);console.log("parent "+a.parent,a.parent),$pos-=a.name.length,$_SyntaxError(a,["non-default argument follows default argument"]);case":":return new $AbstractExprCtx(new $AnnotationCtx(a),!1)}$_SyntaxError(a,"token "+b+" after "+a);case"func_args":switch(b){case"id":return"id"===a.expect&&(a.expect=",",a.names.indexOf(arguments[2])>-1&&$_SyntaxError(a,["duplicate argument "+arguments[2]+" in function definition"])),new $FuncArgIdCtx(a,arguments[2]);case",":if(a.has_kw_arg&&$_SyntaxError(a,"duplicate kw arg"),","===a.expect)return a.expect="id",a;$_SyntaxError(a,"token "+b+" after "+a);case")":return a.parent;case"op":var k=arguments[2];if(a.expect=",","*"==k)return a.has_star_arg&&$_SyntaxError(a,"duplicate star arg"),new $FuncStarArgCtx(a,"*");if("**"==k)return new $FuncStarArgCtx(a,"**");$_SyntaxError(a,"token "+k+" after "+a)}$_SyntaxError(a,"token "+b+" after "+a);case"func_star_arg":switch(b){case"id":return void 0===a.name&&a.parent.names.indexOf(arguments[2])>-1&&$_SyntaxError(a,["duplicate argument "+arguments[2]+" in function definition"]),a.set_name(arguments[2]),a.parent.names.push(arguments[2]),a;case",":case")":return void 0===a.name&&(a.set_name("$dummy"),a.parent.names.push("$dummy")),$transition(a.parent,b);case":":return void 0===a.name&&$_SyntaxError(a,"annotation on an unnamed parameter"),new $AbstractExprCtx(new $AnnotationCtx(a),!1)}$_SyntaxError(a,"token "+b+" after "+a);case"global":switch(b){case"id":if("id"===a.expect)return new $IdCtx(a,arguments[2]),a.add(arguments[2]),a.expect=",",a;break;case",":if(","===a.expect)return a.expect="id",a;break;case"eol":if(","===a.expect)return $transition(a.parent,b)}$_SyntaxError(a,"token "+b+" after "+a);case"id":switch(b){case"=":return"expr"===a.parent.type&&void 0!==a.parent.parent&&"call_arg"===a.parent.parent.type?new $AbstractExprCtx(new $KwArgCtx(a.parent),!1):$transition(a.parent,b,arguments[2]);case"op":return $transition(a.parent,b,arguments[2]);case"id":case"str":case"int":case"float":case"imaginary":$_SyntaxError(a,"token "+b+" after "+a)}return $transition(a.parent,b,arguments[2]);case"import":switch(b){case"id":if("id"===a.expect)return new $ImportedModuleCtx(a,arguments[2]),
a.expect=",",a;if("qual"===a.expect)return a.expect=",",a.tree[a.tree.length-1].name+="."+arguments[2],a.tree[a.tree.length-1].alias+="."+arguments[2],a;if("alias"===a.expect)return a.expect=",",a.tree[a.tree.length-1].alias=arguments[2],a;break;case".":if(","===a.expect)return a.expect="qual",a;break;case",":if(","===a.expect)return a.expect="id",a;break;case"as":if(","===a.expect)return a.expect="alias",a;break;case"eol":if(","===a.expect)return a.bind_names(),$transition(a.parent,b)}$_SyntaxError(a,"token "+b+" after "+a);case"imaginary":case"int":case"float":switch(b){case"id":case"imaginary":case"int":case"float":case"str":case"bytes":case"[":case"(":case"{":case"not":case"lamdba":$_SyntaxError(a,"token "+b+" after "+a)}return $transition(a.parent,b,arguments[2]);case"kwarg":return","===b?new $CallArgCtx(a.parent.parent):$transition(a.parent,b);case"lambda":if(":"===b&&void 0===a.args)return a.args=a.tree,a.tree=[],a.body_start=$pos,new $AbstractExprCtx(a,!1);if(void 0!==a.args)return a.body_end=$pos,$transition(a.parent,b);if(void 0===a.args)return $transition(new $CallCtx(a),b,arguments[2]);$_SyntaxError(a,"token "+b+" after "+a);case"list_or_tuple":if(a.closed)return"["===b?new $SubCtx(a.parent):"("===b?new $CallCtx(a):$transition(a.parent,b,arguments[2]);if(","===a.expect){switch(a.real){case"tuple":case"gen_expr":if(")"===b)return a.closed=!0,"gen_expr"===a.real&&a.intervals.push($pos),a.parent;break;case"list":case"list_comp":if("]"===b)return a.closed=!0,"list_comp"===a.real&&a.intervals.push($pos),a;break;case"dict_or_set_comp":if("}"===b)return a.intervals.push($pos),$transition(a.parent,b)}switch(b){case",":return"tuple"===a.real&&(a.has_comma=!0),a.expect="id",a;case"for":"list"===a.real?a.real="list_comp":a.real="gen_expr",a.intervals=[a.start+1],a.expression=a.tree,a.tree=[];var j=new $ComprehensionCtx(a);return new $TargetListCtx(new $CompForCtx(j))}return $transition(a.parent,b,arguments[2])}if("id"!==a.expect)return $transition(a.parent,b,arguments[2]);switch(a.real){case"tuple":if(")"===b)return a.closed=!0,a.parent;if("eol"==b&&a.implicit===!0)return a.closed=!0,$transition(a.parent,b);break;case"gen_expr":if(")"===b)return a.closed=!0,$transition(a.parent,b);break;case"list":if("]"===b)return a.closed=!0,a}switch(b){case"=":if("tuple"==a.real&&a.implicit===!0){a.closed=!0,a.parent.tree.pop();var h=new $ExprCtx(a.parent,"tuple",!1);return h.tree=[a],a.parent=h,$transition(a.parent,b)}break;case")":break;case"]":if("tuple"==a.real&&a.implicit===!0)return $transition(a.parent,b,arguments[2]);break;case",":$_SyntaxError(a,"unexpected comma inside list");default:a.expect=",";var h=new $AbstractExprCtx(a,!1);return $transition(h,b,arguments[2])}case"list_comp":switch(b){case"]":return a.parent;case"in":return new $ExprCtx(a,"iterable",!0);case"if":return new $ExprCtx(a,"condition",!0)}$_SyntaxError(a,"token "+b+" after "+a);case"node":switch(b){case"id":case"imaginary":case"int":case"float":case"str":case"bytes":case"[":case"(":case"{":case"not":case"lamdba":case".":var h=new $AbstractExprCtx(a,!0);return $transition(h,b,arguments[2]);case"op":switch(arguments[2]){case"*":case"+":case"-":case"~":var h=new $AbstractExprCtx(a,!0);return $transition(h,b,arguments[2])}break;case"class":return new $ClassCtx(a);case"continue":return new $ContinueCtx(a);case"__debugger__":return new $DebuggerCtx(a);case"break":return new $BreakCtx(a);case"def":return new $DefCtx(a);case"for":return new $TargetListCtx(new $ForExpr(a));case"if":case"while":return new $AbstractExprCtx(new $ConditionCtx(a,b),!1);case"elif":var z=$previous(a);return["condition"].indexOf(z.type)!=-1&&"while"!=z.token||$_SyntaxError(a,"elif after "+z.type),new $AbstractExprCtx(new $ConditionCtx(a,b),!1);case"else":var z=$previous(a);return["condition","except","for"].indexOf(z.type)==-1&&$_SyntaxError(a,"else after "+z.type),new $SingleKwCtx(a,b);case"finally":var z=$previous(a);return["try","except"].indexOf(z.type)!=-1||"single_kw"==z.type&&"else"==z.token||$_SyntaxError(a,"finally after "+z.type),new $SingleKwCtx(a,b);case"try":return new $TryCtx(a);case"except":var z=$previous(a);return["try","except"].indexOf(z.type)==-1&&$_SyntaxError(a,"except after "+z.type),new $ExceptCtx(a);case"assert":return new $AbstractExprCtx(new $AssertCtx(a),"assert",!0);case"from":return new $FromCtx(a);case"import":return new $ImportCtx(a);case"IMPRT":return new $IMPRTCtx(a);case"global":return new $GlobalCtx(a);case"nonlocal":return new $NonlocalCtx(a);case"lambda":return new $LambdaCtx(a);case"pass":return new $PassCtx(a);case"raise":return new $RaiseCtx(a);case"return":return new $AbstractExprCtx(new $ReturnCtx(a),!0);case"with":return new $AbstractExprCtx(new $WithCtx(a),!1);case"yield":return new $AbstractExprCtx(new $YieldCtx(a),!0);case"del":return new $AbstractExprCtx(new $DelCtx(a),!0);case"@":return new $DecoratorCtx(a);case"eol":return 0===a.tree.length?(a.node.parent.children.pop(),a.node.parent.context):a}$_SyntaxError(a,"token "+b+" after "+a);case"not":switch(b){case"in":return a.parent.parent.tree.pop(),new $ExprCtx(new $OpCtx(a.parent,"not_in"),"op",!1);case"id":case"imaginary":case"int":case"float":case"str":case"bytes":case"[":case"(":case"{":case".":case"not":case"lamdba":var h=new $AbstractExprCtx(a,!1);return $transition(h,b,arguments[2]);case"op":var A=arguments[2];if("+"==A||"-"==A||"~"==A){var h=new $AbstractExprCtx(a,!1);return $transition(h,b,arguments[2])}}return $transition(a.parent,b);case"op":if(void 0===a.op&&$_SyntaxError(a,["context op undefined "+a]),"unary"==a.op.substr(0,5)&&("assign"==a.parent.type||"return"==a.parent.type)){a.parent.tree.pop();var B=new $ListOrTupleCtx(a.parent,"tuple");return B.tree.push(a),a.parent=B,B}switch(b){case"id":case"imaginary":case"int":case"float":case"str":case"bytes":case"[":case"(":case"{":case".":case"not":case"lamdba":return $transition(new $AbstractExprCtx(a,!1),b,arguments[2]);case"op":switch(arguments[2]){case"+":case"-":case"~":return new $UnaryCtx(a,arguments[2])}default:"abstract_expr"==a.tree[a.tree.length-1].type&&$_SyntaxError(a,"token "+b+" after "+a)}var C=a.tree[0],D=a.tree[1];return C.tree&&D.tree&&(C=C.tree[0],D=D.tree[0]),$transition(a.parent,b);case"packed":if("id"===b)return new $IdCtx(a,arguments[2]),a.parent.expect=",",a.parent;$_SyntaxError(a,"token "+b+" after "+a);case"pass":if("eol"===b)return a.parent;$_SyntaxError(a,"token "+b+" after "+a);case"raise":switch(b){case"id":if(0===a.tree.length)return new $IdCtx(new $ExprCtx(a,"exc",!1),arguments[2]);break;case"from":if(a.tree.length>0)return new $AbstractExprCtx(a,!1);break;case"eol":return $transition(a.parent,b)}$_SyntaxError(a,"token "+b+" after "+a);case"return":var E="abstract_expr"==a.tree[0].type;if(!E){var F=$get_scope(a);"generator"==F.ntype&&$_SyntaxError(a,["'return' with argument inside generator"]),F.has_return_with_arguments=!0}return $transition(a.parent,b);case"single_kw":if(":"===b)return $BodyCtx(a);$_SyntaxError(a,"token "+b+" after "+a);case"star_arg":switch(b){case"id":return"target_list"==a.parent.type?(a.tree.push(arguments[2]),a.parent.expect=",",console.log("return parent",a.parent),a.parent):$transition(new $AbstractExprCtx(a,!1),b,arguments[2]);case"imaginary":case"int":case"float":case"str":case"bytes":case"[":case"(":case"{":case"not":case"lamdba":return $transition(new $AbstractExprCtx(a,!1),b,arguments[2]);case",":return $transition(a.parent,b);case")":return $transition(a.parent,b);case":":if("lambda"===a.parent.parent.type)return $transition(a.parent.parent,b)}$_SyntaxError(a,"token "+b+" after "+a);case"str":switch(b){case"[":return new $AbstractExprCtx(new $SubCtx(a.parent),!1);case"(":return a.parent.tree[0]=a,new $CallCtx(a.parent);case"str":return a.tree.push(arguments[2]),a}return $transition(a.parent,b,arguments[2]);case"sub":switch(b){case"id":case"imaginary":case"int":case"float":case"str":case"bytes":case"[":case"(":case"{":case".":case"not":case"lamdba":var h=new $AbstractExprCtx(a,!1);return $transition(h,b,arguments[2]);case"]":return a.parent;case":":return 0==a.tree.length&&new $AbstractExprCtx(a,!1),new $AbstractExprCtx(a,!1)}$_SyntaxError(a,"token "+b+" after "+a);case"target_list":switch(b){case"id":if("id"===a.expect)return a.expect=",",new $IdCtx(new $ExprCtx(a,"target",!1),arguments[2]);case"op":if("id"==a.expect&&"*"==arguments[2])return new $PackedCtx(a);case"(":case"[":if("id"===a.expect)return a.expect=",",new $TargetListCtx(a);case")":case"]":if(","===a.expect)return a.parent;case",":if(","==a.expect)return a.expect="id",a}if(","===a.expect)return $transition(a.parent,b,arguments[2]);if("in"==b)return $transition(a.parent,b,arguments[2]);$_SyntaxError(a,"token "+b+" after "+a);case"ternary":return"else"===b?(a.in_else=!0,new $AbstractExprCtx(a,!1)):$transition(a.parent,b,arguments[2]);case"try":if(":"===b)return $BodyCtx(a);$_SyntaxError(a,"token "+b+" after "+a);case"unary":switch(b){case"int":case"float":case"imaginary":console.log(b,arguments[2],"after",a);var h=a.parent;a.parent.parent.tree.pop();var G=arguments[2];return"-"===a.op?G="-"+G:"~"===a.op&&(G=~G),$transition(a.parent.parent,b,G);case"id":a.parent.parent.tree.pop();var h=new $ExprCtx(a.parent.parent,"call",!1),H=new $ExprCtx(h,"id",!1);new $IdCtx(H,arguments[2]);var r=new $AttrCtx(h);"+"===a.op?r.name="__pos__":"-"===a.op?r.name="__neg__":r.name="__invert__";new $CallCtx(h);return H;case"op":if("+"==arguments[2]||"-"==arguments[2]){var k=arguments[2];return a.op===k?a.op="+":a.op="-",a}}return $transition(a.parent,b,arguments[2]);case"with":switch(b){case"id":if("id"===a.expect)return a.expect="as",$transition(new $AbstractExprCtx(a,!1),b,arguments[2]);if("alias"===a.expect)return void 0!==a.parenth?a.expect=",":a.expect=":",a.set_alias(arguments[2]),a;break;case"as":return new $AbstractExprCtx(new $AliasCtx(a));case":":switch(a.expect){case"id":case"as":case":":return $BodyCtx(a)}break;case"(":if("id"===a.expect&&0===a.tree.length)return a.parenth=!0,a;if("alias"==a.expect)return console.log("context",a,"token",b),a.expect=":",new $TargetListCtx(a,!1);break;case")":if(","==a.expect||"as"==a.expect)return a.expect=":",a;break;case",":if(void 0!==a.parenth&&void 0===a.has_alias&&(","==a.expect||"as"==a.expect))return a.expect="id",a;if("as"==a.expect)return a.expect="id",a;if(":"==a.expect)return a.expect="id",a}$_SyntaxError(a,"token "+b+" after "+a.expect);case"yield":return"from"==b?("abstract_expr"!=a.tree[0].type&&$_SyntaxError(a,"'from' must follow 'yield'"),a.from=!0,a.tree=[],new $AbstractExprCtx(a,!0)):$transition(a.parent,b)}}function $tokenize(a,b,c,d,e){var f={")":"(","]":"[","}":"{"},g="",h=[],i=["class","return","break","for","lambda","try","finally","raise","def","from","nonlocal","while","del","global","with","as","elif","else","if","yield","assert","import","except","raise","in","not","pass","with","continue","__debugger__","IMPRT"],j=[],k=["class","def","for","condition","single_kw","try","except","with"],l=new RegExp("^\\d+(j|J)?"),m=new RegExp("^\\d+\\.\\d*([eE][+-]?\\d+)?(j|J)?"),n=new RegExp("^\\d+([eE][+-]?\\d+)(j|J)?"),o=new RegExp("^0[xX]([0-9a-fA-F]+)"),p=new RegExp("^0[oO]([0-7]+)"),q=new RegExp("^0[bB]([01]+)"),r=(new RegExp("[\\$_a-zA-Z]\\w*"),new RegExp('"',"g"),new RegExp("'","g"),null),s=new $Node("module");s.module=b,s.id=c,$B.modules[s.id]=s,c==d?s.parent_block=$B.modules[d].parent_block||$B.modules.__builtins__:s.parent_block=$B.modules[d]||$B.modules.__builtins__,s.line_info=e,s.indent=-1,c!==b&&($B.bound[c]={});for(var t=new $Node,u=s,v="",w=null,x=0,y=null,z=!1,A=1;x<a.length;){var B=a.charAt(x);if(null!==y)if("#"!=B)if('"'!=B&&"'"!=B)if(""==v&&$B.re_XID_Start.exec(B)){for(v=B,x++;x<a.length&&$B.re_XID_Continue.exec(a.charAt(x));)v+=a.charAt(x),x++;if(i.indexOf(v)>-1)if($pos=x-v.length,j.indexOf(v)>-1&&$_SyntaxError(r,"Unsupported Python keyword '"+v+"'"),"not"==v){var C=/^\s+in\s+/,D=C.exec(a.substr(x));null!==D?(x+=D[0].length,r=$transition(r,"op","not_in")):r=$transition(r,v)}else r=$transition(r,v);else if(void 0!==$operators[v]&&$B.forbidden.indexOf(v)==-1)$pos=x-v.length,r=$transition(r,"op",v);else{if(('"'==a.charAt(x)||"'"==a.charAt(x))&&["r","b","u","rb","br"].indexOf(v.toLowerCase())!==-1){z=v.toLowerCase(),v="";continue}$B.forbidden.indexOf(v)>-1&&(v="$$"+v),$pos=x-v.length,r=$transition(r,"id",v)}v=""}else switch(B){case" ":case"\t":x++;break;case".":if(x<a.length-1&&/^\d$/.test(a.charAt(x+1))){for(var E=x+1;E<a.length&&a.charAt(E).search(/\d|e|E/)>-1;)E++;r=$transition(r,"float","0"+a.substr(x,E-x)),x=E;break}$pos=x,r=$transition(r,"."),x++;break;case"0":var D=o.exec(a.substr(x));if(D){r=$transition(r,"int",[16,D[1]]),x+=D[0].length;break}var D=p.exec(a.substr(x));if(D){r=$transition(r,"int",[8,D[1]]),x+=D[0].length;break}var D=q.exec(a.substr(x));if(D){r=$transition(r,"int",[2,D[1]]),x+=D[0].length;break}if(a.charAt(x+1).search(/\d/)>-1){if(0===parseInt(a.substr(x))){D=l.exec(a.substr(x)),$pos=x,r=$transition(r,"int",[10,D[0]]),x+=D[0].length;break}$_SyntaxError(r,"invalid literal starting with 0")}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":var D=m.exec(a.substr(x));D?($pos=x,r=void 0!==D[2]?$transition(r,"imaginary",D[0].substr(0,D[0].length-1)):$transition(r,"float",D[0])):(D=n.exec(a.substr(x)),D?($pos=x,r=void 0!==D[2]?$transition(r,"imaginary",D[0].substr(0,D[0].length-1)):$transition(r,"float",D[0])):(D=l.exec(a.substr(x)),$pos=x,r=void 0!==D[1]?$transition(r,"imaginary",D[0].substr(0,D[0].length-1)):$transition(r,"int",[10,D[0]]))),x+=D[0].length;break;case"\n":A++,g.length>0?x++:(u.context.tree.length>0?($pos=x,r=$transition(r,"eol"),y=null,t=new $Node):t.line_num=A,x++);break;case"(":case"[":case"{":g+=B,h[g.length-1]=[r,x],$pos=x,r=$transition(r,B),x++;break;case")":case"]":case"}":""==g?$_SyntaxError(r,"Unexpected closing bracket"):f[B]!=g.charAt(g.length-1)?$_SyntaxError(r,"Unbalanced bracket"):(g=g.substr(0,g.length-1),$pos=x,r=$transition(r,B),x++);break;case"=":"="!=a.charAt(x+1)?($pos=x,r=$transition(r,"="),x++):($pos=x,r=$transition(r,"op","=="),x+=2);break;case",":case":":$pos=x,r=$transition(r,B),x++;break;case";":$transition(r,"eol"),0===u.context.tree.length&&($pos=x,$_SyntaxError(r,"invalid syntax"));for(var F=x+1,G=!1;F<a.length;){var H=a.charAt(F);if("\n"==H||"#"==H){G=!0;break}if(" "!=H)break;F++}if(G){x++;break}t=new $Node,t.indent=$get_node(r).indent,t.line_num=A,t.module=b,$get_node(r).parent.add(t),u=t,r=new $NodeCtx(t),x++;break;case"/":case"%":case"&":case">":case"<":case"-":case"+":case"*":case"/":case"^":case"=":case"|":case"~":case"!":if("-"==B&&">"==a.charAt(x+1)){r=$transition(r,"annotation"),x+=2;continue}var I="";for(var J in $operators)J==a.substr(x,J.length)&&J.length>I.length&&(I=J);$pos=x,I.length>0?(r=I in $augmented_assigns?$transition(r,"augm_assign",I):$transition(r,"op",I),x+=I.length):$_SyntaxError(r,"invalid character: "+B);break;case"\\":if("\n"==a.charAt(x+1)){A++,x+=2;break}case"@":$pos=x,r=$transition(r,B),x++;break;default:$pos=x,$_SyntaxError(r,"unknown token ["+B+"]")}else{var K="str"==r.type&&r.raw,L=!1,M=null;if(z){switch(z){case"r":K=!0;break;case"u":break;case"b":L=!0;break;case"rb":case"br":L=!0,K=!0}z=!1}a.substr(x,3)==B+B+B?(w="triple_string",M=x+3):(w="string",M=x+1);for(var N=!1,O=B,P=!1;M<a.length;)if(N)O+=a.charAt(M),K&&"\\"==a.charAt(M)&&(O+="\\"),N=!1,M+=1;else if("\\"==a.charAt(M))K?(M<a.length-1&&a.charAt(M+1)==B?(O+="\\\\"+B,M+=2):(O+="\\\\",M++),N=!0):"\n"==a.charAt(M+1)?(M+=2,A++):(M<a.length-1&&void 0==is_escaped[a.charAt(M+1)]&&(O+="\\"),O+="\\",N=!0,M+=1);else if("\n"==a.charAt(M)&&"triple_string"!=w)$pos=M,$_SyntaxError(r,["EOL while scanning string literal"]);else if(a.charAt(M)==B){if("triple_string"!=w||a.substr(M,3)==B+B+B){P=!0,$pos=x;for(var Q=O.substr(1),R="",S=0;S<Q.length;S++){var T=Q.charAt(S);T!=B||!K&&0!=S&&"\\"===Q.charAt(S-1)||(R+="\\"),R+=T}r=L?$transition(r,"str","b"+B+R+B):$transition(r,"str",B+R+B),r.raw=K,x=M+1,"triple_string"==w&&(x=M+3);break}O+=a.charAt(M),M++}else O+=a.charAt(M),"\n"==a.charAt(M)&&A++,M++;P||("triple_string"===w?$_SyntaxError(r,"Triple string end not found"):$_SyntaxError(r,"String end not found"))}else{var M=a.substr(x+1).search("\n");M==-1&&(M=a.length-1),x+=M+1}else{for(var y=0;x<a.length;){var H=a.charAt(x);if(" "==H)y++,x++;else{if("\t"!=H)break;y++,x++,y%8>0&&(y+=8-y%8)}}var H=a.charAt(x);if("\n"==H){x++,A++,y=null;continue}if("#"===H){var U=a.substr(x).search(/\n/);if(U===-1)break;x+=U+1,A++,y=null;continue}if(t.indent=y,t.line_num=A,t.module=b,y>u.indent)null!==r&&k.indexOf(r.tree[0].type)==-1&&($pos=x,$_SyntaxError(r,"unexpected indent",x)),u.add(t);else if(y<=u.indent&&k.indexOf(r.tree[0].type)>-1&&r.tree.length<2)$pos=x,$_SyntaxError(r,"expected an indented block",x);else{for(;y!==u.indent;)u=u.parent,(void 0===u||y>u.indent)&&($pos=x,$_SyntaxError(r,"unexpected indent",x));u.parent.add(t)}u=t,r=new $NodeCtx(t)}}if(0!=g.length){var V=h[0];$pos=V[1],$_SyntaxError(V[0],["Unbalanced bracket "+g.charAt(g.length-1)])}return null!==r&&k.indexOf(r.tree[0].type)>-1&&($pos=x-1,$_SyntaxError(r,"expected an indented block",x)),s}function load_ext(a){function b(b){if(d=b.target,4==d.readyState){if(200!=d.status)throw Error("cannot load script "+d.module_name+" at "+d.responseURL+": error "+d.status);run_script({name:d.module_name,url:d.responseURL,src:d.responseText}),a.length>0&&load_ext(a)}}if(a.length>0){var c=a.shift(),d=new XMLHttpRequest;d.onreadystatechange=b,d.module_name=c.name,d.open("GET",c.url,!0),d.send()}}function run_script(script){$B.$py_module_path[script.name]=script.url;try{var $root=$B.py2js(script.src,script.name,script.name,"__builtins__"),$js=$root.to_js();eval($js),$B.imported[script.name]=$locals}catch(a){if($B.debug>1){console.log(a);for(var attr in a)console.log(attr+" : ",a[attr])}void 0===a.$py_error&&(console.log("Javascript error",a),a=_b_.RuntimeError(a+""));var $trace=_b_.getattr(a,"info")+"\n"+a.__name__+": "+a.args;try{_b_.getattr($B.stderr,"write")($trace)}catch(a){console.log($trace)}throw a}}function brython(options){var _b_=$B.builtins;void 0===$B.meta_path&&($B.meta_path=[]),$B.$options={},void 0===options&&(options={debug:0}),"number"==typeof options&&(options={debug:options}),void 0===options.debug&&(options.debug=0),$B.debug=options.debug,_b_.__debug__=$B.debug>0,void 0===options.static_stdlib_import&&(options.static_stdlib_import=!0),$B.static_stdlib_import=options.static_stdlib_import,void 0!==options.open&&(_b_.open=options.open),$B.$CORS=!1,void 0!==options.CORS&&($B.$CORS=options.CORS),$B.$options=options;var meta_path=[],path_hooks=[];if($B.use_VFS&&(meta_path.push($B.$meta_path[0]),path_hooks.push($B.$path_hooks[0])),options.static_stdlib_import!==!1&&(meta_path.push($B.$meta_path[1]),$B.path.length>3&&($B.path.shift(),$B.path.shift())),meta_path.push($B.$meta_path[2]),$B.meta_path=meta_path,path_hooks.push($B.$path_hooks[1]),$B.path_hooks=path_hooks,void 0!==options.ipy_id)for(var $elts=[],$i=0;$i<options.ipy_id.length;$i++)$elts.push(document.getElementById(options.ipy_id[$i]));else for(var scripts=document.getElementsByTagName("script"),$elts=[],i=0;i<scripts.length;i++){var script=scripts[i];"text/python"!=script.type&&"text/python3"!=script.type||$elts.push(script)}var $href=$B.script_path=window.location.href,$href_elts=$href.split("/");$href_elts.pop(),void 0!==options.pythonpath&&($B.path=options.pythonpath),void 0!==options.re_module&&("pyre"!=options.re_module&&"jsre"!=options.re_module||($B.$options.re=options.re)),$B.scripts=[],$B.js={};var kk=Object.keys(window),first_script=!0,module_name;if(void 0!==options.ipy_id){module_name="__main__";var $src="";$B.$py_module_path[module_name]=$href;for(var $i=0;$i<$elts.length;$i++){var $elt=$elts[$i];$src+=$elt.innerHTML||$elt.textContent}try{var $root=$B.py2js($src,module_name,module_name,"__builtins__"),$js=$root.to_js();$B.debug>1&&console.log($js),$B.async_enabled?($js=$B.execution_object.source_conversion($js),eval($js)):eval($js)}catch(a){if($B.debug>1){console.log(a);for(var attr in a)console.log(attr+" : ",a[attr])}void 0===a.$py_error&&(console.log("Javascript error",a),a=_b_.RuntimeError(a+""));var $trace=_b_.getattr(a,"info")+"\n"+a.__name__+": "+a.args;try{_b_.getattr($B.stderr,"write")($trace)}catch(a){console.log($trace)}throw a}}else{for(var defined_ids={},i=0;i<$elts.length;i++){var elt=$elts[i];if(elt.id){if(defined_ids[elt.id])throw Error("Brython error : Found 2 scripts with the same id '"+elt.id+"'");defined_ids[elt.id]=!0}}for(var inner_scripts={},ext_scripts=[],$i=0;$i<$elts.length;$i++){var $elt=$elts[$i];if("text/python"==$elt.type||"text/python3"===$elt.type){if($elt.id)module_name=$elt.id;else for(first_script?(module_name="__main__",first_script=!1):module_name="__main__"+$B.UUID();void 0!==defined_ids[module_name];)module_name="__main__"+$B.UUID();$B.scripts.push(module_name);var $src=null;if($elt.src)ext_scripts.push({name:module_name,url:$elt.src});else{var $src=$elt.innerHTML||$elt.textContent;inner_scripts[module_name]=$src,$B.$py_module_path[module_name]=$href,run_script({name:module_name,src:$src,url:$href})}}}}load_ext(ext_scripts)}var js,$pos,res,$op,keys=$B.keys=function(a){var b=[],c=0;for(var d in a)b[c++]=d;return b.sort(),b},clone=$B.clone=function(a){var b={};for(var c in a)b[c]=a[c];return b};$B.last=function(a){return a[a.length-1]},$B.list2obj=function(a,b){var c={},d=a.length;for(void 0===b&&(b=!0);d-- >0;)c[a[d]]=b;return c};for(var $operators={"//=":"ifloordiv",">>=":"irshift","<<=":"ilshift","**=":"ipow","**":"pow","//":"floordiv","<<":"lshift",">>":"rshift","+=":"iadd","-=":"isub","*=":"imul","/=":"itruediv","%=":"imod","&=":"iand","|=":"ior","^=":"ixor","+":"add","-":"sub","*":"mul","/":"truediv","%":"mod","&":"and","|":"or","~":"invert","^":"xor","<":"lt",">":"gt","<=":"le",">=":"ge","==":"eq","!=":"ne",or:"or",and:"and",in:"in",is:"is",not_in:"not_in",is_not:"is_not"},$augmented_assigns={"//=":"ifloordiv",">>=":"irshift","<<=":"ilshift","**=":"ipow","+=":"iadd","-=":"isub","*=":"imul","/=":"itruediv","%=":"imod","&=":"iand","|=":"ior","^=":"ixor"},noassign=$B.list2obj(["True","False","None","__debug__"]),$op_order=[["or"],["and"],["in","not_in"],["<","<=",">",">=","!=","==","is","is_not"],["|"],["^"],["&"],[">>","<<"],["+"],["-"],["*","/","//","%"],["unary_neg","unary_inv","unary_pos"],["**"]],$op_weight={},$weight=1,$i=0;$i<$op_order.length;$i++){for(var _tmp=$op_order[$i],$j=0;$j<_tmp.length;$j++)$op_weight[_tmp[$j]]=$weight;$weight++}var $loop_num=0;$B.func_magic=Math.random().toString(36).substr(2,8);var $expr_starters=["id","imaginary","int","float","str","bytes","[","(","{","not","lambda"];$B.forbidden=["super","case","catch","constructor","Date","delete","default","Error","history","function","location","Math","new","null","Number","RegExp","this","throw","var","toString"];for(var s_escaped="abfnrtvxuU\"'\\",is_escaped={},i=0;i<s_escaped.length;i++)is_escaped[s_escaped.charAt(i)]=!0;$B.py2js=function(a,b,c,d,e){var f=(new Date).getTime();a=a.replace(/\r\n/gm,"\n"),"\n"!=a.charAt(a.length-1)&&(a+="\n");var g=Array.isArray(c);g&&(c=c[0]);var h="$"==c.charAt(0),i="$locals_"+c.replace(/\./g,"_"),j="$locals_"+b.replace(/\./g,"_");$B.bound[b]=$B.bound[b]||{},$B.bound[b].__doc__=!0,$B.bound[b].__name__=!0,$B.bound[b].__file__=!0,$B.type[b]=$B.type[b]||{},$B.type[c]=$B.type[c]||{},$B.$py_src[c]=$B.$py_src[c]||a;var k=$tokenize(a,b,c,d,e);k.transform();var l=["var $B = __BRYTHON__;\n"],m=1;l[m++]="eval(__BRYTHON__.InjectBuiltins());\n\n",l[m]="var ",g?l[m]+=i+"=$locals_"+b+", ":h||(l[m]+=i+'=$B.imported["'+c+'"] || {}, '),l[m]+="$locals="+i+";";var n=0;k.insert(0,$NodeJS(l.join(""))),n++;var o=new $Node;new $NodeJSCtx(o,i+'["__doc__"]='+(k.doc_string||"None")+";"),k.insert(n++,o);var p=new $Node;new $NodeJSCtx(p,i+'["__name__"]='+i+'["__name__"] || "'+c+'";'),k.insert(n++,p);var q=new $Node;new $NodeJSCtx(q,i+'["__file__"]="'+$B.$py_module_path[b]+'";None;\n'),k.insert(n++,q);var r=n;k.insert(n++,$NodeJS('$B.enter_frame(["'+c+'", '+i+',"'+b+'", '+j+"]);\n"));var s=new $Node,t=k.children.slice(r+1,k.children.length),u=new $NodeCtx(s);k.insert(r+1,s),new $TryCtx(u),0==t.length&&(t=[$NodeJS("")]);for(var v=0;v<t.length;v++)s.add(t[v]);k.children.splice(r+2,k.children.length);var w=new $Node,u=new $NodeCtx(w);if(new $SingleKwCtx(u,"finally"),w.add($NodeJS('$B.leave_frame("'+c+'")')),k.add(w),$B.debug>0&&$add_line_num(k,null,b),$B.debug>=2){var x=(new Date).getTime();console.log("module "+b+" translated in "+(x-f)+" ms")}return k},$B.$operators=$operators,$B.$Node=$Node,$B.$NodeJSCtx=$NodeJSCtx,$B.brython=brython}(__BRYTHON__);var brython=__BRYTHON__.brython;__BRYTHON__.$__new__=function(a){return function(b){var c=a.apply(null,[]);c.__class__=b.$dict;var d=null;try{d=__BRYTHON__.builtins.getattr(c,"__init__")}catch(a){}if(null!==d){for(var e=[],f=0,g=1,h=arguments.length;g<h;g++)e[f++]=arguments[g];d.apply(null,e),c.__initialized__=!0}return c}},__BRYTHON__.builtins.object=function(a){function b(){return{__class__:d}}var c=a.builtins,d={__name__:"object",$native:!0},e={__lt__:"__gt__",__gt__:"__lt__",__le__:"__ge__",__ge__:"__le__"},f=function(b,f){return function(g,h){var i=a.get_class(h),j=c.getattr(i,e[b]);if(j.__func__===d[e[b]])throw c.TypeError("unorderable types: object() "+f+" "+c.str(a.get_class(h).__name__)+"()");return j(h,g)}},g=["add","sub","mul","truediv","floordiv","mod","pow","lshift","rshift","and","xor","or"],h=["+","-","*","/","//","%","**","<<",">>","&","^","|"];return d.__delattr__=function(a,b){return c.getattr(a,b),delete a[b],c.None},d.__dir__=function(b){for(var d=[b],e=1,f=a.get_class(b).__mro__,g=0,h=f.length;g<h;g++)d[e++]=f[g];for(var i=[],e=0,g=0,h=d.length;g<h;g++)for(var j in d[g])"$"==j.charAt(0)&&"$"!=j.charAt(1)||isNaN(parseInt(j.charAt(0)))&&"__mro__"!=j&&(i[e++]=j);return i=c.list(c.set(i)),c.list.$dict.sort(i),i},d.__eq__=function(b,d){var e=a.get_class(b);if(e.$native||"function"==e.__name__){var f=a.get_class(d);if(!f.$native&&"function"!=f.__name__)return c.getattr(d,"__eq__")(b)}return b===d},d.__format__=function(){var b=a.args("__format__",2,{self:null,spec:null},["self","spec"],arguments,{},null,null);if(""!==b.spec)throw c.TypeError("non-empty format string passed to object.__format__");return c.getattr(b.self,"__repr__")()},d.__ge__=f("__ge__",">="),d.__getattribute__=function(b,d){var e=a.get_class(b);if("__class__"===d)return e.$factory;var f=b[d];if(void 0===f)for(var i=e.__mro__,j=0,k=i.length;j<k;j++){if(i[j].$methods){var l=i[j].$methods[d];if(void 0!==l)return l(b)}var m=i[j][d];if(void 0!==m){f=m;break}if("__str__"==d&&void 0!==i[j].__repr__){f=i[j].repr;break}}else if(void 0===f.__set__)return f;if(void 0!==f){if(f.__class__===c.property.$dict)return f.__get__(f,b,e);var n=c.getattr(f,"__get__",null);if(null!==n)try{return n.apply(null,[b,e])}catch(a){throw console.log("error in get.apply",a),console.log(n+""),a}if("object"==typeof f&&n&&"function"==typeof n&&(get_func=function(a,b){return n.apply(a,[b,e])}),null===n&&"function"==typeof f&&(n=function(a){return a}),null!==n){f.__name__=d,"__new__"==d&&(f.$type="staticmethod");var o=n.apply(null,[f,b,e]);return"function"==typeof o?o.__class__===a.$factory?f:o.__class__===a.$MethodDict?f:a.make_method(d,e,f,o)(b):o}return f}var p=b.__getattr__;if(void 0===p){var i=e.__mro__;void 0===i&&console.log("in getattr mro undefined for "+b);for(var j=0,k=i.length;j<k;j++){var m=i[j].__getattr__;if(void 0!==m){p=m;break}}}if(void 0!==p)try{return p(b,d)}catch(a){}if("__"==d.substr(0,2)&&"__"==d.substr(d.length-2)){var q=d.substr(2,d.length-4),r=g.indexOf(q);if(r>-1){var s="__r"+g[r]+"__",t=function(){try{if(a.get_class(arguments[0])===e)throw Error("");return c.getattr(arguments[0],s)(b)}catch(b){var d="unsupported operand types for "+h[r]+": '"+e.__name__+"' and '"+a.get_class(arguments[0]).__name__+"'";throw c.TypeError(d)}};return t.$infos={__name__:e.__name__+"."+d},t}}},d.__gt__=f("__gt__",">"),d.__hash__=function(b){return a.$py_next_hash+=1,a.$py_next_hash},d.__init__=function(){return c.None},d.__le__=f("__le__","<="),d.__lt__=f("__lt__","<"),d.__mro__=[d],d.__new__=function(a){if(void 0===a)throw c.TypeError("object.__new__(): not enough arguments");return{__class__:a.$dict}},d.__ne__=function(a,b){return!c.getattr(a,"__eq__")(b)},d.__or__=function(a,b){return c.bool(a)?a:b},d.__repr__=function(c){return c===b?"<class 'object'>":c.__class__===a.$factory?"<class '"+c.$dict.__name__+"'>":void 0!==c.__class__.__module__?"<"+c.__class__.__module__+"."+c.__class__.__name__+" object>":"<"+c.__class__.__name__+" object>"},d.__setattr__=function(a,b,e){if(void 0===e)throw c.TypeError("can't set attributes of built-in/extension type 'object'");if(a.__class__===d)throw void 0===d[b]?c.AttributeError("'object' object has no attribute '"+b+"'"):c.AttributeError("'object' object attribute '"+b+"' is read-only");return a[b]=e,c.None},d.__setattr__.__str__=function(){return"method object.setattr"},d.__str__=d.__repr__,d.__subclasshook__=function(){return c.NotImplemented},b.$dict=d,d.$factory=b,b.__repr__=b.__str__=function(){return"<class 'object'>"},a.make_class=function(c){function d(){var a={__class__:d.$dict};return c.init&&c.init.apply(null,[a].concat(Array.prototype.slice.call(arguments))),a}return d.__class__=a.$factory,d.$dict={$factory:d,__class__:a.type,__name__:c.name},d.$dict.__mro__=[d.$dict,b.$dict],d},b}(__BRYTHON__),function(a){function b(b,c){for(var d=[],e=0,g=0;g<b.length;g++){b[g]===f.str?b[g]=a.$StringSubclassFactory:b[g]===f.list&&(b[g]=a.$ListSubclassFactory);for(var h=[],i=0,j=b[g].$dict.__mro__,k=0;k<j.length;k++)h[i++]=j[k];d[e++]=h}b.indexOf(f.object)==-1&&(b=b.concat(f.tuple([f.object])));for(var g=0;g<b.length;g++)d[e++]=b[g].$dict;for(var l=[],m=0;;){for(var n=[],i=0,g=0;g<d.length;g++)d[g].length>0&&(n[i++]=d[g]);if(0==n.length)break;for(var g=0;g<n.length;g++){for(var o=n[g],p=o[0],q=[],i=0,r=0;r<n.length;r++){var s=n[r];s.slice(1).indexOf(p)>-1&&(q[i++]=s)}if(!(q.length>0))break;p=null}if(null===p)throw f.TypeError("inconsistent hierarchy, no C3 MRO is possible");l[m++]=p;for(var g=0;g<d.length;g++){var o=d[g];o[0]===p&&d[g].shift()}}return l[l.length-1]!==f.object.$dict&&(l[m++]=f.object.$dict),l}function c(a){var b=null;try{b=f.getattr(a,"__new__")}catch(a){}var c=null;try{c=f.getattr(a,"__init__")}catch(a){}var d=!1;if(0==a.__bases__.length)d=!0;else if(1==a.__bases__.length)switch(a.__bases__[0]){case f.object:case f.type:d=!0;break;default:d=!1}return d&&void 0==a.__new__&&null!==c?function(){var b={__class__:a};return c.apply(null,[b].concat(Array.prototype.slice.call(arguments))),b}:function(){var e,f=Array.prototype.slice.call(arguments);return d&&void 0==a.__new__?e={__class__:a}:null!==b&&(e=b.apply(null,[a.$factory].concat(f))),e.__initialized__||null!==c&&c.apply(null,[e].concat(f)),e}}function d(a,b){return{__class__:d.$dict,klass:a,attr:b}}function e(){}var f=a.builtins;a.$class_constructor=function(c,d,e,g,h){var i=f.dict(),j=null,k=f.dict.$dict.__setitem__;for(var l in d)k(i,l,d[l]);if(void 0!==e)for(var m=0;m<e.length;m++)if(void 0===e[m])throw a.line_info=d.$def_line,f.NameError("name '"+g[m]+"' is not defined");j=e;for(var n=f.type,m=0;m<h.length;m++){var o=h[m][0],p=h[m][1];"metaclass"==o&&(n=p)}for(var q={__name__:c.replace("$$",""),__bases__:j,__dict__:i},r=a.$dict_items(i),m=0;m<r.length;m++)q[r[m][0]]=r[m][1];q.__mro__=[q].concat(b(j,i));for(var m=0;m<q.__mro__.length;m++){var s=q.__mro__[m].__slots__;if(void 0!==s){s=f.list(s);for(var t=0;t<s.length;t++)i.$slots=i.$slots||{},i.$slots[s[t]]=q.__mro__[m]}}for(var m=1;m<q.__mro__.length;m++)q.__mro__[m].__class__!==a.$type&&(n=q.__mro__[m].__class__.$factory);q.__class__=n.$dict;var u=a.$type.__getattribute__(n.$dict,"__new__");if(u.__func__===a.$type.__new__)var v=f.type.$dict.__new__(f.type,c,j,i);else var v=u(n,c,j,i);for(var m=0;m<e.length;m++)e[m].$dict.$subclasses=e[m].$dict.$subclasses||[],e[m].$dict.$subclasses.push(v);if(n===f.type)return v;for(var l in q)v.$dict[l]=q[l];v.$dict.$factory=v;for(var w in n.$dict)"function"==typeof n.$dict[w]&&"__new__"!=w&&(n.$dict[w].$type="classmethod");
return v.$is_func=!0,v},a.$class_constructor1=function(b,c){if(void 0===c.__init__)var d=function(){this.__class__=c};else var d=function(a){this.__class__=c,c.__init__.apply(null,[this].concat(Array.prototype.slice.call(a)))};var e=function(){return new d(arguments)};e.__class__=a.$factory,e.__name__=b,e.$dict=c,c.__class__=a.$type,c.__name__=b,c.__mro__=[c,f.object.$dict];for(var g in c)e.prototype[g]=c[g];return c.$factory=e,e},a.make_method=function(b,c,d,e){var g;switch(d.$type){case void 0:case"function":g=function(e){var g=function(){for(var a=[e],b=a.length,c=0,g=arguments.length;c<g;c++)a[b++]=arguments[c];var h=f.getattr(d,"__get__",d);return h.apply(null,a)};return g.__class__=a.$MethodDict,g.$infos={__class__:c.$factory,__func__:d,__name__:b,__self__:e},g};break;case"instancemethod":return d;case"classmethod":g=function(){var e=function(){for(var a=[c],b=a.length,e=0,f=arguments.length;e<f;e++)a[b++]=arguments[e];return d.apply(null,a)};return e.__class__=a.$MethodDict,e.$infos={__class__:c.$factory,__func__:d,__name__:b},e};break;case"staticmethod":g=function(){return d}}return g},f.type=function(b,c,d){return 1==arguments.length?b.__class__===a.$factory?b.$dict.__class__.$factory:a.get_class(b).$factory:a.$type.__new__(f.type,b,c,d)},f.type.__class__=a.$factory,a.$type={$factory:f.type,__name__:"type"},a.$type.__class__=a.$type,a.$type.__mro__=[a.$type,f.object.$dict],f.type.$dict=a.$type,a.$type.__new__=function(d,e,f,g){for(var h={__class__:a.$type,__name__:e.replace("$$",""),__bases__:f,__dict__:g,$methods:{},$slots:g.$slots},i=a.$dict_items(g),j=0;j<i.length;j++){var e=i[j][0],k=i[j][1];h[e]=k,"function"==typeof k&&k.__class__!==a.$factory&&k.__class__!==a.$MethodDict&&(h.$methods[e]=a.make_method(e,h,k,k))}h.__mro__=[h].concat(b(f,g)),h.__class__=h.__mro__[1].__class__;var l=c(h),m=function(){return l.apply(null,arguments)};return m.__class__=a.$factory,m.$dict=h,m.$is_func=!0,m.__eq__=function(a){return a===m.__class__},h.$factory=m,m},a.$factory={__class__:a.$type,$factory:f.type,is_class:!0},a.$factory.__mro__=[a.$factory,a.$type,f.object.$dict],f.type.__class__=a.$factory,f.object.$dict.__class__=a.$type,f.object.__class__=a.$factory,a.$type.__getattribute__=function(b,e){switch(e){case"__call__":return c(b);case"__eq__":return function(a){return b.$factory===a};case"__ne__":return function(a){return b.$factory!==a};case"__class__":return b.__class__.$factory;case"__doc__":return b.__doc__||f.None;case"__setattr__":return void 0!==b.__setattr__?b.__setattr__:function(a,c){b[a]=c};case"__delattr__":return void 0!==b.__delattr__?b.__delattr__:function(a){delete b[a]};case"__hash__":return function(){if(0==arguments.length)return b.__hashvalue__||a.$py_next_hash--}}var g=b[e];if(void 0===g){var h=b.__mro__;void 0===h&&console.log("attr "+e+" mro undefined for class "+b+" name "+b.__name__,b,b.__class__);for(var i=0;i<h.length;i++){var j=h[i][e];if(void 0!==j){g=j;break}}var k=b.__class__.__mro__;if(void 0===g){var k=b.__class__.__mro__;if(void 0!==k)for(var i=0;i<k.length;i++){var j=k[i][e];if(void 0!==j){g=j;break}}}if(void 0===g){for(var l=null,i=0;i<k.length;i++)if(void 0!==k[i].__getattr__){l=k[i].__getattr__;break}if(null!==l)return"classmethod"==l.$type?l(b.$factory,e):l(e)}}if(void 0===g&&b.$slots&&void 0!==b.$slots[e])return d(b.$slots[e],e);if(void 0!==g){if(g.__class__===a.$PropertyDict)return g;var m=g.__get__;if(void 0===m&&"function"==typeof g&&(m=function(a){return a}),void 0===m)return g;"__new__"==e&&(g.$type="staticmethod");var n=m.apply(null,[g,a.builtins.None,b]);if(n.__class__===a.$factory)return n;if("function"==typeof n){g.__name__=e;var o,p,q,r,s=n;switch(g.$type){case void 0:case"function":case"instancemethod":r=[],p=q=function(a){return function(){return"<function "+b.__name__+"."+a+">"}}(e);break;case"classmethod":r=[b.$factory],o=b,p=q=function(){var a="<bound method "+b.__name__+"."+e;return a+=" of "+b.__name__+">"};break;case"staticmethod":r=[],p=q=function(a){return function(){return"<function "+b.__name__+"."+a+">"}}(e)}var t=function(a){return function(){for(var b=a.slice(),c=b.length,d=0;d<arguments.length;d++)b[c++]=arguments[d];return g.apply(null,b)}}(r);t.__class__=a.$FunctionDict,t.__eq__=function(a){return a.__func__===s};for(var e in g)t[e]=g[e];return t.__func__=s,t.__repr__=p,t.__self__=o,t.__str__=q,t.__code__={__class__:a.CodeDict},t.__doc__=g.__doc__||"",t.im_class=b,t}}},d.__class__=a.$factory,d.$dict={__class__:a.$type,__name__:"member_descriptor",$factory:d,__str__:function(a){return"<member '"+a.attr+"' of '"+a.klass.__name__+"' objects>"}},d.$dict.__mro__=[d.$dict,f.object.$dict],e.__class__=a.$factory,a.$MethodDict={__class__:a.$type,__name__:"method",$factory:e},a.$MethodDict.__eq__=function(a,b){return void 0!==a.$infos&&void 0!==b.$infos&&a.$infos.__func__===b.$infos.__func__&&a.$infos.__self__===b.$infos.__self__},a.$MethodDict.__ne__=function(b,c){return!a.$MethodDict.__eq__(b,c)},a.$MethodDict.__getattribute__=function(b,c){var d=b.$infos.__func__.$infos;if(d&&d[c]){if("__code__"==c){var e={__class__:a.$CodeDict};for(var c in d.__code__)e[c]=d.__code__[c];return e}return d[c]}return f.object.$dict.__getattribute__(b,c)},a.$MethodDict.__mro__=[a.$MethodDict,f.object.$dict],a.$MethodDict.__repr__=a.$MethodDict.__str__=function(a){var b="<bound method "+a.$infos.__class__.$dict.__name__+".";return b+=a.$infos.__name__+" of ",b+f.str(a.$infos.__self__)+">"},e.$dict=a.$MethodDict,a.$InstanceMethodDict={__class__:a.$type,__name__:"instancemethod",__mro__:[f.object.$dict],$factory:e}}(__BRYTHON__),function($B){function clear(a){delete $B.vars[a],$B.bound[a],$B.modules[a],$B.imported[a]}function index_error(a){var b="string"==typeof a?"string":"list";throw _b_.IndexError(b+" index out of range")}function _code(){}function $err(a,b,c){var d="unsupported operand type(s) for "+a;throw d+=": '"+b.__name__+"' and '"+$B.get_class(c).__name__+"'",_b_.TypeError(d)}var _b_=$B.builtins;$B.args=function(a,b,c,d,e,f,g,h){var i=!1,j=e.length;if(j>0&&"kw"==e[j-1].$nat){i=!0,j--;var k=e[j].kw}if(g&&(c[g]=[]),h&&(c[h]=_b_.dict()),j>b){if(null===g)throw q=a+"() takes "+b+" positional argument"+(b>1?"":"s")+" but more were given",_b_.TypeError(q);c[g]=_b_.tuple(Array.prototype.slice.call(e,b,j)),j=b}for(var l=0;l<j;l++)c[d[l]]=e[l];if(i)for(var m in k){var n=k[m],m=m.replace(/\$/g,"");if(void 0===c[m]){if(!h)throw _b_.TypeError(a+"() got an unexpected keyword argument '"+m+"'");c[h].$string_dict[m]=n}else{if(null!==c[m])throw _b_.TypeError(a+"() got multiple values for argument '"+m+"'");c[m]=n}}var o=[];for(var p in c)null===c[p]&&(void 0!==f[p]?c[p]=f[p]:o.push("'"+p+"'"));if(o.length>0){if(1==o.length)throw _b_.TypeError(a+" missing 1 positional argument: '"+o[0]+"'");var q=a+" missing "+o.length+" positional arguments: ";throw q+=o.join(" and "),_b_.TypeError(q)}return c},$B.get_class=function(a){if(null===a)return $B.$NoneDict;var b=a.__class__;if(void 0===b)switch(typeof a){case"number":return a%1===0?(a.__class__=_b_.int.$dict,_b_.int.$dict):(a.__class__=_b_.float.$dict,_b_.float.$dict);case"string":return a.__class__=_b_.str.$dict,_b_.str.$dict;case"boolean":return a.__class__=$B.$BoolDict,$B.$BoolDict;case"function":return a.__class__=$B.$FunctionDict,$B.$FunctionDict;case"object":if(a.constructor===Array)return a.__class__=_b_.list.$dict,_b_.list.$dict;if(a.constructor===Number)return _b_.float.$dict}return b},$B.$mkdict=function(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c},$B.$list_comp=function(env){for(var $ix=$B.UUID(),$py="x"+$ix+"=[]\n",indent=0,$i=2,_len_$i=arguments.length;$i<_len_$i;$i++)$py+=" ".repeat(indent),$py+=arguments[$i].join("")+":\n",indent+=4;$py+=" ".repeat(indent),$py+="x"+$ix+".append("+arguments[1].join("\n")+")\n";for(var i=0;i<env.length;i++){var sc_id="$locals_"+env[i][0].replace(/\./,"_");eval("var "+sc_id+"=env[i][1]")}var locals_id=env[0][0],module_obj=env[env.length-1],globals_id=module_obj[0],listcomp_name="lc"+$ix,$root=$B.py2js($py,globals_id,listcomp_name,locals_id,$B.line_info);$root.caller=$B.line_info;var $js=$root.to_js();try{eval($js);var res=eval("$locals_"+listcomp_name+'["x"+$ix]')}catch(a){throw $B.exception(a)}finally{clear(listcomp_name)}return res},$B.$list_comp1=function(a){for(var b=$B.UUID(),c="x"+b+"=[]\n",d=0,e=1,f=a.length;e<f;e++)c+=" ".repeat(d),c+=a[e]+":\n",d+=4;return c+=" ".repeat(d),c+="x"+b+".append("+a[0]+")\n",[c,b]},$B.$dict_comp=function(env){for(var $ix=$B.UUID(),$res="res"+$ix,$py=$res+"={}\n",indent=0,$i=2,_len_$i=arguments.length;$i<_len_$i;$i++)$py+=" ".repeat(indent),$py+=arguments[$i]+":\n",indent+=4;$py+=" ".repeat(indent),$py+=$res+".update({"+arguments[1].join("\n")+"})";for(var i=0;i<env.length;i++){var sc_id="$locals_"+env[i][0].replace(/\./,"_");eval("var "+sc_id+"=env[i][1]")}var local_name=env[0][0],module_env=env[env.length-1],module_name=module_env[0],dictcomp_name="dc"+$ix,$root=$B.py2js($py,module_name,dictcomp_name,local_name,$B.line_info);$root.caller=$B.line_info;var $js=$root.to_js();eval($js);var res=eval("$locals_"+dictcomp_name+'["'+$res+'"]');return res},$B.$gen_expr=function(env){for(var $ix=$B.UUID(),$res="res"+$ix,$py=$res+"=[]\n",indent=0,$i=2,_len_$i=arguments.length;$i<_len_$i;$i++)$py+=" ".repeat(indent),$py+=arguments[$i].join(" ")+":\n",indent+=4;$py+=" ".repeat(indent),$py+=$res+".append("+arguments[1].join("\n")+")";for(var i=0;i<env.length;i++){var sc_id="$locals_"+env[i][0].replace(/\./g,"_");eval("var "+sc_id+"=env[i][1]")}var local_name=env[0][0],module_env=env[env.length-1],module_name=module_env[0],genexpr_name="ge"+$ix,$root=$B.py2js($py,module_name,genexpr_name,local_name,$B.line_info),$js=$root.to_js();eval($js);var $res1=eval("$locals_ge"+$ix)["res"+$ix],$GenExprDict={__class__:$B.$type,__name__:"generator",toString:function(){return"(generator)"}};$GenExprDict.__mro__=[$GenExprDict,_b_.object.$dict],$GenExprDict.__iter__=function(a){return a},$GenExprDict.__next__=function(a){if(a.$counter+=1,a.$counter==a.value.length)throw _b_.StopIteration("");return a.value[a.$counter]},$GenExprDict.$factory={__class__:$B.$factory,$dict:$GenExprDict};var $res2={value:$res1,__class__:$GenExprDict,$counter:-1};return $res2.toString=function(){return"ge object"},$res2},$B.$lambda=function(env,args,body){var rand=$B.UUID(),$res="lambda_"+$B.lambda_magic+"_"+rand,$py="def "+$res+"("+args+"):\n";$py+="    return "+body;for(var i=0;i<env.length;i++){var sc_id="$locals_"+env[i][0].replace(/\./g,"_");eval("var "+sc_id+"=env[i][1]")}var local_name=env[0][0],module_env=env[env.length-1],module_name=module_env[0],lambda_name="lambda"+rand,$js=$B.py2js($py,module_name,lambda_name,local_name).to_js();eval($js);var $res=eval("$locals_"+lambda_name+'["'+$res+'"]');return $res.__module__=module_name,$res.__name__="<lambda>",$res},$B.$search=function(a,b){var c=$B.last($B.frames_stack);if(void 0!==c[1][a])return c[1][a];if(void 0!==c[3][a])return c[3][a];if(void 0!==_b_[a])return _b_[a];throw c[0]==c[2]?_b_.NameError(a):_b_.UnboundLocalError("local variable '"+a+"' referenced before assignment")},$B.$global_search=function(a){var b=$B.last($B.frames_stack);if(void 0!==b[3][a])return b[3][a];throw _b_.NameError(a)},$B.$local_search=function(a){var b=$B.last($B.frames_stack);if(void 0!==b[1][a])return b[1][a];throw _b_.UnboundLocalError("local variable '"+a+"' referenced before assignment")},$B.$JS2Py=function(a){if("number"==typeof a)return a%1===0?a:_b_.float(a);if(null===a||void 0===a)return _b_.None;var b=$B.get_class(a);if(void 0!==b)if(b===_b_.list.$dict)for(var c=0,d=a.length;c<d;c++)a[c]=$B.$JS2Py(a[c]);else{if(b!==$B.JSObject.$dict)return a;a=a.js}if("object"==typeof a){if($B.$isNode(a))return $B.DOMNode(a);if($B.$isEvent(a))return $B.DOMEvent(a);if(a.constructor===Array||$B.$isNodeList(a)){for(var e=[],f=0,c=0,d=a.length;c<d;c++)e[f++]=$B.$JS2Py(a[c]);return e}}return $B.JSObject(a)},$B.list_key=function(a,b){b=$B.$GetInt(b),b<0&&(b+=a.length);var c=a[b];if(void 0===c)throw _b_.IndexError("list index out of range");return c},$B.list_slice=function(a,b,c){return null===b?b=0:(b=$B.$GetInt(b),b<0&&(b=Math.max(0,b+a.length))),null===c?a.slice(b):(c=$B.$GetInt(c),c<0&&(c=Math.max(0,c+a.length)),a.slice(b,c))},$B.list_slice_step=function(a,b,c,d){if(null===d||1==d)return $B.list_slice(a,b,c);if(0==d)throw _b_.ValueError("slice step cannot be zero");d=$B.$GetInt(d),null===b?b=d>=0?0:a.length-1:(b=$B.$GetInt(b),b<0&&(b=Math.min(0,b+a.length))),null===c?c=d>=0?a.length:-1:(c=$B.$GetInt(c),c<0&&(c=Math.max(0,c+a.length)));var e=[];a.length;if(d>0)for(var f=b;f<c;f+=d)e.push(a[f]);else for(var f=b;f>c;f+=d)e.push(a[f]);return e},$B.$getitem=function(a,b){if("number"==typeof b&&(Array.isArray(a)||"string"==typeof a)){if(b=b>=0?b:a.length+b,void 0!==a[b])return $B.$JS2Py(a[b]);index_error(a)}try{b=$B.$GetInt(b)}catch(a){}if((Array.isArray(a)||"string"==typeof a)&&"number"==typeof b){if(b=b>=0?b:a.length+b,void 0!==a[b])return a[b];index_error(a)}return _b_.getattr(a,"__getitem__")(b)},$B.set_list_key=function(a,b,c){try{b=$B.$GetInt(b)}catch(e){if(_b_.isinstance(b,_b_.slice)){var d=_b_.slice.$dict.$conv_for_seq(b,a.length);return $B.set_list_slice_step(a,d.start,d.stop,d.step,c)}}if(b<0&&(b+=a.length),void 0===a[b])throw console.log(a,b),_b_.IndexError("list assignment index out of range");a[b]=c},$B.set_list_slice=function(a,b,c,d){null===b?b=0:(b=$B.$GetInt(b),b<0&&(b=Math.max(0,b+a.length))),null===c&&(c=a.length),c=$B.$GetInt(c),c<0&&(c=Math.max(0,c+a.length));var e=_b_.list(d);a.splice.apply(a,[b,c-b].concat(e))},$B.set_list_slice_step=function(a,b,c,d,e){if(null===d||1==d)return $B.set_list_slice(a,b,c,e);if(0==d)throw _b_.ValueError("slice step cannot be zero");d=$B.$GetInt(d),null===b?b=d>0?0:a.length-1:(b=$B.$GetInt(b),b<0&&(b=Math.min(0,b+a.length))),null===c?c=d>0?a.length:-1:(c=$B.$GetInt(c),c<0&&(c=Math.max(0,c+a.length)));var f,g=_b_.list(e),h=0,i=0;f=d>0?function(a){return a<c}:function(a){return a>c};for(var j=b;f(j);j+=d)i++;if(i!=g.length)throw _b_.ValueError("attempt to assign sequence of size "+g.length+" to extended slice of size "+i);for(var j=b;f(j);j+=d)a[j]=g[h],h++},$B.$setitem=function(a,b,c){if(Array.isArray(a)&&"number"==typeof b&&!_b_.isinstance(a,_b_.tuple)){if(b<0&&(b+=a.length),void 0===a[b])throw _b_.IndexError("list assignment index out of range");return void(a[b]=c)}return a.__class__===_b_.dict.$dict?void a.__class__.__setitem__(a,b,c):void _b_.getattr(a,"__setitem__")(b,c)},$B.augm_item_add=function(a,b,c){if(Array.isArray(a)&&"number"==typeof b&&void 0!==a[b])return void(a[b]+=c);var d=_b_.getattr;try{var e=d(d(a,"__getitem__")(b),"__iadd__");console.log("has augmfunc")}catch(e){return void d(a,"__setitem__")(b,d(d(a,"__getitem__")(b),"__add__")(c))}e(value)};for(var augm_item_src=""+$B.augm_item_add,augm_ops=[["-=","sub"],["*=","mul"]],i=0,_len_i=augm_ops.length;i<_len_i;i++){var augm_code=augm_item_src.replace(/add/g,augm_ops[i][1]);augm_code=augm_code.replace(/\+=/g,augm_ops[i][0]),eval("$B.augm_item_"+augm_ops[i][1]+"="+augm_code)}$B.$raise=function(){var a=$B.current_exception;if(void 0!==a)throw a;throw _b_.RuntimeError("No active exception to reraise")},$B.$syntax_err_line=function(a,b,c){var d={},e=1,f=$B.$py_src[b];void 0===f&&console.log("no src for",b);for(var g={1:0},h=0,i=f.length;h<i;h++)d[h]=e,"\n"==f.charAt(h)&&(g[++e]=h);var j=d[c];a.$line_info=j+","+b;var k=f.split("\n"),l=k[j-1],m=c-g[j],n=l.length;l=l.replace(/^\s*/,""),m-=n-l.length,a.args=_b_.tuple([$B.$getitem(a.args,0),b,j,m,l])},$B.$SyntaxError=function(a,b,c){var d=_b_.SyntaxError(b);throw $B.$syntax_err_line(d,a,c),d},$B.$IndentationError=function(a,b,c){var d=_b_.IndentationError(b);throw $B.$syntax_err_line(d,a,c),d},$B.extend=function(a,b,c){for(var d=_b_.iter(c),e=_b_.getattr(c,"__getitem__");;)try{var f=_b_.next(d);if("string"!=typeof f)throw _b_.TypeError(a+"() keywords must be strings");if(void 0!==b[f])throw _b_.TypeError(a+"() got multiple values for argument '"+f+"'");b[f]=e(f)}catch(a){if(_b_.isinstance(a,[_b_.StopIteration]))break;throw a}return b},$B.extend_list=function(){for(var a=Array.prototype.slice.call(arguments,0,arguments.length-1),b=$B.last(arguments),c=_b_.iter(b);;)try{a.push(_b_.next(c))}catch(a){if(_b_.isinstance(a,[_b_.StopIteration]))break;throw a}return a},$B.$test_item=function(a){return $B.$test_result=a,_b_.bool(a)},$B.$test_expr=function(){return $B.$test_result},$B.$is_member=function(a,b){var c,d;try{c=_b_.getattr(b,"__contains__")}catch(a){}if(c)return c(a);try{d=_b_.iter(b)}catch(a){}if(d)for(;;)try{var e=_b_.next(d);if(_b_.getattr(e,"__eq__")(a))return!0}catch(a){if("StopIteration"==a.__name__)return!1;throw a}try{c=_b_.getattr(b,"__getitem__")}catch(a){throw _b_.TypeError("'"+$B.get_class(b).__name__+"' object is not iterable")}if(c)for(var f=-1;;){f++;try{var e=c(f);if(_b_.getattr(e,"__eq__")(a))return!0}catch(a){if("IndexError"==a.__name__)return!1;throw a}}};var $io={__class__:$B.$type,__name__:"io"};$io.__mro__=[$io,_b_.object.$dict],$B.stderr={__class__:$io,write:function(a){console.log(a)},flush:function(){}},$B.stderr_buff="",$B.stdout={__class__:$io,write:function(a){console.log(a)},flush:function(){}},$B.stdin={__class__:$io,__original__:!0,closed:!1,len:1,pos:0,read:function(){return""},readline:function(){return""}},$B.jsobject2pyobject=function(a){switch(a){case null:return _b_.None;case!0:return _b_.True;case!1:return _b_.False}if(_b_.isinstance(a,_b_.list)){for(var b=[],c=0,d=0,e=a.length;d<e;d++)b[c++]=$B.jsobject2pyobject(a[d]);return b}if(void 0!==a.__class__){if(a.__class__===_b_.list){for(var d=0,e=a.length;d<e;d++)a[d]=$B.jsobject2pyobject(a[d]);return a}return a}if("iter"===a._type_)return _b_.iter(a.data);if("object"==typeof a&&void 0===a.__class__){var b=_b_.dict(),f=_b_.dict.$dict.__setitem__;for(var g in a)f(b,g,$B.jsobject2pyobject(a[g]));return b}return $B.JSObject(a)},$B.pyobject2jsobject=function(a){switch(a){case _b_.None:return null;case _b_.True:return!0;case _b_.False:return!1}if(_b_.isinstance(a,[_b_.int,_b_.float,_b_.str]))return a;if(_b_.isinstance(a,[_b_.list,_b_.tuple])){for(var b=[],c=0,d=0,e=a.length;d<e;d++)b[c++]=$B.pyobject2jsobject(a[d]);return b}if(_b_.isinstance(a,_b_.dict)){for(var b={},f=_b_.list(_b_.dict.$dict.items(a)),d=0,e=f.length;d<e;d++)b[$B.pyobject2jsobject(f[d][0])]=$B.pyobject2jsobject(f[d][1]);return b}if(_b_.hasattr(a,"__iter__")){for(var g=[],c=0;;)try{g[c++]=$B.pyobject2jsobject(_b_.next(a))}catch(a){if("StopIteration"!==a.__name__)throw a;break}return{_type_:"iter",data:g}}if(_b_.hasattr(a,"__getstate__"))return _b_.getattr(a,"__getstate__")();if(_b_.hasattr(a,"__dict__"))return $B.pyobject2jsobject(_b_.getattr(a,"__dict__"));throw _b_.TypeError(_b_.str(a)+" is not JSON serializable")},$B.set_line=function(a,b){return $B.line_info=a+","+b,_b_.None},$B.$iterator=function(a,b){var c={__class__:b,__iter__:function(){return c},__len__:function(){return a.length},__next__:function(){if(c.counter++,c.counter<a.length)return a[c.counter];throw _b_.StopIteration("StopIteration")},__repr__:function(){return"<"+b.__name__+" object>"},counter:-1};return c.__str__=c.toString=c.__repr__,c},$B.$iterator_class=function(name){function as_array(a){for(var b=[],c=0,d=_b_.iter(a);;)try{b[c++]=_b_.next(d)}catch(a){if("StopIteration"==a.__name__)break}return b}function as_list(a){return _b_.list(as_array(a))}function as_set(a){return _b_.set(as_array(a))}var res={__class__:$B.$type,__name__:name};res.__mro__=[res,_b_.object.$dict],res.__eq__=function(a,b){return _b_.isinstance(b,[_b_.tuple,_b_.set,_b_.list])?_b_.getattr(as_list(a),"__eq__")(b):_b_.hasattr(b,"__iter__")?_b_.getattr(as_list(a),"__eq__")(as_list(b)):void _b_.NotImplementedError("__eq__ not implemented yet for list and "+_b_.type(b))};for(var _ops=["eq","ne"],_f=res.__eq__+"",i=0;i<_ops.length;i++){var _op="__"+_ops[i]+"__";eval("res."+_op+"="+_f.replace(new RegExp("__eq__","g"),_op))}res.__or__=function(a,b){return _b_.isinstance(b,[_b_.tuple,_b_.set,_b_.list])?_b_.getattr(as_set(a),"__or__")(b):_b_.hasattr(b,"__iter__")?_b_.getattr(as_set(a),"__or__")(as_set(b)):void _b_.NotImplementedError("__or__ not implemented yet for set and "+_b_.type(b))};for(var _ops=["sub","and","xor","gt","ge","lt","le"],_f=res.__or__+"",i=0;i<_ops.length;i++){var _op="__"+_ops[i]+"__";eval("res."+_op+"="+_f.replace(new RegExp("__or__","g"),_op))}return res.$factory={__class__:$B.$factory,$dict:res},res},$B.$CodeDict={__class__:$B.$type,__name__:"code"},$B.$CodeDict.__mro__=[$B.$CodeDict,_b_.object.$dict],_code.__class__=$B.$factory,_code.$dict=$B.$CodeDict,$B.$CodeDict.$factory=_code;var ropnames=["add","sub","mul","truediv","floordiv","mod","pow","lshift","rshift","and","xor","or"],ropsigns=["+","-","*","/","//","%","**","<<",">>","&","^","|"];$B.make_rmethods=function(a){for(var b=0,c=ropnames.length;b<c;b++)void 0===a["__"+ropnames[b]+"__"]&&(a["__"+ropnames[b]+"__"]=function(b,c){return function(d,e){try{return _b_.getattr(e,"__r"+b+"__")(d)}catch(b){$err(c,a,e)}}}(ropnames[b],ropsigns[b]))},$B.set_func_names=function(a){var b=a.__name__;for(var c in a)"function"==typeof a[c]&&(a[c].$infos={__name__:b+"."+c})},$B.UUID=function(){return $B.$py_UUID++},$B.InjectBuiltins=function(){var a=["var _b_=$B.builtins"],b=1;for(var c in $B.builtins)a[b++]="var "+c+'=_b_["'+c+'"]';return a.join(";")},$B.$GetInt=function(a){if("number"==typeof a||a.constructor===Number)return a;if("boolean"==typeof a)return a?1:0;if(_b_.isinstance(a,_b_.int))return a;if(_b_.isinstance(a,_b_.float))return a.valueOf();try{var b=_b_.getattr(a,"__int__")();return b}catch(a){}try{var b=_b_.getattr(a,"__index__")();return b}catch(a){}throw _b_.TypeError("'"+$B.get_class(a).__name__+"' object cannot be interpreted as an integer")},$B.PyNumber_Index=function(a){switch(typeof a){case"boolean":return a?1:0;case"number":return a;case"object":if(a.__class__===$B.LongInt.$dict)return a;var b=_b_.getattr(a,"__index__",null);if(null!==b)return $B.int_or_bool(_b_.getattr(b,"__call__")());default:throw _b_.TypeError("'"+$B.get_class(a).__name__+"' object cannot be interpreted as an integer")}},$B.int_or_bool=function(a){switch(typeof a){case"boolean":return a?1:0;case"number":return a;case"object":if(a.__class__===$B.LongInt.$dict)return a;throw _b_.TypeError("'"+$B.get_class(a).__name__+"' object cannot be interpreted as an integer");default:throw _b_.TypeError("'"+$B.get_class(a).__name__+"' object cannot be interpreted as an integer")}},$B.int_value=function(a){try{return $B.int_or_bool(a)}catch(b){if(_b_.isinstance(a,_b_.complex)&&0==a.imag)return $B.int_or_bool(a.real);if(isinstance(a,_b_.float)&&a==Math.floor(a))return Math.floor(a);throw _b_.TypeError("'"+$B.get_class(a).__name__+"' object cannot be interpreted as an integer")}},$B.enter_frame=function(a){void 0===$B.frames_stack&&alert("frames stack udef"),$B.frames_stack[$B.frames_stack.length]=a},$B.leave_frame=function(a){if(0==$B.frames_stack.length)return void console.log("empty stack");var b=$B.last($B.frames_stack);b[0]!=a&&console.log("leave error","leaving",a,"last on stack",b[0]),$B.frames_stack.pop()};var min_int=Math.pow(-2,53),max_int=Math.pow(2,53)-1;$B.is_safe_int=function(){for(var a=0;a<arguments.length;a++){var b=arguments[a];if(b<min_int||b>max_int)return!1}return!0},$B.add=function(a,b){var c=a+b;if(a>min_int&&a<max_int&&b>min_int&&b<max_int&&c>min_int&&c<max_int)return c;if("number"!=typeof a&&a.__class__!==$B.LongInt.$dict||"number"!=typeof b&&b.__class__!==$B.LongInt.$dict)return c;var d=$B.LongInt.$dict.__add__($B.LongInt(a),$B.LongInt(b));return d},$B.div=function(a,b){var c=a/b;return a>min_int&&a<max_int&&b>min_int&&b<max_int&&c>min_int&&c<max_int?c:$B.LongInt.$dict.__truediv__($B.LongInt(a),$B.LongInt(b))},$B.eq=function(a,b){return a>min_int&&a<max_int&&b>min_int&&b<max_int?a==b:$B.LongInt.$dict.__eq__($B.LongInt(a),$B.LongInt(b))},$B.floordiv=function(a,b){var c=a/b;return a>min_int&&a<max_int&&b>min_int&&b<max_int&&c>min_int&&c<max_int?Math.floor(c):$B.LongInt.$dict.__floordiv__($B.LongInt(a),$B.LongInt(b))},$B.mul=function(a,b){var c=a*b;return a>min_int&&a<max_int&&b>min_int&&b<max_int&&c>min_int&&c<max_int?c:"number"!=typeof a&&a.__class__!==$B.LongInt.$dict||"number"!=typeof b&&b.__class__!==$B.LongInt.$dict?c:$B.LongInt.$dict.__mul__($B.LongInt(a),$B.LongInt(b))},$B.sub=function(a,b){var c=a-b;return a>min_int&&a<max_int&&b>min_int&&b<max_int&&c>min_int&&c<max_int?c:"number"!=typeof a&&a.__class__!==$B.LongInt.$dict||"number"!=typeof b&&b.__class__!==$B.LongInt.$dict?c:$B.LongInt.$dict.__sub__($B.LongInt(a),$B.LongInt(b))},$B.ge=function(a,b){return"number"==typeof a&&"number"==typeof b?a>=b:"number"==typeof a&&"number"!=typeof b?!b.pos:"number"!=typeof a&&"number"==typeof b?a.pos===!0:$B.LongInt.$dict.__ge__(a,b)},$B.gt=function(a,b){return"number"==typeof a&&"number"==typeof b?a>b:"number"==typeof a&&"number"!=typeof b?!b.pos:"number"!=typeof a&&"number"==typeof b?a.pos===!0:$B.LongInt.$dict.__gt__(a,b)},window.is_none=function(a){return void 0===a||a==_b_.None},window.is_none=function(a){return void 0===a||a==_b_.None}}(__BRYTHON__),Array.indexOf||(Array.prototype.indexOf=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]==a)return b;return-1}),String.prototype.repeat||(String.prototype.repeat=function(a){if(a<1)return"";for(var b="",c=this.valueOf();a>1;)1&a&&(b+=c),a>>=1,c+=c;return b+c}),function($B){function abs(a){if(isinstance(a,_b_.int))return _b_.int(Math.abs(a));if(isinstance(a,_b_.float))return _b_.float(Math.abs(a));if(hasattr(a,"__abs__"))return getattr(a,"__abs__")();throw _b_.TypeError("Bad operand type for abs(): '"+$B.get_class(a)+"'")}function all(a){for(var b=iter(a);;)try{var c=next(b);if(!bool(c))return!1}catch(a){return!0}}function any(a){for(var b=iter(a);;)try{var c=next(b);if(bool(c))return!0}catch(a){return!1}}function ascii(a){for(var b,c=repr(a),d="",e=0;e<c.length;e++)b=c.charCodeAt(e),d+=b<128?c.charAt(e):b<256?"\\x"+b.toString(16):"\\u"+b.toString(16);return d}function $builtin_base_convert_helper(a,b){var c="";switch(b){case 2:c="0b";break;case 8:c="0o";break;case 16:c="0x";break;default:console.log("invalid base:"+b)}if(a.__class__===$B.LongInt.$dict)return a.pos?c+$B.LongInt.$dict.to_base(a,b):"-"+c+$B.LongInt.$dict.to_base(-a,b);var d=$B.$GetInt(a);if(void 0===d)throw _b_.TypeError("Error, argument must be an integer or contains an __index__ function");return d>=0?c+d.toString(b):"-"+c+(-d).toString(b)}function bin(a){return isinstance(a,_b_.int)?$builtin_base_convert_helper(a,2):getattr(a,"__index__")()}function bool(a){if(null===a||void 0===a)return!1;switch(typeof a){case"boolean":return a;case"number":case"string":return!!a;default:try{return getattr(a,"__bool__")()}catch(b){try{return getattr(a,"__len__")()>0}catch(a){return!0}}}}function callable(a){return hasattr(a,"__call__")}function chr(a){return(a<0||a>1114111)&&_b_.ValueError("Outside valid range"),String.fromCharCode(a)}function classmethod(a){return a.$type="classmethod",a}function compile(a,b,c){var d=$B.args("compile",6,{source:null,filename:null,mode:null,flags:null,dont_inherit:null,optimize:null},["source","filename","mode","flags","dont_inherit","optimize"],arguments,{flags:0,dont_inherit:!1,optimize:-1},null,null),e="exec_"+$B.UUID(),f=e;$B.py2js(a,e,[e],f);return d.__class__=$B.$CodeObjectDict,d}function delattr(a,b){var c=$B.get_class(a),d=a[b];if(void 0===d)for(var e=c.__mro__,f=0;f<e.length;f++){var d=e[f][b];if(void 0!==d)break}return void 0!==d&&void 0!==d.__delete__?d.__delete__(d,a,b):getattr(a,"__delattr__")(b),None}function dir(a){if(void 0===a){var b=$B.last($B.frames_stack),c=b[3],d=_b_.list(),e=0;for(var f in c)"$"==f.charAt(0)&&"$"!=f.charAt(1)||(d[e++]=f);return _b_.list.$dict.sort(d),d}var g=$B.get_class(a);if(g&&g.is_class)a=a.$dict;else try{var d=getattr(a,"__dir__")();return d=_b_.list(d),d.sort(),d}catch(a){}var d=[],e=0;for(var f in a)"$"!==f.charAt(0)&&"__class__"!==f&&(d[e++]=f);return d.sort(),d}function divmod(a,b){var c=$B.get_class(a);return _b_.tuple([getattr(c,"__floordiv__")(a,b),getattr(c,"__mod__")(a,b)])}function enumerate(){var a=$B.args("enumerate",2,{iterable:null,start:null},["iterable","start"],arguments,{start:0},null,null),b=iter(a.iterable),c=a.start,d={__class__:$EnumerateDict,__getattr__:function(a){return d[a]},__iter__:function(){return d},__name__:"enumerate iterator",__next__:function(){return d.counter++,_b_.tuple([d.counter,next(b)])},__repr__:function(){return"<enumerate object>"},__str__:function(){return"<enumerate object>"},counter:c-1};for(var e in d)"function"==typeof d[e]&&"__class__"!==e&&(d[e].__str__=function(a){return function(){return"<method wrapper '"+a+"' of enumerate object>"}}(e));return d}function $eval(src,_globals,_locals){var current_frame=$B.frames_stack[$B.frames_stack.length-1];if(void 0!==current_frame)var current_locals_id=current_frame[0].replace(/\./,"_"),current_globals_id=current_frame[2].replace(/\./,"_");var is_exec="exec"==arguments[3],leave=!1;src.__class__===$B.$CodeObjectDict&&(src=src.source);var globals_id="$exec_"+$B.UUID(),locals_id,parent_block_id;if(locals_id=_locals===_globals||void 0===_locals?globals_id:"$exec_"+$B.UUID(),eval("var $locals_"+globals_id+" = {}"),eval("var $locals_"+locals_id+" = {}"),void 0===_globals){for(var attr in current_frame[3])eval("$locals_"+globals_id+'["'+attr+'"] = current_frame[3]["'+attr+'"]');parent_block_id=current_globals_id,eval("var $locals_"+current_globals_id+"=current_frame[3]")}else{for(var items=_b_.dict.$dict.items(_globals),item;;)try{var item=next(items);eval("$locals_"+globals_id+'["'+item[0]+'"] = item[1]')}catch(a){break}parent_block_id="__builtins__"}if(void 0===_locals)if(void 0!==_globals)eval("var $locals_"+locals_id+" = $locals_"+globals_id);else for(var attr in current_frame[1])eval("$locals_"+locals_id+'["'+attr+'"] = current_frame[1]["'+attr+'"]');else for(var items=_b_.dict.$dict.items(_locals),item;;)try{var item=next(items);eval("$locals_"+locals_id+'["'+item[0]+'"] = item[1]')}catch(a){break}var root=$B.py2js(src,globals_id,locals_id,parent_block_id),leave_frame=!0;try{if(!is_exec){var try_node=root.children[root.children.length-2],instr=$B.last(try_node.children),type=instr.context.tree[0].type;if("expr"!=type&&"list_or_tuple"!=type&&"op"!=type)throw leave_frame=!1,_b_.SyntaxError("eval() argument must be an expression","<string>",1,1,src);var children=try_node.children;root.children.splice(root.children.length-2,2);for(var i=0;i<children.length;i++)root.add(children[i])}var js=root.to_js();$B.async_enabled&&(js=$B.execution_object.source_conversion(js));var res=eval(js),gns=eval("$locals_"+globals_id);if(void 0!==_locals){var lns=eval("$locals_"+locals_id),setitem=getattr(_locals,"__setitem__");for(var attr in lns)setitem(attr,lns[attr])}else for(var attr in lns)current_frame[1][attr]=lns[attr];if(void 0!==_globals){var setitem=getattr(_globals,"__setitem__");for(var attr in gns)setitem(attr,gns[attr])}else for(var attr in gns)current_frame[3][attr]=gns[attr];return void 0===res?_b_.None:res}catch(a){if(void 0===a.$py_error)throw $B.exception(a);throw a}finally{!is_exec&&leave_frame&&$B.leave_frame(locals_id)}}function exec(a,b,c){return $eval(a,b,c,"exec")||_b_.None}function filter(){if(2!=arguments.length)throw _b_.TypeError("filter expected 2 arguments, got "+arguments.length);var a=arguments[0],b=iter(arguments[1]);a===_b_.None&&(a=bool);var c=function(){for(;;){var c=next(b);if(a(c))return c}};return{__class__:$FilterDict,__next__:c}}function format(a,b){if(hasattr(a,"__format__"))return getattr(a,"__format__")(b);throw _b_.NotImplementedError("__format__ is not implemented for object '"+_b_.str(a)+"'")}function attr_error(a,b){var c="bad operand type for unary #: '"+b+"'";switch(a){case"__neg__":throw _b_.TypeError(c.replace("#","-"));case"__pos__":throw _b_.TypeError(c.replace("#","+"));case"__invert__":throw _b_.TypeError(c.replace("#","~"));case"__call__":throw _b_.TypeError("'"+b+"' object is not callable");default:throw _b_.AttributeError("'"+b+"' object has no attribute '"+a+"'");
}}function getattr(a,b,c){var d=$B.get_class(a);if(void 0===d){if(void 0!==a[b])return $B.$JS2Py(a[b]);if(void 0!==c)return c;throw _b_.AttributeError("object has no attribute "+b)}switch(b){case"__call__":if("function"==typeof a)return a.$blocking&&console.log("calling blocking function "+a.__name__),a;if(d===$B.JSObject.$dict&&"function"==typeof a.js)return function(){return $B.JSObject(a.js.apply(null,arguments))};break;case"__class__":return d.$factory;case"__dict__":return $B.obj_dict(a);case"__doc__":for(var e=0;e<builtin_names.length;e++)if(a===_b_[builtin_names[e]])return _get_builtins_doc(),$B.builtins_doc[builtin_names[e]];break;case"__mro__":if(d===$B.$factory){for(var f=[],g=0,e=0;e<a.$dict.__mro__.length;e++)f[g++]=a.$dict.__mro__[e].$factory;return f}break;case"__subclasses__":if(d===$B.$factory){var h=a.$dict.$subclasses||[];return function(){return h}}}if("function"==typeof a&&void 0!==b&&void 0!==a[b]&&"__module__"==b)return a[b];if(d.$native){if(void 0===d[b]){var i=_b_.object.$dict[b];if(void 0===i)return d.descriptors&&void 0!==d.descriptors[b]?d.descriptors[b](a):(void 0===c&&attr_error(b,d.__name__),c);d[b]=i}if("function"==typeof d[b]){if("__new__"==b)return d[b].apply(null,arguments);var j=function(){for(var c=[a],e=1,f=0;f<arguments.length;f++)c[e++]=arguments[f];return d[b].apply(null,c)};return j.__class__=$B.$MethodDict,j.$infos={__class__:d.$factory,__func__:d[b],__name__:b,__self__:a},j.__str__=j.__repr__=function(){return"<built-in method "+b+" of "+d.__name__+" object>"},j}return d[b]}var k,l,m=d.is_class;if(m)l=$B.$type.__getattribute__,void 0===a.$dict&&console.log("obj "+a+" $dict undefined"),a=a.$dict;else{var k=d.__mro__;if(void 0===k){console.log("in getattr "+b+" mro undefined for "+a+" dir "+dir(a)+" class "+a.__class__);for(var n in a)console.log("obj attr "+n+" : "+a[n]);console.log("obj class "+dir(d)+" str "+d)}for(var e=0;e<k.length&&(l=k[e].__getattribute__,void 0===l);e++);}"function"!=typeof l&&console.log(b+" is not a function "+l);try{var f=l(a,b)}catch(a){if(void 0!==c)return c;throw a}if(void 0!==f)return f;if(void 0!==c)return c;var o=d.__name__;m&&(o=a.__name__),attr_error(b,o)}function globals(){return $B.obj_dict($B.last($B.frames_stack)[3])}function hasattr(a,b){try{return getattr(a,b),!0}catch(a){return!1}}function hash(a){if(1!=arguments.length)throw _b_.TypeError("hash() takes exactly one argument ("+arguments.length+" given)");if(void 0===a&&console.log("hash:obj is undefined",a),void 0!==a.__hashvalue__)return a.__hashvalue__;if(isinstance(a,_b_.int))return a.valueOf();if(isinstance(a,bool))return _b_.int(a);if(void 0!==a.__hash__)return a.__hashvalue__=a.__hash__();var b=getattr(a,"__hash__",_b_.None);if(b==_b_.None)return $B.$py_next_hash++;if(void 0===b.$infos)return a.__hashvalue__=b();if(b.$infos.__func__===_b_.object.$dict.__hash__){if(getattr(a,"__eq__").$infos.__func__!==_b_.object.$dict.__eq__)throw _b_.TypeError("unhashable type: '"+$B.get_class(a).__name__+"'");return $B.$py_next_hash++}return a.__hashvalue__=b()}function _get_builtins_doc(){if(void 0===$B.builtins_doc){var url=$B.brython_path;"/"==url.charAt(url.length-1)&&(url=url.substr(0,url.length-1)),url+="/builtins_docstrings.js";var f=_b_.open(url);eval(f.$content),$B.builtins_doc=docs}}function help(a){if(void 0===a&&(a="help"),"string"==typeof a&&void 0!==_b_[a]){_get_builtins_doc();var b=$B.builtins_doc[a];if(void 0!==b&&""!=b)return void _b_.print(b)}for(var c=0;c<builtin_names.length;c++)a===_b_[builtin_names[c]]&&(_get_builtins_doc(),_b_.print(b=$B.builtins_doc[builtin_names[c]]));if("string"==typeof a){$B.$import("pydoc");var d=$B.imported.pydoc;return void getattr(getattr(d,"help"),"__call__")(a)}try{return getattr(a,"__doc__")}catch(a){return console.log("help err "+a),""}}function hex(a){return $builtin_base_convert_helper(a,16)}function id(a){return isinstance(a,[_b_.str,_b_.int,_b_.float])?getattr(_b_.str(a),"__hash__")():void 0!==a.$id?a.$id:a.$id=$B.UUID()}function __import__(a,b,c,d,e){var f=$B.args("__import__",5,{name:null,globals:null,locals:null,fromlist:null,level:null},["name","globals","locals","fromlist","level"],arguments,{globals:None,locals:None,fromlist:_b_.tuple(),level:0},null,null);return $B.$__import__(f.name,f.globals,f.locals,f.fromlist)}function input(a){var b=$B.imported.sys&&$B.imported.sys.stdin||$B.stdin;if(b.__original__)return prompt(a);var c=_b_.getattr(b,"readline")();return c=c.split("\n")[0],b.len===b.pos&&_b_.getattr(b,"close")(),c}function isinstance(a,b){if(null===a)return b===None;if(void 0===a)return!1;if(b.constructor===Array){for(var c=0;c<b.length;c++)if(isinstance(a,b[c]))return!0;return!1}if(b===_b_.int&&(a===True||a===False))return True;var d=$B.get_class(a);if(void 0===d)switch(b){case _b_.int:return("number"==typeof a||a.constructor===Number)&&a.valueOf()%1===0;case _b_.float:return"number"==typeof a&&a.valueOf()%1!==0||d===_b_.float.$dict;case _b_.str:return"string"==typeof a||d===_b_.str.$dict;case _b_.list:return a.constructor===Array;default:return!1}if(void 0===b.$dict)return!1;d==$B.$factory&&(d=a.$dict.__class__);for(var c=0;c<d.__mro__.length;c++){var e=d.__mro__[c];if(e===b.$dict)return!0;if(b===_b_.str&&e===$B.$StringSubclassFactory.$dict)return!0;if(b===_b_.list&&e===$B.$ListSubclassFactory.$dict)return!0}var f=getattr(b,"__instancecheck__",null);return null!==f&&f(a)}function issubclass(a,b){if(2!==arguments.length)throw _b_.TypeError("issubclass expected 2 arguments, got "+arguments.length);if(!a.__class__||a.__class__!==$B.$factory)throw _b_.TypeError("issubclass() arg 1 must be a class");if(isinstance(b,_b_.tuple)){for(var c=0;c<b.length;c++)if(issubclass(a,b[c]))return!0;return!1}if(b.__class__.is_class&&a.$dict.__mro__.indexOf(b.$dict)>-1)return!0;var d=getattr(b,"__subclasscheck__",null);return null!==d&&d(a)}function iter(a){try{var b=getattr(a,"__iter__")}catch(b){var c=getattr(a,"__getitem__",null),d=getattr(a,"__len__",null);if(null!==c){if(null!==d){var e=getattr(d,"__call__")();return iterator_class(c,e)}return iterator_class(c,null)}throw _b_.TypeError("'"+$B.get_class(a).__name__+"' object is not iterable")}var f=b();try{getattr(f,"__next__")}catch(a){if(isinstance(a,_b_.AttributeError))throw _b_.TypeError("iter() returned non-iterator of type '"+$B.get_class(f).__name__+"'")}return f}function len(a){try{return getattr(a,"__len__")()}catch(b){throw _b_.TypeError("object of type '"+$B.get_class(a).__name__+"' has no len()")}}function locals(){var a=$B.last($B.frames_stack)[1];return $B.obj_dict(a)}function map(){for(var a=getattr(arguments[0],"__call__"),b=[],c=0,d=1;d<arguments.length;d++)b[c++]=iter(arguments[d]);var e=function(){for(var c=[],d=0,e=0;e<b.length;e++)c[d++]=next(b[e]);return a.apply(null,c)},f={__class__:$MapDict,__repr__:function(){return"<map object>"},__str__:function(){return"<map object>"},__next__:e};return f}function $extreme(a,b){var c="min";if("__gt__"===b&&(c="max"),0==a.length)throw _b_.TypeError(c+" expected 1 arguments, got 0");var d=a[a.length-1],e=a.length,f=!1,g=!1;if("kw"==d.$nat){e--,d=d.kw;for(var h in d)switch(h){case"key":var g=d[h];has_key=!0;break;case"$$default":var i=d[h];f=!0;break;default:throw _b_.TypeError("'"+h+"' is an invalid keyword argument for this function")}}if(g||(g=function(a){return a}),0==e)throw _b_.TypeError(c+" expected 1 arguments, got 0");if(1!=e){if(f)throw _b_.TypeError("Cannot specify a default for "+c+"() with multiple positional arguments");for(var j=null,k=0;k<e;k++){var l=a[k];(null===j||bool(getattr(g(l),b)(g(j))))&&(j=l)}return j}for(var m=iter(a[0]),j=null;;)try{var l=next(m);(null===j||bool(getattr(g(l),b)(g(j))))&&(j=l)}catch(a){if("StopIteration"==a.__name__){if(null===j){if(f)return i;throw _b_.ValueError(c+"() arg is an empty sequence")}return j}throw a}}function max(){for(var a=[],b=0,c=0;c<arguments.length;c++)a[b++]=arguments[c];return $extreme(a,"__gt__")}function memoryview(a){throw NotImplementedError("memoryview is not implemented")}function min(){for(var a=[],b=0,c=0;c<arguments.length;c++)a[b++]=arguments[c];return $extreme(a,"__lt__")}function next(a){var b=getattr(a,"__next__");if(void 0!==b)return b();throw _b_.TypeError("'"+$B.get_class(a).__name__+"' object is not an iterator")}function _NotImplemented(){return{__class__:_NotImplemented.$dict}}function $not(a){return!bool(a)}function oct(a){return $builtin_base_convert_helper(a,8)}function ord(a){switch($B.get_class(a)){case _b_.str.$dict:if(1==a.length)return a.charCodeAt(0);throw _b_.TypeError("ord() expected a character, but string of length "+a.length+" found");case _b_.bytes.$dict:case _b_.bytearray.$dict:if(1==a.source.length)return a.source[0];throw _b_.TypeError("ord() expected a character, but string of length "+a.source.length+" found");default:throw _b_.TypeError("ord() expected a character, but "+$B.get_class(a).__name__+" was found")}}function pow(){var a=$B.args("pow",3,{x:null,y:null,z:null},["x","y","z"],arguments,{z:null},null,null),b=a.x,c=a.y,d=a.z;if(null===d){var e,f;if(isinstance(b,_b_.float))e=b.valueOf();else{if(!isinstance(b,_b_.int))throw _b_.TypeError("unsupported operand type(s) for ** or pow()");e=b}if(isinstance(c,_b_.float))f=c.valueOf();else{if(!isinstance(c,_b_.int))throw _b_.TypeError("unsupported operand type(s) for ** or pow()");f=c}var g=Math.pow(e,f)}else{var h="pow() 3rd argument not allowed unless all arguments are integers";if(!isinstance(b,_b_.int))throw _b_.TypeError(h);if(!isinstance(c,_b_.int))throw _b_.TypeError(h);if(!isinstance(d,_b_.int))throw _b_.TypeError(h);var g=Math.pow(b,c)%d}return $B.get_class(g).$factory(g)}function $print(){var a=$B.args("print",0,{},[],arguments,{},"args","kw"),b=a.kw.$string_dict,c=void 0===b.end?"\n":b.end,d=void 0===b.sep?" ":b.sep,e=void 0===b.file?$B.stdout:b.file,f=a.args;return getattr(e,"write")(f.map(_b_.str).join(d)+c),None}function property(a,b,c,d){var e={__class__:$PropertyDict,__doc__:d||"",$type:a.$type,fget:a,fset:b,fdel:c,toString:function(){return"<property>"}};return e.__get__=function(a,b,c){if(void 0===b)return a;if(void 0===a.fget)throw _b_.AttributeError("unreadable attribute");return getattr(a.fget,"__call__")(b)},void 0!==b&&(e.__set__=function(a,b,c){if(void 0===a.fset)throw _b_.AttributeError("can't set attribute");getattr(a.fset,"__call__")(b,c)}),e.__delete__=c,e.getter=function(a){return property(a,e.fset,e.fdel,e.__doc__)},e.setter=function(a){return property(e.fget,a,e.fdel,e.__doc__)},e.deleter=function(a){return property(e.fget,e.fset,a,e.__doc__)},e}function repr(a){if(a.__class__===$B.$factory){var b=$B.$type.__getattribute__(a.$dict.__class__,"__repr__");return b(a)}var b=getattr(a,"__repr__");if(void 0!==b)return b();throw _b_.AttributeError("object has no attribute __repr__")}function reversed(a){try{return getattr(a,"__reversed__")()}catch(a){if("AttributeError"!=a.__name__)throw a}try{var b={__class__:$ReversedDict,$counter:getattr(a,"__len__")(),getter:getattr(a,"__getitem__")};return b}catch(a){throw _b_.TypeError("argument to reversed() must be a sequence")}}function round(a,b){if(!isinstance(a,[_b_.int,_b_.float]))throw _b_.TypeError("type "+a.__class__+" doesn't define __round__ method");if(isinstance(a,_b_.float)&&(a.value===1/0||a.value===-(1/0)))throw _b_.OverflowError("cannot convert float infinity to integer");if(void 0===b)return _b_.int(Math.round(a));if(!isinstance(b,_b_.int))throw _b_.TypeError("'"+b.__class__+"' object cannot be interpreted as an integer");var c=Math.pow(10,b);return _b_.int.$dict.__truediv__(Number(Math.round(a.valueOf()*c)),c)}function setattr(a,b,c){if(!isinstance(b,_b_.str))throw _b_.TypeError("setattr(): attribute name must be string");switch(b){case"alert":case"case":case"catch":case"constructor":case"Date":case"delete":case"default":case"document":case"Error":case"history":case"function":case"location":case"Math":case"new":case"Number":case"RegExp":case"this":case"throw":case"var":case"super":case"window":b="$$"+b;break;case"__class__":return a.__class__=c.$dict,None}if(a.__class__===$B.$factory)return a.$dict.$methods&&"function"==typeof c&&c.__class__!==$B.$factory?(a.$dict.$methods[b]=$B.make_method(b,a.$dict,c,c),None):(a.$dict[b]=c,None);var d=a[b],e=$B.get_class(a);if(void 0===d&&e)for(var f=e.__mro__,g=f.length,h=0;h<g&&(d=f[h][b],void 0===d);h++);if(void 0!==d){if(void 0!==d.__set__)return d.__set__(d,a,c),None;var i=getattr(d,"__set__",null);if(i&&"function"==typeof i)return i.apply(d,[a,c]),None}if(e&&e.$slots&&void 0===e.$slots[b])throw _b_.AttributeError("'"+e.__name__+"' object has no attribute'"+b+"'");var j=!1;if(void 0!==e)for(var h=0,g=e.__mro__.length;h<g&&!(j=e.__mro__[h].__setattr__);h++);return j?j(a,b,c):a[b]=c,None}function sorted(){for(var a=$B.args("sorted",1,{iterable:null},["iterable"],arguments,{},null,"kw"),b=_b_.list(iter(a.iterable)),c=[b],d=1;d<arguments.length;d++)c.push(arguments[d]);return _b_.list.$dict.sort.apply(null,c),b}function staticmethod(a){return a.$type="staticmethod",a}function sum(a,b){if(void 0===b)b=0;else{if("str"==typeof b)throw _b_.TypeError("TypeError: sum() can't sum strings [use ''.join(seq) instead]");if(_b_.isinstance(b,_b_.bytes))throw _b_.TypeError("TypeError: sum() can't sum bytes [use b''.join(seq) instead]")}for(var c=b,a=iter(a);;)try{var d=next(a);c=getattr(c,"__add__")(d)}catch(a){if("StopIteration"===a.__name__)break;throw a}return c}function $$super(a,b){return{__class__:$SuperDict,__thisclass__:a,__self_class__:b||None}}function $url_open(){var $ns=$B.args("open",3,{file:null,mode:null,encoding:null},["file","mode","encoding"],arguments,{mode:"r",encoding:"utf-8"},"args","kw");for(var attr in $ns)eval("var "+attr+'=$ns["'+attr+'"]');if(args.length>0)var mode=args[0];if(args.length>1)var encoding=args[1];var is_binary=mode.search("b")>-1;if(isinstance(file,$B.JSObject))return new $OpenFile(file.js,mode,encoding);if(isinstance(file,_b_.str)){if(window.XMLHttpRequest)var req=new XMLHttpRequest;else var req=new ActiveXObject("Microsoft.XMLHTTP");req.onreadystatechange=function(){var a=req.status;404===a?$res=_b_.IOError("File "+file+" not found"):200!==a?$res=_b_.IOError("Could not open file "+file+" : status "+a):($res=req.responseText,is_binary&&($res=_b_.str.$dict.encode($res,"utf-8")))};var fake_qs="?foo="+$B.UUID();if(req.open("GET",file+fake_qs,!1),is_binary&&req.overrideMimeType("text/plain; charset=utf-8"),req.send(),$res.constructor===Error)throw $res;if(is_binary)for(var lf=_b_.bytes("\n","ascii"),lines=_b_.bytes.$dict.split($res,lf),i=0;i<lines.length-1;i++)lines[i].source.push(10);else for(var lines=$res.split("\n"),i=0;i<lines.length-1;i++)lines[i]+="\n";var res={$content:$res,$counter:0,$lines:lines,$bin:is_binary,closed:False,encoding:encoding,mode:mode,name:file};return res.__class__=is_binary?$BufferedReader:$TextIOWrapper,res}}function zip(){var a={__class__:$ZipDict,items:[]};if(0==arguments.length)return a;for(var b=$B.args("zip",0,{},[],arguments,{},"args","kw"),c=b.args,d=[],e=0,f=0;f<c.length;f++)d[e++]=iter(c[f]);for(var g=(b.kw,0),h=[];;){for(var i=[],j=!0,e=0,f=0;f<d.length;f++)try{i[e++]=next(d[f])}catch(a){if("StopIteration"===a.__name__){j=!1;break}throw a}if(!j)break;h[g++]=_b_.tuple(i)}return a.items=h,a}function no_set_attr(a,b){throw void 0!==a[b]?_b_.AttributeError("'"+a.__name__+"' object attribute '"+b+"' is read-only"):_b_.AttributeError("'"+a.__name__+"' object has no attribute '"+b+"'")}eval($B.InjectBuiltins()),_b_.__debug__=!1;var $ObjectDict=_b_.object.$dict;$B.$comps={">":"gt",">=":"ge","<":"lt","<=":"le"},classmethod.__class__=$B.$factory,classmethod.$dict={__class__:$B.$type,__name__:"classmethod",$factory:classmethod},classmethod.$dict.__mro__=[classmethod.$dict,$ObjectDict],$B.$CodeObjectDict={__class__:$B.$type,__name__:"code",__repr__:function(a){return"<code object "+a.name+", file "+a.filename+">"}},$B.$CodeObjectDict.__str__=$B.$CodeObjectDict.__repr__,$B.$CodeObjectDict.__mro__=[$B.$CodeObjectDict,$ObjectDict],compile.__class__=$B.factory,$B.$CodeObjectDict.$factory=compile,compile.$dict=$B.$CodeObjectDict;var __debug__=$B.debug>0,$EnumerateDict={__class__:$B.$type,__name__:"enumerate"};$EnumerateDict.__mro__=[$EnumerateDict,$ObjectDict],enumerate.__class__=$B.$factory,enumerate.$dict=$EnumerateDict,$EnumerateDict.$factory=enumerate,$eval.$is_func=!0,exec.$is_func=!0;var $FilterDict={__class__:$B.$type,__name__:"filter"};$FilterDict.__iter__=function(a){return a},$FilterDict.__repr__=$FilterDict.__str__=function(){return"<filter object>"},$FilterDict.__mro__=[$FilterDict,$ObjectDict];var iterator_class=$B.make_class({name:"iterator",init:function(a,b,c){a.getitem=b,a.len=c,a.counter=-1}});iterator_class.$dict.__next__=function(a){if(a.counter++,null!==a.len&&a.counter==a.len)throw _b_.StopIteration("");try{return a.getitem(a.counter)}catch(a){throw _b_.StopIteration("")}};var $MapDict={__class__:$B.$type,__name__:"map"};$MapDict.__mro__=[$MapDict,$ObjectDict],$MapDict.__iter__=function(a){return a},_NotImplemented.__class__=$B.$factory,_NotImplemented.$dict={$factory:_NotImplemented,__class__:$B.$type,__name__:"NotImplementedType"},_NotImplemented.$dict.__mro__=[_NotImplemented.$dict,$ObjectDict];var NotImplemented={__class__:_NotImplemented.$dict,__str__:function(){return"NotImplemented"}};$print.__name__="print",$print.is_func=!0;var $PropertyDict={__class__:$B.$type,__name__:"property"};$PropertyDict.__mro__=[$PropertyDict,$ObjectDict],$B.$PropertyDict=$PropertyDict,property.__class__=$B.$factory,property.$dict=$PropertyDict,$PropertyDict.$factory=property;var $ReversedDict={__class__:$B.$type,__name__:"reversed"};$ReversedDict.__mro__=[$ReversedDict,$ObjectDict],$ReversedDict.__iter__=function(a){return a},$ReversedDict.__next__=function(a){if(a.$counter--,a.$counter<0)throw _b_.StopIteration("");return a.getter(a.$counter)},reversed.__class__=$B.$factory,reversed.$dict=$ReversedDict,$ReversedDict.$factory=reversed;var $StaticmethodDict={__class__:$B.$type,__name__:"staticmethod"};$StaticmethodDict.__mro__=[$StaticmethodDict,$ObjectDict],staticmethod.__class__=$B.$factory,staticmethod.$dict=$StaticmethodDict,$StaticmethodDict.$factory=staticmethod;var $SuperDict={__class__:$B.$type,__name__:"super"};$SuperDict.__getattribute__=function(a,b){if(void 0!==$SuperDict[b])return function(){return $SuperDict[b](a)};for(var c,d=a.__thisclass__.$dict.__mro__,e=1;e<d.length;e++)if(c=d[e][b],void 0!==c){if(c.__class__===$PropertyDict)return c.__get__(c,a.__self_class__);if(a.__self_class__!==None){var f=[a.__self_class__];"__new__"==b&&(f=[]);var g=function(a){return function(){for(var b=a.slice(),d=a.length,e=0;e<arguments.length;e++)b[d++]=arguments[e];var f=c.apply(null,b);return void 0===f?None:f}}(f);return g.__class__={__class__:$B.$type,__name__:"method",__mro__:[$ObjectDict]},g.__func__=c,g.__self__=a,g}return c}throw _b_.AttributeError("object 'super' has no attribute '"+b+"'")},$SuperDict.__mro__=[$SuperDict,$ObjectDict],$SuperDict.__repr__=$SuperDict.__str__=function(a){var b="<super: <class '"+a.__thisclass__.$dict.__name__+"'";return void 0!==a.__self_class__&&(b+=", <"+a.__self_class__.__class__.__name__+" object>"),b+">"},$$super.$dict=$SuperDict,$$super.__class__=$B.$factory,$SuperDict.$factory=$$super,$$super.$is_func=!0;var $Reader={__class__:$B.$type,__name__:"reader"};$Reader.__enter__=function(a){return a},$Reader.__exit__=function(a){return!1},$Reader.__iter__=function(a){return iter(a.$lines)},$Reader.__len__=function(a){return a.lines.length},$Reader.__mro__=[$Reader,$ObjectDict],$Reader.close=function(a){a.closed=!0},$Reader.read=function(a,b){if(a.closed===!0)throw _b_.ValueError("I/O operation on closed file");if(void 0===b)return a.$content;if(a.$counter+=b,a.$bin){var c=a.$content.source.slice(a.$counter-b,a.$counter);return _b_.bytes(c)}return a.$content.substr(a.$counter-b,b)},$Reader.readable=function(a){return!0},$Reader.readline=function(a,b){if(a.$lc=void 0===a.$lc?-1:a.$lc,a.closed===!0)throw _b_.ValueError("I/O operation on closed file");if(a.$lc==a.$lines.length-1)return a.$bin?_b_.bytes():"";a.$lc++;var c=a.$lines[a.$lc];return a.$counter+=a.$bin?c.source.length:c.length,c},$Reader.readlines=function(a,b){if(a.closed===!0)throw _b_.ValueError("I/O operation on closed file");return a.$lc=void 0===a.$lc?-1:a.$lc,a.$lines.slice(a.$lc+1)},$Reader.seek=function(a,b,c){if(a.closed===True)throw _b_.ValueError("I/O operation on closed file");void 0===c&&(c=0),0===c?a.$counter=b:1===c?a.$counter+=b:2===c&&(a.$counter=a.$content.length+b)},$Reader.seekable=function(a){return!0},$Reader.tell=function(a){return a.$counter},$Reader.writable=function(a){return!1};var $BufferedReader={__class__:$B.$type,__name__:"_io.BufferedReader"};$BufferedReader.__mro__=[$BufferedReader,$Reader,$ObjectDict];var $TextIOWrapper={__class__:$B.$type,__name__:"_io.TextIOWrapper"};$TextIOWrapper.__mro__=[$TextIOWrapper,$Reader,$ObjectDict];var $ZipDict={__class__:$B.$type,__name__:"zip"},$zip_iterator=$B.$iterator_class("zip_iterator");$ZipDict.__iter__=function(a){return a.$iterator=a.$iterator||$B.$iterator(a.items,$zip_iterator)},$ZipDict.__mro__=[$ZipDict,$ObjectDict],zip.__class__=$B.$factory,zip.$dict=$ZipDict,$ZipDict.$factory=zip;var $BoolDict=$B.$BoolDict={__class__:$B.$type,__dir__:$ObjectDict.__dir__,__name__:"bool",$native:!0};$BoolDict.__mro__=[$BoolDict,$ObjectDict],bool.__class__=$B.$factory,bool.$dict=$BoolDict,$BoolDict.$factory=bool,$BoolDict.__add__=function(a,b){return a.valueOf()?b+1:b};var True=!0,False=!1;$BoolDict.__eq__=function(a,b){return a.valueOf()?!!b:!b},$BoolDict.__ne__=function(a,b){return a.valueOf()?!b:!!b},$BoolDict.__ge__=function(a,b){return _b_.int.$dict.__ge__($BoolDict.__hash__(a),b)},$BoolDict.__gt__=function(a,b){return _b_.int.$dict.__gt__($BoolDict.__hash__(a),b)},$BoolDict.__hash__=$BoolDict.__index__=$BoolDict.__int__=function(a){return a.valueOf()?1:0},$BoolDict.__le__=function(a,b){return!$BoolDict.__gt__(a,b)},$BoolDict.__lshift__=function(a,b){return a.valueOf()<<b},$BoolDict.__lt__=function(a,b){return!$BoolDict.__ge__(a,b)},$BoolDict.__mul__=function(a,b){return a.valueOf()?b:0},$BoolDict.__neg__=function(a){return-$B.int_or_bool(a)},$BoolDict.__pos__=$B.int_or_bool,$BoolDict.__repr__=$BoolDict.__str__=function(a){return a.valueOf()?"True":"False"},$BoolDict.__setattr__=function(a,b){return no_set_attr($BoolDict,b)},$BoolDict.__sub__=function(a,b){return a.valueOf()?1-b:-b},$BoolDict.__xor__=function(a,b){return a.valueOf()!=b.valueOf()};var $EllipsisDict={__class__:$B.$type,__name__:"Ellipsis"};$EllipsisDict.__mro__=[$ObjectDict],$EllipsisDict.$factory=$EllipsisDict;var Ellipsis={__bool__:function(){return True},__class__:$EllipsisDict,__repr__:function(){return"Ellipsis"},__str__:function(){return"Ellipsis"},toString:function(){return"Ellipsis"}};for(var $key in $B.$comps)switch($B.$comps[$key]){case"ge":case"gt":case"le":case"lt":Ellipsis["__"+$B.$comps[$key]+"__"]=function(a){return function(b){throw _b_.TypeError("unorderable types: ellipsis() "+a+" "+$B.get_class(b).__name__)}}($key)}for(var $func in Ellipsis)"function"==typeof Ellipsis[$func]&&(Ellipsis[$func].__str__=function(a){return function(){return"<method-wrapper "+a+" of Ellipsis object>"}}($func));var $NoneDict={__class__:$B.$type,__name__:"NoneType"};$NoneDict.__mro__=[$NoneDict,$ObjectDict],$NoneDict.__setattr__=function(a,b){return no_set_attr($NoneDict,b)};var None={__bool__:function(){return False},__class__:$NoneDict,__hash__:function(){return 0},__repr__:function(){return"None"},__str__:function(){return"None"},toString:function(){return"None"}};$NoneDict.$factory=function(){return None},$NoneDict.$factory.__class__=$B.$factory,$NoneDict.$factory.$dict=$NoneDict;for(var $op in $B.$comps){var key=$B.$comps[$op];switch(key){case"ge":case"gt":case"le":case"lt":$NoneDict["__"+key+"__"]=function(a){return function(b){throw _b_.TypeError("unorderable types: NoneType() "+a+" "+$B.get_class(b).__name__+"()")}}($op)}}for(var $func in None)"function"==typeof None[$func]&&(None[$func].__str__=function(a){return function(){return"<method-wrapper "+a+" of NoneType object>"}}($func));var $FunctionCodeDict={__class__:$B.$type,__name__:"function code"};$FunctionCodeDict.__mro__=[$FunctionCodeDict,$ObjectDict],$FunctionCodeDict.$factory={__class__:$B.$factory,$dict:$FunctionCodeDict};var $FunctionGlobalsDict={__class:$B.$type,__name__:"function globals"};$FunctionGlobalsDict.__mro__=[$FunctionGlobalsDict,$ObjectDict],$FunctionGlobalsDict.$factory={__class__:$B.$factory,$dict:$FunctionGlobalsDict};var $FunctionDict=$B.$FunctionDict={__class__:$B.$type,__code__:{__class__:$FunctionCodeDict,__name__:"function code"},__globals__:{__class__:$FunctionGlobalsDict,__name__:"function globals"},__name__:"function"};$FunctionDict.__getattribute__=function(a,b){if(a.$infos&&void 0!==a.$infos[b]){if("__code__"==b){var c={__class__:$B.$CodeDict};for(var b in a.$infos.__code__)c[b]=a.$infos.__code__[b];return c}return"__annotations__"==b?$B.obj_dict(a.$infos[b]):a.$infos[b]}return _b_.object.$dict.__getattribute__(a,b)},$FunctionDict.__repr__=$FunctionDict.__str__=function(a){return"<function "+a.$infos.__name__+">"},$FunctionDict.__mro__=[$FunctionDict,$ObjectDict];var $Function=function(){};$Function.__class__=$B.$factory,$FunctionDict.$factory=$Function,$Function.$dict=$FunctionDict,_b_.__BRYTHON__=__BRYTHON__;for(var builtin_funcs=["abs","all","any","ascii","bin","bool","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","quit","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","$$super","tuple","type","vars","zip"],i=0;i<builtin_funcs.length;i++){var name=builtin_funcs[i];"open"==name&&(name1="$url_open"),"super"==name&&(name="$$super"),"eval"==name&&(name="$eval"),$B.builtin_funcs[name]=!0}$B.builtin_funcs.$eval=!0;for(var other_builtins=["Ellipsis","False","None","True","__debug__","__import__","copyright","credits","license","NotImplemented","type"],builtin_names=builtin_funcs.concat(other_builtins),i=0;i<builtin_names.length;i++){var name=builtin_names[i],orig_name=name,name1=name;"open"==name&&(name1="$url_open"),"super"==name&&(name="$$super"),"eval"==name&&(name=name1="$eval"),"print"==name&&(name1="$print"),$B.bound.__builtins__[name]=!0;try{_b_[name]=eval(name1),void 0!==$B.builtin_funcs[name]&&(void 0===_b_[name].__repr__&&(_b_[name].__repr__=_b_[name].__str__=function(a){return function(){return"<built-in function "+a+">"}}(orig_name)),_b_[name].__module__="builtins",_b_[name].__name__=name,_b_[name].__defaults__=_b_[name].__defaults__||[],_b_[name].__kwdefaults__=_b_[name].__kwdefaults__||{},_b_[name].__annotations__=_b_[name].__annotations__||{}),_b_[name].__doc__=_b_[name].__doc__||""}catch(a){}}_b_.$eval=$eval,_b_.open=$url_open,_b_.print=$print,_b_.$$super=$$super}(__BRYTHON__),function($B){function traceback(a){return{__class__:$TracebackDict,stack:a}}function to_dict(a){var b=_b_.dict(),c=_b_.dict.$dict.__setitem__;for(var d in a)"$"!=d.charAt(0)&&c(b,d,a[d]);return b}function frame(a,b){var c=(a[2],a),d={__class__:$FrameDict,f_builtins:{},$stack:a};if(void 0===b&&(b=c.length-1),d.$pos=b,c.length){var e=c[b],f=e[0];try{d.f_locals=$B.obj_dict(e[1])}catch(a){throw console.log("err "+a),a}d.f_globals=$B.obj_dict(e[3]),$B.debug>0?void 0===e[1].$line_info?d.f_lineno=-1:d.f_lineno=parseInt(e[1].$line_info.split(",")[0]):d.f_lineno=-1,d.f_code={__class__:$B.$CodeDict,co_code:None,co_name:f,co_filename:e[3].__name__},void 0===d.f_code.co_filename&&(console.log(e[0],e[1],e[2],e[3]),alert("no cofilename"))}return d}function $make_exc(names,parent){for(var _str=[],pos=0,i=0;i<names.length;i++){var name=names[i];$B.bound.__builtins__[name]=!0;var $exc=(BaseException+"").replace(/BaseException/g,name);_str[pos++]="var $"+name+'Dict={__class__:$B.$type,__name__:"'+name+'"}',_str[pos++]="$"+name+"Dict.__bases__ = [parent]",_str[pos++]="$"+name+'Dict.__module__ = "builtins"',_str[pos++]="$"+name+"Dict.__mro__=[$"+name+"Dict].concat(parent.$dict.__mro__)",_str[pos++]="_b_."+name+"="+$exc,_str[pos++]="_b_."+name+".__class__=$B.$factory",_str[pos++]="$"+name+"Dict.$factory=_b_."+name,_str[pos++]="_b_."+name+".$dict=$"+name+"Dict"}eval(_str.join(";"))}eval($B.InjectBuiltins());var $TracebackDict={__class__:$B.$type,__name__:"traceback"};$TracebackDict.__getattribute__=function(a,b){0==a.stack.length&&alert("no stack",b);var c=$B.last(a.stack);void 0==c&&(alert("last frame undef "),console.log(a.stack,Object.keys(a.stack)));var d=c[1].$line_info;switch(b){case"tb_frame":return frame(a.stack);case"tb_lineno":return void 0===d?-1:parseInt(d.split(",")[0]);case"tb_lasti":if(void 0===d)return"<unknown>";var e=d.split(","),f=$B.$py_src[e[1]];return void 0!==f?f.split("\n")[parseInt(e[0]-1)].trim():"<unknown>";case"tb_next":return 1==a.stack.length?None:traceback(a.stack.slice(0,a.stack.length-1));default:return $TracebackDict[b]}},$TracebackDict.__mro__=[$TracebackDict,_b_.object.$dict],$TracebackDict.__str__=function(a){return"<traceback object>"},traceback.__class__=$B.$factory,traceback.$dict=$TracebackDict,$TracebackDict.$factory=traceback;var $FrameDict={__class__:$B.$type,__name__:"frame"};$FrameDict.__getattr__=function(a,b){if("f_back"==b&&a.$pos>0)return frame(a.$stack,a.$pos-1)},$FrameDict.__mro__=[$FrameDict,_b_.object.$dict],frame.__class__=$B.$factory,frame.$dict=$FrameDict,$FrameDict.$factory=frame,$B._frame=frame;var $BaseExceptionDict={__class__:$B.$type,__bases__:[_b_.object],__module__:"builtins",__name__:"BaseException"};$BaseExceptionDict.__init__=function(a){a.args=_b_.tuple([arguments[1]])},$BaseExceptionDict.__repr__=function(a){return a.__class__.__name__+repr(a.args)},$BaseExceptionDict.__str__=function(a){return _b_.str(a.args[0])},$BaseExceptionDict.__mro__=[$BaseExceptionDict,_b_.object.$dict],$BaseExceptionDict.__new__=function(a){var b=_b_.BaseException();return b.__name__=a.$dict.__name__,b.__class__=a.$dict,b},$BaseExceptionDict.__getattr__=function(a,b){if("info"==b){var c="Traceback (most recent call last):";if(void 0!==a.$js_exc){for(var b in a.$js_exc)if("message"!==b)try{c+="\n    "+b+" : "+a.$js_exc[b]}catch(a){}c+="\n"}for(var d=0;d<a.$stack.length;d++){var e=a.$stack[d];if(void 0!==e[1].$line_info){var f=e[1].$line_info.split(","),g=$B.$py_src[f[1]].split("\n");c+="\n  module "+f[1]+" line "+f[0];var h=g[parseInt(f[0])-1];h&&(h=h.replace(/^[ ]+/g,"")),void 0===h&&console.log("line undef...",f,$B.$py_src[f[1]]),c+="\n    "+h}}return c}if("traceback"==b)return traceback(a.$stack);throw AttributeError(a.__class__.__name__+"has no attribute '"+b+"'")},$BaseExceptionDict.with_traceback=function(a,b){return a.traceback=b,a},$B.set_func_names($BaseExceptionDict);var BaseException=function(){var a=Error();return a.__name__="BaseException",a.args=_b_.tuple(Array.prototype.slice.call(arguments)),a.$message=arguments[0],a.__class__=$BaseExceptionDict,a.$py_error=!0,a.$stack=$B.frames_stack.slice(),$B.current_exception=a,a};BaseException.__class__=$B.$factory,BaseException.$dict=$BaseExceptionDict,$BaseExceptionDict.$factory=BaseException,_b_.BaseException=BaseException,$B.exception=function(a){if(a.$py_error)var b=a;else{if($B.debug>0&&void 0===a.info){var c=$B.last($B.frames_stack);if(c&&void 0!==c[1].$line_info){var d=c[1].$line_info.split(","),e=d[1],f=$B.modules[e];if(f){if(void 0!==f.caller)var e=d[1];var g=e,h=parseInt(d[0]);void 0===$B.$py_src[e]&&console.log("pas de py_src pour "+e);var i=$B.$py_src[e].split("\n");a.message+="\n  module '"+g+"' line "+h,a.message+="\n"+i[h-1],a.info_in_msg=!0}}else console.log("error ",a)}var b=Error();b.__name__="Internal Javascript error: "+(a.__name__||a.name),b.__class__=_b_.Exception.$dict,b.$js_exc=a,"ReferenceError"==a.name?(b.__name__="NameError",
b.__class__=_b_.NameError.$dict,a.message=a.message.replace("$$","")):"InternalError"==a.name&&(b.__name__="RuntimeError",b.__class__=_b_.RuntimeError.$dict),b.$message=a.message||"<"+a+">",b.args=_b_.tuple([b.$message]),b.info="",b.$py_error=!0,b.$stack=$B.frames_stack.slice()}return $B.current_exception=b,b},$B.is_exc=function(a,b){void 0===a.__class__&&(a=$B.exception(a));for(var c=a.__class__.$factory,d=0;d<b.length;d++)if(issubclass(c,b[d]))return!0;return!1},$B.clear_exc=function(){$B.current_exception=null},$make_exc(["SystemExit","KeyboardInterrupt","GeneratorExit","Exception"],BaseException),$make_exc(["StopIteration","ArithmeticError","AssertionError","AttributeError","BufferError","EOFError","ImportError","LookupError","MemoryError","NameError","OSError","ReferenceError","RuntimeError","SyntaxError","SystemError","TypeError","ValueError","Warning"],_b_.Exception),$make_exc(["FloatingPointError","OverflowError","ZeroDivisionError"],_b_.ArithmeticError),$make_exc(["IndexError","KeyError"],_b_.LookupError),$make_exc(["UnboundLocalError"],_b_.NameError),$make_exc(["BlockingIOError","ChildProcessError","ConnectionError","FileExistsError","FileNotFoundError","InterruptedError","IsADirectoryError","NotADirectoryError","PermissionError","ProcessLookupError","TimeoutError"],_b_.OSError),$make_exc(["BrokenPipeError","ConnectionAbortedError","ConnectionRefusedError","ConnectionResetError"],_b_.ConnectionError),$make_exc(["NotImplementedError"],_b_.RuntimeError),$make_exc(["IndentationError"],_b_.SyntaxError),$make_exc(["TabError"],_b_.IndentationError),$make_exc(["UnicodeError"],_b_.ValueError),$make_exc(["UnicodeDecodeError","UnicodeEncodeError","UnicodeTranslateError"],_b_.UnicodeError),$make_exc(["DeprecationWarning","PendingDeprecationWarning","RuntimeWarning","SyntaxWarning","UserWarning","FutureWarning","ImportWarning","UnicodeWarning","BytesWarning","ResourceWarning"],_b_.Warning),$make_exc(["EnvironmentError","IOError","VMSError","WindowsError"],_b_.OSError),$B.$NameError=function(a){throw _b_.NameError(a)},$B.$TypeError=function(a){throw _b_.TypeError(a)}}(__BRYTHON__),function(a){function b(b,c){var d=g.__len__(b);return 0==d?b.start:c>d?b.stop:a.add(b.start,a.mul(b.step,c))}function c(){var b,c=a.args("range",3,{start:null,stop:null,step:null},["start","stop","step"],arguments,{stop:null,step:null},null,null),d=c.start,f=c.stop,h=c.step;if(null===f&&null===h)return f=a.PyNumber_Index(d),b="number"==typeof f,{__class__:g,start:0,stop:f,step:1,$is_range:!0,$safe:b};if(null===h&&(h=1),d=a.PyNumber_Index(d),f=a.PyNumber_Index(f),h=a.PyNumber_Index(h),0==h)throw e.ValueError("range() arg 3 must not be zero");return b="number"==typeof d&&"number"==typeof f&&"number"==typeof h,{__class__:g,start:d,stop:f,step:h,$is_range:!0,$safe:b}}function d(){var b,c,d,f=a.args("slice",3,{start:null,stop:null,step:null},["start","stop","step"],arguments,{stop:null,step:null},null,null);null===f.stop&&null===f.step?(b=e.None,c=f.start,d=e.None):(b=f.start,c=f.stop,d=null===f.step?e.None:f.step);var g={__class__:h,start:b,stop:c,step:d};return g}var e=a.builtins,f=e.None,g={__class__:a.$type,__dir__:e.object.$dict.__dir__,__name__:"range",$native:!0};g.__contains__=function(b,c){if(0==g.__len__(b))return!1;try{c=a.int_or_bool(c)}catch(a){try{return g.index(b,c),!0}catch(a){return!1}}var d=a.sub(c,b.start),e=a.floordiv(d,b.step),f=a.mul(b.step,e);return!!a.eq(f,d)&&(a.gt(b.stop,b.start)?a.ge(c,b.start)&&a.gt(b.stop,c):a.ge(b.start,c)&&a.gt(c,b.stop))},g.__delattr__=function(a,b,c){throw e.AttributeError("readonly attribute")},g.__eq__=function(b,d){if(e.isinstance(d,c)){var f=g.__len__(b);return!!a.eq(f,g.__len__(d))&&(0==f||!!a.eq(b.start,d.start)&&(1==f||a.eq(b.step,d.step)))}return!1},g.__getitem__=function(d,f){if(e.isinstance(f,e.slice)){var h=e.slice.$dict.$conv_for_seq(f,g.__len__(d)),i=a.mul(d.step,h.step),j=b(d,h.start),k=b(d,h.stop);return c(j,k,i)}"number"!=typeof f&&(f=a.$GetInt(f)),a.gt(0,f)&&(f=a.add(f,g.__len__(d)));var l=a.add(d.start,a.mul(f,d.step));if(a.gt(d.step,0)&&(a.ge(l,d.stop)||a.gt(d.start,l))||a.gt(0,d.step)&&(a.ge(d.stop,l)||a.gt(l,d.start)))throw e.IndexError("range object index out of range");return l},g.__hash__=function(a){var b=g.__len__(a);return 0==b?e.hash(e.tuple([0,f,f])):1==b?e.hash(e.tuple([1,a.start,f])):e.hash(e.tuple([b,a.start,a.step]))},$RangeIterator=function(a){return{__class__:$RangeIterator.$dict,obj:a}},$RangeIterator.__class__=a.$factory,$RangeIterator.$dict={__class__:a.$type,__name__:"range_iterator",$factory:$RangeIterator,__iter__:function(a){return a},__next__:function(a){return e.next(a.obj)}},$RangeIterator.$dict.__mro__=[$RangeIterator.$dict,e.object.$dict],g.__iter__=function(b){var c={__class__:g,start:b.start,stop:b.stop,step:b.step};return b.$safe?c.$counter=b.start-b.step:c.$counter=a.sub(b.start,b.step),$RangeIterator(c)},g.__len__=function(b){var c;if(a.gt(b.step,0)){if(a.ge(b.start,b.stop))return 0;var d=a.sub(b.stop,a.add(1,b.start)),e=a.floordiv(d,b.step);c=a.add(1,e)}else{if(a.ge(b.stop,b.start))return 0;var d=a.sub(b.start,a.add(1,b.stop)),e=a.floordiv(d,a.mul(-1,b.step));c=a.add(1,e)}return void 0===a.maxsize&&(a.maxsize=a.LongInt.$dict.__pow__(a.LongInt(2),63),a.maxsize=a.LongInt.$dict.__sub__(a.maxsize,1)),c},g.__next__=function(b){if(b.$safe){if(b.$counter+=b.step,b.step>0&&b.$counter>=b.stop||b.step<0&&b.$counter<=b.stop)throw e.StopIteration("")}else if(b.$counter=a.add(b.$counter,b.step),a.gt(b.step,0)&&a.ge(b.$counter,b.stop)||a.gt(0,b.step)&&a.ge(b.stop,b.$counter))throw e.StopIteration("");return b.$counter},g.__mro__=[g,e.object.$dict],g.__reversed__=function(b){var d=a.sub(g.__len__(b),1);return c(a.add(b.start,a.mul(d,b.step)),a.sub(b.start,b.step),a.mul(-1,b.step))},g.__repr__=g.__str__=function(a){var b="range("+e.str(a.start)+", "+e.str(a.stop);return 1!=a.step&&(b+=", "+e.str(a.step)),b+")"},g.__setattr__=function(a,b,c){throw e.AttributeError("readonly attribute")},g.descriptors={start:function(a){return a.start},step:function(a){return a.step},stop:function(a){return a.stop}},g.count=function(a,b){if(e.isinstance(b,[e.int,e.float,e.bool]))return e.int(g.__contains__(a,b));var c=e.getattr(b,"__eq__"),d=g.__iter__(a);for(_next=$RangeIterator.$dict.__next__,nb=0;;)try{c(_next(d))&&nb++}catch(a){if(e.isinstance(a,e.StopIteration))return nb;throw a}},g.index=function(b,c){var d=a.args("index",2,{self:null,other:null},["self","other"],arguments,{},null,null),b=d.self,c=d.other;try{c=a.int_or_bool(c)}catch(a){for(var f=e.getattr(c,"__eq__"),h=g.__iter__(b),i=$RangeIterator.$dict.__next__,j=0;;)try{if(f(i(h)))return j;j++}catch(a){if(e.isinstance(a,e.StopIteration))throw e.ValueError(e.str(c)+" not in range");throw a}}var k=a.sub(c,b.start),l=a.floordiv(k,b.step),m=a.mul(b.step,l);if(a.eq(m,k)){if(a.gt(b.stop,b.start)&&a.ge(c,b.start)&&a.gt(b.stop,c)||a.ge(b.start,b.stop)&&a.ge(b.start,c)&&a.gt(c,b.stop))return l;throw e.ValueError(e.str(c)+" not in range")}throw e.ValueError(e.str(c)+" not in range")},c.__class__=a.$factory,c.$dict=g,g.$factory=c,c.$is_func=!0;var h={__class__:a.$type,__name__:"slice",$native:!0};h.__mro__=[h,e.object.$dict],h.__repr__=h.__str__=function(a){return"slice("+e.str(a.start)+","+e.str(a.stop)+","+e.str(a.step)+")"},h.__setattr__=function(a,b,c){throw e.AttributeError("readonly attribute")},h.$conv=function(a,b){return{start:a.start===e.None?0:a.start,stop:a.stop===e.None?b:a.stop,step:a.step===e.None?1:a.step}},h.$conv_for_seq=function(b,c){var d=b.step===f?1:a.PyNumber_Index(b.step),e=a.gt(0,d),g=a.sub(c,1);if(0==d)throw Error("ValueError : slice step cannot be zero");var h;return b.start===f?h=e?g:0:(h=a.PyNumber_Index(b.start),a.gt(0,h)&&(h=a.add(h,c)),a.gt(0,h)&&(h=d<0?-1:0),a.ge(h,c)&&(h=d<0?g:c)),b.stop===f?stop=e?-1:c:(stop=a.PyNumber_Index(b.stop),a.gt(0,stop)&&(stop+=c),a.gt(0,stop)&&(stop=d<0?-1:0),a.ge(stop,c)&&(stop=e?g:c)),{start:h,stop:stop,step:d}},h.descriptors={start:function(a){return a.start},step:function(a){return a.step},stop:function(a){return a.stop}},h.indices=function(b,c){var d=a.$GetInt(c);if(d<0&&e.ValueError("length should not be negative"),b.step>0){var f=e.min(d,b.stop);return e.tuple([b.start,f,b.step])}if(b.step==e.None){var f=e.min(d,b.stop),g=b.start;return g==e.None&&(g=0),e.tuple([g,f,1])}e.NotImplementedError("Error! negative step indices not implemented yet")},d.__class__=a.$factory,d.$dict=h,h.$factory=d,d.$is_func=!0,e.range=c,e.slice=d}(__BRYTHON__),function(a){function b(a,b,c){var d=(m(a,b,c),{__class__:u});return u.__init__(d,a,b,c),d}function c(a,b,c){if(void 0===b){b=[],pos=0;for(var d="\r\n \t",e=0,f=d.length;e<f;e++)b[pos++]=d.charCodeAt(e)}else{if(!p(b,m))throw n.TypeError("Type str doesn't support the buffer API");b=b.source}if("l"==c){for(var e=0,f=a.source.length;e<f&&b.indexOf(a.source[e])!=-1;e++);return m(a.source.slice(e))}for(var e=a.source.length-1;e>=0&&b.indexOf(a.source[e])!=-1;e--);return m(a.source.slice(0,e+1))}function d(a,b,c){throw n.UnicodeEncodeError("'"+a+"' codec can't encode character "+n.hex(b)+" in position "+c)}function e(a,b){throw n.UnicodeDecodeError("'"+a+"' codec can't decode bytes in position "+b)}function f(a){return a.toString(16)}function g(a){return parseInt(a,16)}function h(a){var b=a.toLowerCase();return"windows"==b.substr(0,7)&&(b="cp"+b.substr(7)),b=b.replace("-",""),b=b.replace("-","_")}function i(a){if(void 0===t[a]){j(a),t[a]={};for(var b in s[a])t[a][s[a][b]]=b}}function j(a){if(void 0===s[a]){var b=n.__import__("encodings."+a),c=b[a].decoding_table;s[a]={};for(var d=0;d<c.length;d++)s[a][c.charCodeAt(d)]=d}}function k(a,b,c){var d="",j=h(b);switch(j){case"utf-8":case"utf8":for(var k,l=0,m=g("800"),o=g("c2"),p=g("1000"),q=g("e0"),r=g("e1"),s=g("e3"),u=g("a0"),v=g("80"),w=g("2000");l<a.length;)if(a[l]<=127)d+=String.fromCharCode(a[l]),l+=1;else if(a[l]<q)l<a.length-1?(k=a[l+1]+64*(a[l]-o),d+=String.fromCharCode(k),l+=2):e(b,l);else if(a[l]==q)if(l<a.length-2){var x=a[l+1]-u;k=a[l+2]-v+m+64*x,d+=String.fromCharCode(k),l+=3}else e(b,l);else if(a[l]<s)if(l<a.length-2){var x=a[l+1]-v;k=a[l+2]-v+p+64*x,d+=String.fromCharCode(k),l+=3}else e(b,l);else if(l<a.length-2){var y=a[l]-r-1,x=a[l+1]-v+64*y;k=a[l+2]-v+w+64*x,d+=String.fromCharCode(k),l+=3}else"surrogateescape"==c?(d+="\\udc"+f(a[l]),l+=1):e(b,l);break;case"latin1":case"iso8859_1":case"windows1252":for(var l=0,z=a.length;l<z;l++)d+=String.fromCharCode(a[l]);break;case"ascii":for(var l=0,z=a.length;l<z;l++){var k=a[l];if(!(k<=127)){var A="'ascii' codec can't decode byte 0x"+k.toString(16);throw A+=" in position "+l+": ordinal not in range(128)",n.UnicodeDecodeError(A)}d+=String.fromCharCode(k)}break;default:try{i(j)}catch(a){throw n.LookupError("unknown encoding: "+j)}for(var l=0,z=a.length;l<z;l++){var B=t[j][a[l]];d+=void 0!==B?String.fromCharCode(B):String.fromCharCode(a[l])}}return d}function l(a,b){var c=[],e=0,f=h(b);switch(f){case"utf-8":case"utf8":for(var i=g("800"),k=g("c2"),l=g("1000"),m=g("e0"),o=g("e1"),p=g("a0"),q=g("80"),r=g("2000"),t=g("D000"),u=0,v=a.length;u<v;u++){var w=a.charCodeAt(u);if(w<=127)c[e++]=w;else if(w<i){var x=Math.floor((w-128)/64);c[e++]=k+x,c[e++]=w-64*x}else if(w<l){var x=Math.floor((w-i)/64);c[e++]=m,c[e++]=p+x,c[e++]=q+w-i-64*x}else if(w<r){var x=Math.floor((w-l)/64);c[e++]=o+Math.floor((w-l)/l),c[e++]=q+x,c[e++]=q+w-l-64*x}else if(w<t){var x=Math.floor((w-r)/64),y=Math.floor((w-r)/l);c[e++]=o+Math.floor((w-l)/l),c[e++]=q+x-64*y,c[e++]=q+w-r-64*x}}break;case"latin1":case"iso8859_1":case"windows1252":for(var u=0,v=a.length;u<v;u++){var w=a.charCodeAt(u);w<=255?c[e++]=w:d(b,u)}break;case"ascii":for(var u=0,v=a.length;u<v;u++){var w=a.charCodeAt(u);w<=127?c[e++]=w:d(b,u)}break;default:try{j(f)}catch(a){throw n.LookupError("unknown encoding: "+f)}for(var u=0,v=a.length;u<v;u++){var w=a.charCodeAt(u);void 0===s[f][w]&&d(b,w,u),c[e++]=s[f][w]}}return c}function m(a,b,c){var d={__class__:A};return A.__init__(d,a,b,c),d}for(var n=a.builtins,o=n.object.$dict,p=n.isinstance,q=n.getattr,r=n.None,s={},t={},u={__class__:a.$type,__name__:"bytearray"},v=["__delitem__","clear","copy","count","index","pop","remove","reverse","sort"],w=0,x=v.length;w<x;w++){var y=v[w];u[y]=function(a){return function(b){for(var c=[b.source],d=1,e=1,f=arguments.length;e<f;e++)c[d++]=arguments[e];return n.list.$dict[a].apply(null,c)}}(y)}var z=a.$iterator_class("bytearray_iterator");u.__iter__=function(b){return a.$iterator(b.source,z)},u.__mro__=[u,o],u.__repr__=u.__str__=function(a){return"bytearray("+A.__repr__(a)+")"},u.__setitem__=function(b,c,d){if(p(c,n.int)){if(!p(d,n.int))throw n.TypeError("an integer is required");if(d>255)throw n.ValueError("byte must be in range(0, 256)");var e=c;if(c<0&&(e=b.source.length+e),!(e>=0&&e<b.source.length))throw n.IndexError("list index out of range");b.source[e]=d}else{if(!p(c,n.slice))throw n.TypeError("list indices must be integer, not "+a.get_class(c).__name__);var f=c.start===r?0:c.start,g=c.stop===r?b.source.length:c.stop;c.step===r?1:c.step;if(f<0&&(f=b.source.length+f),g<0&&(g=b.source.length+g),b.source.splice(f,g-f),!n.hasattr(d,"__iter__"))throw n.TypeError("can only assign an iterable");for(var h=n.list(d),i=h.length-1;i>=0;i--){if(!p(h[i],n.int))throw n.TypeError("an integer is required");if(h[i]>255)throw ValueError("byte must be in range(0, 256)");b.source.splice(f,0,h[i])}}},u.append=function(a,b){if(2!=arguments.length)throw n.TypeError("append takes exactly one argument ("+(arguments.length-1)+" given)");if(!p(b,n.int))throw n.TypeError("an integer is required");if(b>255)throw ValueError("byte must be in range(0, 256)");a.source[a.source.length]=b},u.insert=function(a,b,c){if(3!=arguments.length)throw n.TypeError("insert takes exactly 2 arguments ("+(arguments.length-1)+" given)");if(!p(c,n.int))throw n.TypeError("an integer is required");if(c>255)throw ValueError("byte must be in range(0, 256)");n.list.$dict.insert(a.source,b,c)},b.__class__=a.$factory,b.$dict=u,u.$factory=b,b.__code__={},b.__code__.co_argcount=1,b.__code__.co_consts=[],b.__code__.co_varnames=["i"];var A={__class__:a.$type,__name__:"bytes"};A.__add__=function(a,b){if(!p(b,m))throw n.TypeError("can't concat bytes to "+n.str(b));return a.source=a.source.concat(b.source),a};var B=a.$iterator_class("bytes_iterator");A.__iter__=function(b){return a.$iterator(b.source,B)},A.__eq__=function(a,b){return q(a.source,"__eq__")(b.source)},A.__ge__=function(a,b){return n.list.$dict.__ge__(a.source,b.source)},A.__getitem__=function(a,b){var c;if(p(b,n.int)){var d=b;if(b<0&&(d=a.source.length+d),d>=0&&d<a.source.length)return a.source[d];throw n.IndexError("index out of range")}if(p(b,n.slice)){var e=b.step===r?1:b.step;if(e>0)var f=b.start===r?0:b.start,g=b.stop===r?q(a.source,"__len__")():b.stop;else var f=b.start===r?q(a.source,"__len__")()-1:b.start,g=b.stop===r?0:b.stop;f<0&&(f=a.source.length+f),g<0&&(g=a.source.length+g);var h=[],c=null,d=0;if(e>0){if(g<=f)return"";for(c=f;c<g;c+=e)h[d++]=a.source[c]}else{if(g>=f)return"";for(c=f;c>=g;c+=e)h[d++]=a.source[c]}return m(h)}if(p(b,bool))return a.source.__getitem__(n.int(b))},A.__gt__=function(a,b){return n.list.$dict.__gt__(a.source,b.source)},A.__hash__=function(b){if(void 0===b)return A.__hashvalue__||a.$py_next_hash--;for(var c=1,d=0,e=b.length;d<e;d++)c=101*c+b.source[d]&4294967295;return c},A.__init__=function(a,b,c,d){var e=[],f=0;if(void 0===b);else if(p(b,n.int))for(var g=b;g--;)e[f++]=0;else if(p(b,n.str)){if(void 0===c)throw n.TypeError("string argument without an encoding");e=l(b,c)}else e=n.list(b);a.source=e,a.encoding=c,a.errors=d},A.__le__=function(a,b){return n.list.$dict.__le__(a.source,b.source)},A.__len__=function(a){return a.source.length},A.__lt__=function(a,b){return n.list.$dict.__lt__(a.source,b.source)},A.__mro__=[A,o],A.__mul__=function(){for(var b=a.args("__mul__",2,{self:null,other:null},["self","other"],arguments,{},null,null),c=a.PyNumber_Index(b.other),d=m(),e=0;e<c;e++)d.source=d.source.concat(b.self.source);return d},A.__ne__=function(a,b){return!A.__eq__(a,b)},A.__repr__=A.__str__=function(a){for(var b="b'",c=0,d=a.source.length;c<d;c++){var e=a.source[c];if(e<32||e>=128){var f=e.toString(16);f=(1==f.length?"0":"")+f,b+="\\x"+f}else b+=String.fromCharCode(e)}return b+"'"},A.__reduce_ex__=function(a){return A.__repr__(a)},A.decode=function(a,b,c){switch(void 0===b&&(b="utf-8"),void 0===c&&(c="strict"),c){case"strict":case"ignore":case"replace":case"surrogateescape":case"xmlcharrefreplace":case"backslashreplace":return k(a.source,b,c)}},A.join=function(){for(var b=a.args("join",2,{self:null,iterable:null},["self","iterable"],arguments,{}),c=b.self,d=b.iterable,e=n.getattr(n.iter(d),"__next__"),f=m(),g=!0;;)try{var h=e();g?g=!1:f=A.__add__(f,c),f=A.__add__(f,h)}catch(a){if(p(a,n.StopIteration))break;throw a}return f},A.maketrans=function(a,b){for(var c=[],d=0;d<256;d++)c[d]=d;for(var d=0,e=a.source.length;d<e;d++){var f=a.source[d];c[f]=b.source[d]}return m(c)},A.split=function(){for(var b=a.args("split",2,{self:null,sep:null},["self","sep"],arguments,{},null,null),c=[],d=0,e=0,f=b.sep.source,g=f.length,h=b.self.source,i=h.length;e<i;){for(var j=!0,k=0;k<g&&j;k++)h[e+k]!=f[k]&&(j=!1);j?(c.push(m(h.slice(d,e))),d=e+g,e=d):e++}return(j||e>d)&&c.push(m(h.slice(d,e))),c},A.lstrip=function(a,b){return c(a,b,"l")},A.rstrip=function(a,b){return c(a,b,"r")},A.startswith=function(){var b=a.args("startswith",2,{self:null,start:null},["self","start"],arguments,{},null,null);if(n.isinstance(b.start,m)){for(var c=!0,d=0;d<b.start.source.length&&c;d++)c=b.self.source[d]==b.start.source[d];return c}if(n.isinstance(b.start,n.tuple)){for(var e=[],d=0;d<b.start.length;d++){if(!n.isinstance(b.start[d],m))throw n.TypeError("startswith first arg must be bytes or a tuple of bytes, not "+a.get_class(b.start).__name__);e=e.concat(b.start[d].source)}var f=m(e);return A.startswith(b.self,f)}throw n.TypeError("startswith first arg must be bytes or a tuple of bytes, not "+a.get_class(b.start).__name__)},A.strip=function(a,b){var c=A.lstrip(a,b);return A.rstrip(c,b)},A.translate=function(b,c,d){if(void 0===d)d=[];else{if(!p(d,m))throw n.TypeError("Type "+a.get_class(d).__name+" doesn't support the buffer API");d=d.source}var e=[],f=0;if(p(c,m)&&256==c.source.length)for(var g=0,h=b.source.length;g<h;g++)d.indexOf(b.source[g])>-1||(e[f++]=c.source[b.source[g]]);return m(e)},A.upper=function(a){for(var b=[],c=0,d=0,e=a.source.length;d<e;d++)b[c++]=a.source[d].toUpperCase();return m(b)},m.__class__=a.$factory,m.$dict=A,A.$factory=m,m.__code__={},m.__code__.co_argcount=1,m.__code__.co_consts=[],m.__code__.co_varnames=["i"];for(var C in A)void 0===u[C]&&(u[C]=function(a){return function(){return A[a].apply(null,arguments)}}(C));a.set_func_names(A),a.set_func_names(u),n.bytes=m,n.bytearray=b}(__BRYTHON__),function($B){function create_type(a){return $B.get_class(a).$factory()}function clone(a){var b=create_type(a);return b.$items=a.$items.slice(),b}function $test(a,b,c){if(void 0===a&&!_.isinstance(b,[set,frozenset]))throw _b_.TypeError("unsupported operand type(s) for "+c+": 'set' and '"+$B.get_class(b).__name__+"'")}function set(){var a={__class__:$SetDict,$str:!0,$num:!0,$items:[]},b=[a].concat(Array.prototype.slice.call(arguments));return $SetDict.__init__.apply(null,b),a}function empty_frozenset(){return{__class__:$FrozensetDict,$items:[],$id:singleton_id}}function frozenset(){var a=$B.args("frozenset",1,{iterable:null},["iterable"],arguments,{iterable:null},null,null);if(null===a.iterable)return empty_frozenset();if(a.iterable.__class__==$FrozensetDict)return a.iterable;var b=set(a.iterable);return 0==b.$items.length?empty_frozenset():(b.__class__=$FrozensetDict,b)}var _=$B.builtins,$N=_.None,$SetDict={__class__:$B.$type,__dir__:_.object.$dict.__dir__,__name__:"set",$native:!0};$SetDict.__add__=function(a,b){throw _.TypeError("unsupported operand type(s) for +: 'set' and "+typeof b)},$SetDict.__and__=function(a,b,c){$test(c,b);for(var d=create_type(a),e=0,f=a.$items.length;e<f;e++)_.getattr(b,"__contains__")(a.$items[e])&&$SetDict.add(d,a.$items[e]);return d},$SetDict.__contains__=function(a,b){if(a.$num&&"number"==typeof b)return a.$items.indexOf(b)>-1;if(a.$str&&"string"==typeof b)return a.$items.indexOf(b)>-1;_b_.isinstance(b,set)||_b_.hash(b);for(var c=(_b_.getattr(b,"__eq__"),0),d=a.$items.length;c<d;c++)if(_.getattr(a.$items[c],"__eq__")(b))return!0;return!1},$SetDict.__eq__=function(a,b){if(void 0===b)return a===set;if(_.isinstance(b,_.set)){if(b.$items.length==a.$items.length){for(var c=0,d=a.$items.length;c<d;c++)if($SetDict.__contains__(a,b.$items[c])===!1)return!1;return!0}return!1}if(_.isinstance(b,[_.list])){if(_.len(b)!=a.$items.length)return!1;for(var c=0,d=_.len(b);c<d;c++){var e=getattr(b,"__getitem__")(c);if($SetDict.__contains__(a,e)===!1)return!1}return!0}if(_.hasattr(b,"__iter__")){if(_.len(b)!=a.$items.length)return!1;for(var f=_.iter(b);;)try{var g=_.next(f);if(!$SetDict.__contains__(a,g))return!1}catch(a){if("StopIteration"==a.__name__)break;throw a}return!0}return!1},$SetDict.__format__=function(a,b){return $SetDict.__str__(a)},$SetDict.__ge__=function(a,b){return _b_.isinstance(b,[set,frozenset])?!$SetDict.__lt__(a,b):_b_.object.$dict.__ge__(a,b)},$SetDict.__gt__=function(a,b){return _b_.isinstance(b,[set,frozenset])?!$SetDict.__le__(a,b):_b_.object.$dict.__gt__(a,b)},$SetDict.__init__=function(a){var b=$B.args("__init__",2,{self:null,iterable:null},["self","iterable"],arguments,{iterable:[]},null,null),a=b.self,c=b.iterable;if(_.isinstance(c,[set,frozenset]))return a.$items=c.$items,$N;for(var d=_b_.iter(c),e={$items:[],$str:!0,$num:!0};;)try{var f=_.next(d);$SetDict.add(e,f)}catch(a){if(_b_.isinstance(a,_b_.StopIteration))break;throw a}return a.$items=e.$items,$N};var $set_iterator=$B.$iterator_class("set iterator");$SetDict.__iter__=function(a){var b=$B.$iterator(a.$items,$set_iterator),c=a.$items.length,d=b.__next__;return b.__next__=function(){if(b.__len__()!=c)throw _b_.RuntimeError("size changed during iteration");return d()},b},$SetDict.__le__=function(a,b){if(_b_.isinstance(b,[set,frozenset])){for(var c=_.getattr(b,"__contains__"),d=0,e=a.$items.length;d<e;d++)if(!c(a.$items[d]))return!1;return!0}return _b_.object.$dict.__le__(a,b)},$SetDict.__len__=function(a){return a.$items.length},$SetDict.__lt__=function(a,b){return _b_.isinstance(b,[set,frozenset])?$SetDict.__le__(a,b)&&$SetDict.__len__(a)<_.getattr(b,"__len__")():_b_.object.$dict.__lt__(a,b)},$SetDict.__mro__=[$SetDict,_.object.$dict],$SetDict.__ne__=function(a,b){return!$SetDict.__eq__(a,b)},$SetDict.__or__=function(a,b,c){for(var d=clone(a),e=_.getattr(_.iter(b),"__next__");;)try{$SetDict.add(d,e())}catch(a){if(_.isinstance(a,_.StopIteration))break;throw a}return d.__class__=a.__class__,d},$SetDict.__str__=$SetDict.toString=$SetDict.__repr__=function(a){if(frozen="frozen"===a.$real,a.$cycle=void 0===a.$cycle?0:a.$cycle+1,0===a.$items.length)return frozen?"frozenset()":"set()";var b=$B.get_class(a).__name__,c=b+"({",d="})";"set("==c&&(c="{",d="}");var e=[];if(a.$cycle)return a.$cycle--,b+"(...)";for(var f=0,g=a.$items.length;f<g;f++){var h=_.repr(a.$items[f]);h===a||h===a.$items[f]?e.push("{...}"):e.push(h)}return e=e.join(", "),a.$cycle--,c+e+d},$SetDict.__sub__=function(a,b,c){$test(c,b,"-");for(var d=create_type(a),e=_.getattr(b,"__contains__"),f=0,g=a.$items.length;f<g;f++)e(a.$items[f])||d.$items.push(a.$items[f]);return d},$SetDict.__xor__=function(a,b,c){$test(c,b,"^");for(var d=create_type(a),e=_.getattr(b,"__contains__"),f=0,g=a.$items.length;f<g;f++)e(a.$items[f])||$SetDict.add(d,a.$items[f]);for(var f=0,g=b.$items.length;f<g;f++)$SetDict.__contains__(a,b.$items[f])||$SetDict.add(d,b.$items[f]);return d},$B.make_rmethods($SetDict),$SetDict.add=function(){var a=$B.args("add",2,{self:null,item:null},["self","item"],arguments,{},null,null),b=a.self,c=a.item;if(_b_.hash(c),b.$str&&"string"!=typeof c&&(b.$str=!1),b.$num&&"number"!=typeof c&&(b.$num=!1),b.$num||b.$str)return b.$items.indexOf(c)==-1&&b.$items.push(c),$N;for(var d=_.getattr(c,"__eq__"),e=0,f=b.$items.length;e<f;e++)if(d(b.$items[e]))return;return b.$items.push(c),$N},$SetDict.clear=function(){var a=$B.args("clear",1,{self:null},["self"],arguments,{},null,null);return a.self.$items=[],$N},$SetDict.copy=function(){var a=$B.args("copy",1,{self:null},["self"],arguments,{},null,null);if(_b_.isinstance(a.self,frozenset))return a.self;for(var b=set(),c=0,d=a.self.$items.length;c<d;c++)b.$items[c]=a.self.$items[c];return b},$SetDict.difference_update=function(a){for(var b=$B.args("difference_update",1,{self:null},["self"],arguments,{},"args",null),c=0;c<b.args.length;c++)for(var d,e=set(b.args[c]),f=_b_.getattr(_b_.iter(e),"__next__");;)try{d=f();var g=typeof d;if("string"==g||"number"==g){var h=a.$items.indexOf(d);h>-1&&a.$items.splice(h,1)}else for(var i=0;i<a.$items.length;i++)getattr(a.$items[i],"__eq__")(d)&&a.$items.splice(i,1)}catch(a){if(_b_.isinstance(a,_b_.StopIteration))break;throw a}return $N},$SetDict.discard=function(){var a=$B.args("discard",2,{self:null,item:null},["self","item"],arguments,{},null,null);try{$SetDict.remove(a.self,a.item)}catch(a){if(!_b_.isinstance(a,[_b_.KeyError,_b_.LookupError]))throw a}return $N},$SetDict.intersection_update=function(){for(var a=$B.args("intersection_update",1,{self:null},["self"],arguments,{},"args",null),b=a.self,c=0;c<a.args.length;c++){for(var d=[],e=set(a.args[c]),f=0;f<b.$items.length;f++){var g=b.$items[f],h=typeof g;if("string"==h||"number"==h)e.$items.indexOf(g)==-1&&d.push(f);else{for(var i=!1,j=0;!i&&j<e.$items.length;j++)_b_.getattr(e.$items[j],"__eq__")(g)&&(i=!0);i||d.push(f)}}d.sort().reverse();for(var f=0;f<d.length;f++)b.$items.splice(d[f],1)}return $N},$SetDict.isdisjoint=function(){for(var a=$B.args("is_disjoint",2,{self:null,other:null},["self","other"],arguments,{},null,null),b=0,c=a.self.$items.length;b<c;b++)if(_.getattr(a.other,"__contains__")(a.self.$items[b]))return!1;return!0},$SetDict.pop=function(a){if(0===a.$items.length)throw _.KeyError("pop from an empty set");return a.$items.pop()},$SetDict.remove=function(a,b){var c=$B.args("remove",2,{self:null,item:null},["self","item"],arguments,{},null,null),a=c.self,b=c.item;if(_b_.isinstance(b,set)||_b_.hash(b),"string"==typeof b||"number"==typeof b){var d=a.$items.indexOf(b);if(d==-1)throw _.KeyError(b);return a.$items.splice(d,1),$N}for(var e=0,f=a.$items.length;e<f;e++)if(_.getattr(a.$items[e],"__eq__")(b))return a.$items.splice(e,1),$N;throw _.KeyError(b)},$SetDict.symmetric_difference_update=function(a,b){for(var c,d=$B.args("symmetric_difference_update",2,{self:null,s:null},["self","s"],arguments,{},null,null),a=d.self,b=d.s,e=_b_.getattr(_b_.iter(b),"__next__"),f=[],g=[];;)try{c=e();var h=typeof c;if("string"==h||"number"==h){var i=a.$items.indexOf(c);i>-1?f.push(i):g.push(c)}else{for(var j=!1,k=0;!j&&k<a.$items.length;k++)_b_.getattr(a.$items[k],"__eq__")(c)&&(f.push(k),j=!0);j||g.push(c)}}catch(a){if(_b_.isinstance(a,_b_.StopIteration))break;throw a}f.sort().reverse();for(var l=0;l<f.length;l++)f[l]!=f[l-1]&&a.$items.splice(f[l],1);for(var l=0;l<g.length;l++)$SetDict.add(a,g[l]);return $N},$SetDict.update=function(a){for(var b=$B.args("update",1,{self:null},["self"],arguments,{},"args",null),c=0;c<b.args.length;c++)for(var d=set(b.args[c]),e=0,f=d.$items.length;e<f;e++)$SetDict.add(a,d.$items[e]);return $N},$SetDict.difference=function(){var a=$B.args("difference",1,{self:null},["self"],arguments,{},"args",null);if(0==a.args.length)return $SetDict.copy(a.self);for(var b=clone(a.self),c=0;c<a.args.length;c++)b=$SetDict.__sub__(b,set(a.args[c]));return b};var fc=$SetDict.difference+"";eval("$SetDict.intersection = "+fc.replace(/difference/g,"intersection").replace("__sub__","__and__")),eval("$SetDict.symmetric_difference = "+fc.replace(/difference/g,"symmetric_difference").replace("__sub__","__xor__")),eval("$SetDict.issubset = "+fc.replace(/difference/g,"issubset").replace("__sub__","__le__")),eval("$SetDict.issuperset = "+fc.replace(/difference/g,"issuperset").replace("__sub__","__ge__")),eval("$SetDict.union = "+fc.replace(/difference/g,"union").replace("__sub__","__or__")),set.__class__=$B.$factory,set.$dict=$SetDict,$SetDict.$factory=set,$SetDict.__new__=$B.$__new__(set),$B.set_func_names($SetDict);var $FrozensetDict={__class__:$B.$type,__name__:"frozenset"};$FrozensetDict.__mro__=[$FrozensetDict,_.object.$dict];for(var attr in $SetDict)switch(attr){case"add":case"clear":case"discard":case"pop":case"remove":case"update":break;default:void 0==$FrozensetDict[attr]&&("function"==typeof $SetDict[attr]?$FrozensetDict[attr]=function(a){return function(){return $SetDict[a].apply(null,arguments)}}(attr):$FrozensetDict[attr]=$SetDict[attr])}$FrozensetDict.__hash__=function(a){if(void 0===a)return $FrozensetDict.__hashvalue__||$B.$py_next_hash--;if(void 0!==a.__hashvalue__)return a.__hashvalue__;var b=1927868237;b*=a.$items.length;for(var c=0,d=a.$items.length;c<d;c++){var e=_.hash(a.$items[c]);b^=3644798167*(89869747^e^e<<16)}return b=69069*b+907133923,b==-1&&(b=590923713),a.__hashvalue__=b},$FrozensetDict.__init__=function(){$B.args("__init__",1,{self:null},["self"],arguments,{},"args","kw");return $N};var singleton_id=Math.floor(Math.random()*Math.pow(2,40));frozenset.__class__=$B.$factory,frozenset.$dict=$FrozensetDict,$FrozensetDict.__new__=$B.$__new__(frozenset),$FrozensetDict.$factory=frozenset,$B.set_func_names($FrozensetDict),_.set=set,_.frozenset=frozenset}(__BRYTHON__),function($B){function $Location(){var a={};for(var b in window.location)"function"==typeof window.location[b]?a[b]=function(a){return function(){return a.apply(window.location,arguments)}}(window.location[b]):a[b]=window.location[b];return void 0===a.replace&&(a.replace=function(a){window.location=a}),a.__class__=$LocationDict,a.toString=function(){return window.location.toString()},a.__repr__=a.__str__=a.toString,a}function JSConstructor(a){return{__class__:$JSConstructorDict,func:a.js_func}}function JSObject(a){if(null===a)return _b_.None;if("function"==typeof a)return{__class__:$JSObjectDict,js:a};var b=$B.get_class(a);return b===_b_.float.$dict?_b_.float(a):void 0!==b?a:{__class__:$JSObjectDict,js:a}}eval($B.InjectBuiltins());var $ObjectDict=_b_.object.$dict,$LocationDict={__class__:$B.$type,__name__:"Location"};$LocationDict.__mro__=[$LocationDict,$ObjectDict],$LocationDict.$factory=$Location,$Location.$dict=$LocationDict;var $JSConstructorDict={__class__:$B.$type,__name__:"JSConstructor"};$JSConstructorDict.__call__=function(a){for(var b=[null],c=1,d=arguments.length;c<d;c++)b.push(pyobj2jsobj(arguments[c]));var e=a.func.bind.apply(a.func,b),f=new e;return $B.$JS2Py(f)},$JSConstructorDict.__mro__=[$JSConstructorDict,$ObjectDict],JSConstructor.__class__=$B.$factory,JSConstructor.$dict=$JSConstructorDict,$JSConstructorDict.$factory=JSConstructor;var jsobj2pyobj=$B.jsobj2pyobj=function(a){switch(a){case!0:case!1:return a}return Array.isArray(a)?_b_.list(a):"number"==typeof a?a.toString().indexOf(".")==-1?_b_.int(a):_b_.float(a):$B.JSObject(a)},pyobj2jsobj=$B.pyobj2jsobj=function(a){if(a===!0||a===!1)return a;if(a===_b_.None)return null;var b=$B.get_class(a);if(void 0===b)return a;if(b===$JSObjectDict||b===$JSConstructorDict)return void 0!==a.js_func?a.js_func:a.js;if(b.__mro__.indexOf($B.DOMNodeDict)>-1)return a.elt;if([_b_.list.$dict,_b_.tuple.$dict].indexOf(b)>-1){for(var c=[],d=0,e=a.length;d<e;d++)c.push(pyobj2jsobj(a[d]));return c}if(b===_b_.dict.$dict){for(var f={},g=_b_.list(_b_.dict.$dict.items(a)),h=0,i=g.length;h<i;h++)f[g[h][0]]=pyobj2jsobj(g[h][1]);return f}return b===$B.builtins.float.$dict?a.valueOf():b===$B.$FunctionDict?function(){try{for(var b=[],c=0;c<arguments.length;c++)void 0===arguments[c]?b.push(_b_.None):b.push(jsobj2pyobj(arguments[c]));return a.apply(null,b)}catch(a){throw console.log(a),console.log(_b_.getattr(a,"info")),console.log(a.__name__+":",a.args[0]),a}}:a},$JSObjectDict={__class__:$B.$type,__name__:"JSObject",toString:function(){return"(JSObject)"}};$JSObjectDict.__bool__=function(a){
return new Boolean(a.js).valueOf()},$JSObjectDict.__delattr__=function(a,b){return _b_.getattr(a,b),delete a.js[b],_b_.None},$JSObjectDict.__dir__=function(a){return Object.keys(a.js)},$JSObjectDict.__getattribute__=function(a,b){if("$$"==b.substr(0,2)&&(b=b.substr(2)),null===a.js)return $ObjectDict.__getattribute__(None,b);if("__class__"===b)return $JSObjectDict;a.__class__===$JSObjectDict&&"$bind"==b&&void 0===a.js[b]&&void 0!==a.js.addEventListener&&(b="addEventListener");var c=a.js[b];if(a.js_func&&void 0!==a.js_func[b]&&(c=a.js_func[b]),void 0!==c){if("function"==typeof c){var d=function(){for(var d=[],e=0,f=arguments.length;e<f;e++){if(void 0!=arguments[e].$nat)throw TypeError("A Javascript function can't take keyword arguments");d.push(pyobj2jsobj(arguments[e]))}return"replace"===b&&a.js===location?void location.replace(d[0]):$B.$JS2Py(c.apply(a.js,d))};return d.__repr__=function(){return"<function "+b+">"},d.__str__=function(){return"<function "+b+">"},{__class__:$JSObjectDict,js:d,js_func:c}}return Array.isArray(a.js[b])?a.js[b]:$B.$JS2Py(a.js[b])}if(a.js===window&&"$$location"===b)return $Location();for(var d,e=a.__class__.__mro__,f=0,g=e.length;f<g;f++){var h=e[f][b];if(void 0!==h){d=h;break}}if(void 0!==d)return"function"==typeof d?function(){for(var b,c=[a],e=0,f=arguments.length;e<f;e++)b=arguments[e],!b||b.__class__!==$JSObjectDict&&b.__class__!==$JSConstructorDict?c.push(b):c.push(b.js);return d.apply(a,c)}:$B.$JS2Py(d);throw _b_.AttributeError("no attribute "+b+" for "+a.js)},$JSObjectDict.__getitem__=function(a,b){try{return getattr(a.js,"__getitem__")(b)}catch(c){if(void 0!==a.js[b])return JSObject(a.js[b]);throw _b_.KeyError(b)}};var $JSObject_iterator=$B.$iterator_class("JS object iterator");$JSObjectDict.__iter__=function(a){var b=[];if(window.Symbol&&void 0!==a.js[Symbol.iterator]){if(void 0!==a.js.length&&void 0!==a.js.item)for(var c=0;c<a.js.length;c++)b.push(a.js[c]);else for(var d in a.js)a.js.hasOwnProperty(d)&&b.push(jsobj2pyobj(d));return $B.$iterator(b,$JSObject_iterator)}if(void 0!==a.js.length&&void 0!==a.js.item){for(var c=0;c<a.js.length;c++)b.push(a.js[c]);return $B.$iterator(b,$JSObject_iterator)}var e=$JSObjectDict.to_dict(a);return _b_.dict.$dict.__iter__(e)},$JSObjectDict.__len__=function(a){try{return getattr(a.js,"__len__")()}catch(b){throw _b_.AttributeError(a.js+" has no attribute __len__")}},$JSObjectDict.__mro__=[$JSObjectDict,$ObjectDict],$JSObjectDict.__repr__=function(a){return"<JSObject wraps "+a.js+">"},$JSObjectDict.__setattr__=function(a,b,c){isinstance(c,JSObject)?a.js[b]=c.js:(a.js[b]=c,"function"==typeof c&&(a.js[b]=function(){for(var a=[],b=0,d=arguments.length;b<d;b++)a.push($B.$JS2Py(arguments[b]));try{return c.apply(null,a)}catch(a){a=$B.exception(a);var e=_b_.getattr(a,"info");throw a.toString=function(){return e+"\n"+a.__class__.__name__+": "+_b_.repr(a.args[0])},console.log(a+""),a}}))},$JSObjectDict.__setitem__=$JSObjectDict.__setattr__,$JSObjectDict.__str__=$JSObjectDict.__repr__;var no_dict={string:!0,function:!0,number:!0,boolean:!0};$JSObjectDict.bind=function(a,b,c){return $JSObjectDict.__getattribute__(a,"addEventListener").js(b,c)},$JSObjectDict.to_dict=function(a){var b=_b_.dict();for(var c in a.js){var d=a.js[c];"object"!=typeof d||Array.isArray(d)?_b_.dict.$dict.__setitem__(b,c,d):_b_.dict.$dict.__setitem__(b,c,$JSObjectDict.to_dict(JSObject(d)))}return b},JSObject.__class__=$B.$factory,JSObject.$dict=$JSObjectDict,$JSObjectDict.$factory=JSObject,$B.JSObject=JSObject,$B.JSConstructor=JSConstructor}(__BRYTHON__),function(a){a.stdlib={};for(var b=["VFS_import","__future__","_abcoll","_codecs","_collections","_csv","_dummy_thread","_functools","_imp","_io","_markupbase","_random","_socket","_sre","_string","_strptime","_struct","_sysconfigdata","_testcapi","_thread","_threading_local","_warnings","_weakref","_weakrefset","abc","antigravity","argparse","atexit","base64","bdb","binascii","bisect","calendar","cmd","code","codecs","codeop","colorsys","configparser","contextlib","copy","copyreg","csv","datetime","decimal","difflib","doctest","errno","external_import","fnmatch","formatter","fractions","functools","gc","genericpath","getopt","gettext","glob","heapq","imp","inspect","io","itertools","keyword","linecache","locale","marshal","numbers","opcode","operator","optparse","os","pdb","pickle","platform","posix","posixpath","pprint","pwd","pydoc","queue","re","reprlib","select","shutil","signal","site","site-packages.__future__","site-packages.docs","site-packages.header","site-packages.highlight","site-packages.test_sp","site-packages.turtle","socket","sre_compile","sre_constants","sre_parse","stat","string","struct","subprocess","sys","sysconfig","tarfile","tempfile","test.namespace_pkgs.module_and_namespace_package.a_test","textwrap","this","threading","time","timeit","token","tokenize","traceback","types","uuid","warnings","weakref","webbrowser","zipfile","zlib"],c=0;c<b.length;c++)a.stdlib[b[c]]=["py"];for(var d=["_ajax","_browser","_html","_jsre","_multiprocessing","_posixsubprocess","_svg","_sys","aes","builtins","dis","hashlib","hmac-md5","hmac-ripemd160","hmac-sha1","hmac-sha224","hmac-sha256","hmac-sha3","hmac-sha384","hmac-sha512","javascript","json","long_int","math","md5","modulefinder","pbkdf2","rabbit","rabbit-legacy","random","rc4","ripemd160","sha1","sha224","sha256","sha3","sha384","sha512","tripledes"],c=0;c<d.length;c++)a.stdlib[d[c]]=["js"];for(var e=["browser","collections","encodings","html","http","importlib","jqueryui","logging","multiprocessing","multiprocessing.dummy","pydoc_data","site-packages.ui","test","test.encoded_modules","test.leakers","test.namespace_pkgs.not_a_namespace_pkg.foo","test.support","test.test_email","test.test_importlib","test.test_importlib.builtin","test.test_importlib.extension","test.test_importlib.frozen","test.test_importlib.import_","test.test_importlib.source","test.test_json","test.tracedmodules","unittest","unittest.test","unittest.test.testmock","urllib","xml","xml.dom","xml.etree","xml.parsers","xml.sax"],c=0;c<e.length;c++)a.stdlib[e[c]]=["py",!0]}(__BRYTHON__),function($B){function module(a,b,c){return{__class__:$B.$ModuleDict,__name__:a,__doc__:b||_b_.None,__package__:c||_b_.None}}function parent_package(a){var b=a.split(".");return b.pop(),b.join(".")}function $importer(){var a=new XMLHttpRequest;$B.$CORS&&"withCredentials"in a||($B.$CORS&&"undefined"!=typeof window.XDomainRequest?a=new window.XDomainRequest:window.XMLHttpRequest||(a=new ActiveXObject("Microsoft.XMLHTTP")));var b;switch($B.$options.cache){case"version":b="?v="+$B.version_info[2];break;case"browser":b="";break;default:b="?v="+$B.UUID()}var c=setTimeout(function(){throw a.abort(),_b_.ImportError("No module named '"+module+"'")},5e3);return[a,b,c]}function $download_module(a,b,c,d){var e=$importer(),f=e[0],g=e[1],h=e[2],i=null,j=a.__name__,k=Array.isArray(d)||d===!1;if(k?(console.log("download non blocking",j),f.open("GET",b+g,!0)):f.open("GET",b+g,!1),$B.$CORS?(f.onload=function(){i=200==f.status||0==f.status?f.responseText:_b_.FileNotFoundError("No module named '"+j+"'")},f.onerror=function(){i=_b_.FileNotFoundError("No module named '"+j+"'")}):f.onreadystatechange=function(){if(4==f.readyState)if(window.clearTimeout(h),200==f.status||0==f.status){if(i=f.responseText,a.$last_modified=f.getResponseHeader("Last-Modified"),k){var e=b.substr(b.length-2);if("py"==e)try{import_py1(a,j,b,c,i)}catch(a){throw console.log(a),a}else if("js"==e)try{run_js(i,b,a)}catch(a){throw console.log(a),a}return console.log("non blocking ok",j),void d[1]()}}else console.log("Error "+f.status+" means that Python module "+j+" was not found at url "+b),i=_b_.FileNotFoundError("No module named '"+j+"'")},"overrideMimeType"in f&&f.overrideMimeType("text/plain"),f.send(),!k){if(null==i)throw _b_.FileNotFoundError("No module named '"+j+"' (res is null)");if(i.constructor===Error)throw i;return i}}function import_js(a,b,c){try{var d=$download_module(a,b,void 0,c);if(Array.isArray(c))return}catch(a){return null}return run_js(d,b,a),!0}function run_js(module_contents,path,module){try{eval(module_contents)}catch(a){throw console.log(a),a}try{$module}catch(a){throw console.log("no $module"),_b_.ImportError("name '$module' is not defined in module")}if(void 0!==module){for(var attr in $module)module[attr]=$module[attr];$module=module}else $module.__class__=$B.$ModuleDict,$module.__name__=module.name,$module.__repr__=$module.__str__=function(){return $B.builtin_module_names.indexOf(module.name)>-1?"<module '"+module.name+"' (built-in)>":"<module '"+module.name+"' from "+path+" >"},$module.toString=function(){return"<module '"+module.name+"' from "+path+" >"},"builtins"!=module.name&&($module.__file__=path);return $B.imported[module.__name__]=$module,!0}function show_ns(){for(var kk=Object.keys(window),i=0,_len_i=kk.length;i<_len_i;i++)console.log(kk[i]),"$"==kk[i].charAt(0)&&console.log(eval(kk[i]));console.log("---")}function import_py1(a,b,c,d,e){if(console.log("importpy1",b),$B.imported[b].$is_package=a.$is_package,$B.imported[b].$last_modified=a.$last_modified,"/__init__.py"==c.substr(c.length-12))$B.imported[b].__package__=b,$B.imported[b].__path__=c,$B.imported[b].$is_package=a.$is_package=!0;else if(d)$B.imported[b].__package__=d;else{var f=b.split(".");f.pop(),$B.imported[b].__package__=f.join(".")}return $B.imported[b].__file__=c,run_py(e,c,a)}function import_py(a,b,c,d){var e=a.__name__,f=$download_module(a,b,c,d);if(!Array.isArray(d)){if($B.imported[e].$is_package=a.$is_package,$B.imported[e].$last_modified=a.$last_modified,"/__init__.py"==b.substr(b.length-12))$B.imported[e].__package__=e,$B.imported[e].__path__=b,$B.imported[e].$is_package=a.$is_package=!0;else if(c)$B.imported[e].__package__=c;else{var g=e.split(".");g.pop(),$B.imported[e].__package__=g.join(".")}return $B.imported[e].__file__=b,run_py(f,b,a)}}function new_spec(a){return a.__class__=$B.$ModuleDict,a}function finder_VFS(){return{__class__:finder_VFS.$dict}}function finder_stdlib_static(){return{__class__:finder_stdlib_static.$dict}}function finder_path(){return{__class__:finder_path.$dict}}function vfs_hook(a){"/"==a.substr(-1)&&(a=a.slice(0,-1));var b=a.substr(-7);if(".vfs.js"!=b)throw _b_.ImportError("VFS file URL must end with .vfs.js extension");return self={__class__:vfs_hook.$dict,path:a},vfs_hook.$dict.load_vfs(self),self}function url_hook(a,b){return{__class__:url_hook.$dict,path_entry:a,hint:b}}function optimize_import_for_path(a,b){"/"!=a.slice(-1)&&(a+="/"),$B.path_importer_cache[a]=url_hook(a,b)}var _b_=$B.builtins;$B.$ModuleDict={__class__:$B.$type,__name__:"module"},$B.$ModuleDict.__repr__=$B.$ModuleDict.__str__=function(a){return"<module "+a.__name__+">"},$B.$ModuleDict.__mro__=[$B.$ModuleDict,_b_.object.$dict],module.__class__=$B.$factory,module.$dict=$B.$ModuleDict,$B.$ModuleDict.$factory=module;var loader=function(){},Loader={__class__:$B.$type,__name__:"Loader"};Loader.__mro__=[Loader,_b_.object.$dict],Loader.$factory=loader,loader.$dict=Loader,loader.__class__=$B.$factory,$B.$download_module=$download_module,$B.run_py=run_py=function(module_contents,path,module,compiled){if(!compiled){var $Node=$B.$Node,$NodeJSCtx=$B.$NodeJSCtx;$B.$py_module_path[module.__name__]=path;var root=$B.py2js(module_contents,module.__name__,module.__name__,"__builtins__"),body=root.children;root.children=[];var mod_node=new $Node("expression");new $NodeJSCtx(mod_node,"var $module=(function()"),root.insert(0,mod_node);for(var i=0,_len_i=body.length;i<_len_i;i++)mod_node.add(body[i]);var ret_node=new $Node("expression");new $NodeJSCtx(ret_node,"return $locals_"+module.__name__.replace(/\./g,"_")),mod_node.add(ret_node);var ex_node=new $Node("expression");new $NodeJSCtx(ex_node,")(__BRYTHON__)"),root.add(ex_node)}try{var js=compiled?module_contents:root.to_js();10==$B.$options.debug&&(console.log("code for module "+module.__name__),console.log(js)),eval(js)}catch(a){throw a}try{var mod=eval("$module");for(var attr in mod)module[attr]=mod[attr];return module.__initializing__=!1,$B.imported[module.__name__]=module,!0}catch(a){console.log(""+a+"  for module "+module.name);for(var attr in a)console.log(attr+" "+a[attr]);throw $B.debug>0&&console.log("line info "+__BRYTHON__.line_info),a}},finder_VFS.__class__=$B.$factory,finder_VFS.$dict={$factory:finder_VFS,__class__:$B.$type,__name__:"VFSFinder",create_module:function(a,b){return _b_.None},exec_module:function(a,b){var c=b.__spec__.loader_state.stored;delete b.__spec__.loader_state;var d=c[0],e=c[1];b.$is_package=c[2];var f=$B.brython_path+"Lib/"+b.__name__;b.$is_package&&(f+="/__init__.py"),b.__file__=f,".js"==d?run_js(e,b.__path__,b):run_py(e,b.__path__,b,".pyc.js"==d),$B.debug>1&&console.log("import "+b.__name__+" from VFS")},find_module:function(a,b,c){return{__class__:Loader,load_module:function(b,c){var d=a.$dict.find_spec(a,b,c),e=module(b);$B.imported[b]=e,e.__spec__=d,a.$dict.exec_module(a,e)}}},find_spec:function(a,b,c,d){if(!$B.use_VFS)return _b_.None;var e=$B.VFS[b];if(void 0===e)return _b_.None;var f=e[2],g=$B.builtin_module_names.indexOf(b)>-1;return new_spec({name:b,loader:a,origin:g?"built-in":"py_VFS",submodule_search_locations:f?[]:_b_.None,loader_state:{stored:e},cached:_b_.None,parent:f?b:parent_package(b),has_location:_b_.False})}},finder_VFS.$dict.__mro__=[finder_VFS.$dict,_b_.object.$dict],finder_VFS.$dict.create_module.$type="classmethod",finder_VFS.$dict.exec_module.$type="classmethod",finder_VFS.$dict.find_module.$type="classmethod",finder_VFS.$dict.find_spec.$type="classmethod",finder_stdlib_static.__class__=$B.$factory,finder_stdlib_static.$dict={$factory:finder_stdlib_static,__class__:$B.$type,__name__:"StdlibStatic",create_module:function(a,b){return _b_.None},exec_module:function(a,b,c){var d=b.__spec__.loader_state;b.$is_package=d.is_package,"py"==d.ext?import_py(b,d.path,b.__package__,c):import_js(b,d.path,c),delete b.__spec__.loader_state},find_module:function(a,b,c){var d=a.$dict.find_spec(a,b,c);return d===_b_.None?_b_.None:{__class__:Loader,load_module:function(b,c){var e=module(b);$B.imported[b]=e,e.__spec__=d,e.__package__=d.parent,a.$dict.exec_module(a,e,d.blocking)}}},find_spec:function(a,b,c,d){if($B.stdlib){var e=$B.stdlib[b];if(void 0===e){var f=b.split(".");if(f.length>1){var g=(f.pop(),$B.stdlib[f.join(".")]);g&&g[1]&&(e=["py"])}}if(void 0!==e){var h=e[0],i=void 0!==e[1],c=$B.brython_path+("py"==h?"Lib/":"libs/")+b.replace(/\./g,"/"),j={ext:h,is_package:i,path:c+(i?"/__init__.py":"py"==h?".py":".js"),address:e},k=new_spec({name:b,loader:a,origin:j.path,submodule_search_locations:i?[c]:_b_.None,loader_state:j,cached:_b_.None,parent:i?b:parent_package(b),has_location:_b_.True});return k}}return _b_.None}},finder_stdlib_static.$dict.__mro__=[finder_stdlib_static.$dict,_b_.object.$dict],finder_stdlib_static.$dict.create_module.$type="classmethod",finder_stdlib_static.$dict.exec_module.$type="classmethod",finder_stdlib_static.$dict.find_module.$type="classmethod",finder_stdlib_static.$dict.find_spec.$type="classmethod",finder_path.__class__=$B.$factory,finder_path.$dict={$factory:finder_path,__class__:$B.$type,__name__:"ImporterPath",create_module:function(a,b){return _b_.None},exec_module:function(a,b){var c=_b_.getattr(b,"__spec__"),d=c.loader_state.code;b.$is_package=c.loader_state.is_package,delete c.loader_state.code;var e=c.loader_state.type;"py"==e||"pyc.js"==e?run_py(d,c.origin,b,"pyc.js"==e):"js"==c.loader_state.type&&run_js(d,c.origin,b)},find_module:function(a,b,c){return finder_path.$dict.find_spec(a,b,c)},find_spec:function(a,b,c,d){is_none(c)&&(c=$B.path);for(var e=0,f=c.length;e<f;++e){var g=c[e];"/"!=g[g.length-1]&&(g+="/");var h=$B.path_importer_cache[g];if(void 0===h){for(var i=!0,j=0,k=$B.path_hooks.length;j<k&&i;++j){var l=$B.path_hooks[j];try{h=_b_.getattr(l,"__call__")(g),i=!1}catch(a){if(a.__class__!==_b_.ImportError.$dict)throw a}}i&&($B.path_importer_cache[g]=_b_.None)}var m=_b_.getattr(_b_.getattr(h,"find_spec"),"__call__")(b,d);if(!is_none(m))return m}return _b_.None}},finder_path.$dict.__mro__=[finder_path.$dict,_b_.object.$dict],finder_path.$dict.create_module.$type="classmethod",finder_path.$dict.exec_module.$type="classmethod",finder_path.$dict.find_module.$type="classmethod",finder_path.$dict.find_spec.$type="classmethod",vfs_hook.__class__=$B.$factory,vfs_hook.$dict={$factory:vfs_hook,__class__:$B.$type,__name__:"VfsPathFinder",load_vfs:function(self){try{var code=$download_module({__name__:"<VFS>"},self.path)}catch(a){throw self.vfs=void 0,new _b_.ImportError(a.$message||a.message)}eval(code);try{self.vfs=$vfs}catch(a){throw new _b_.ImportError("Expecting $vfs var in VFS file")}$B.path_importer_cache[self.path+"/"]=self},find_spec:function(a,b,c){if(void 0===a.vfs)try{vfs_hook.$dict.load_vfs(a)}catch(a){return console.log("Could not load VFS while importing '"+b+"'"),_b_.None}var d=a.vfs[b];if(void 0===d)return _b_.None;var e=d[2];return new_spec({name:b,loader:finder_VFS,origin:a.path+"#"+b,submodule_search_locations:e?[a.path]:_b_.None,loader_state:{stored:d},cached:_b_.None,parent:e?b:parent_package(b),has_location:_b_.True})},invalidate_caches:function(a){a.vfs=void 0}},vfs_hook.$dict.__mro__=[vfs_hook.$dict,_b_.object.$dict],url_hook.__class__=$B.$factory,url_hook.$dict={$factory:url_hook,__class__:$B.$type,__name__:"UrlPathFinder",__repr__:function(a){return"<UrlPathFinder"+(a.hint?" for '"+a.hint+"'":"(unbound)")+" at "+a.path_entry+">"},find_spec:function(a,b,c){var d={},e=!0,f=a.hint,g=a.path_entry+b.match(/[^.]+$/g)[0],h=[],i=void 0===f;(i||"js"==f)&&(h=[[g+".js","js",!1]]),(i||"pyc.js"==f)&&(h=h.concat([[g+".pyc.js","pyc.js",!1],[g+"/__init__.pyc.js","pyc.js",!0]])),(i||"py"==f)&&(h=h.concat([[g+".py","py",!1],[g+"/__init__.py","py",!0]]));for(var j=0;e&&j<h.length;++j)try{var k=h[j];d.code=$download_module({__name__:b},k[0]),e=!1,d.type=k[1],d.is_package=k[2],void 0===f&&(a.hint=k[1],$B.path_importer_cache[a.path_entry]=a),d.is_package&&($B.path_importer_cache[g+"/"]=url_hook(g+"/",a.hint)),d.path=k[0]}catch(a){}return e?_b_.None:new_spec({name:b,loader:finder_path,origin:d.path,submodule_search_locations:d.is_package?[g]:_b_.None,loader_state:d,cached:_b_.None,parent:d.is_package?b:parent_package(b),has_location:_b_.True})},invalidate_caches:function(a){}},url_hook.$dict.__mro__=[url_hook.$dict,_b_.object.$dict],$B.$path_hooks=[vfs_hook,url_hook],$B.path_importer_cache={};var _sys_paths=[[$B.script_dir+"/","py"],[$B.brython_path+"Lib/","py"],[$B.brython_path+"Lib/site-packages/","py"],[$B.brython_path+"libs/","js"]];for(i=0;i<_sys_paths.length;++i){var _path=_sys_paths[i],_type=_path[1];_path=_path[0],$B.path_importer_cache[_path]=url_hook(_path,_type)}delete _path,delete _type,delete _sys_paths,$B.is_none=function(a){return void 0===a||a==_b_.None},$B.$__import__=function(mod_name,globals,locals,fromlist,level,blocking){var modobj=$B.imported[mod_name],parsed_name=mod_name.split(".");if(modobj==_b_.None)throw _b_.ImportError(mod_name);if(void 0===modobj){is_none(fromlist)&&(fromlist=[]);for(var i=0,modsep="",_mod_name="",len=parsed_name.length-1,__path__=_b_.None;i<=len;++i){var _parent_name=_mod_name;_mod_name+=modsep+parsed_name[i],modsep=".";var modobj=$B.imported[_mod_name];if(modobj==_b_.None)throw _b_.ImportError(_mod_name);if(void 0===modobj){try{$B.import_hooks(_mod_name,__path__,void 0,blocking)}catch(a){throw delete $B.imported[_mod_name],a}if(is_none($B.imported[_mod_name]))throw _b_.ImportError(_mod_name);_parent_name&&_b_.setattr($B.imported[_parent_name],parsed_name[i],$B.imported[_mod_name])}if(i<len)try{__path__=_b_.getattr($B.imported[_mod_name],"__path__")}catch(a){if(i==len-1&&$B.imported[_mod_name][parsed_name[len]]&&$B.imported[_mod_name][parsed_name[len]].__class__===$B.$ModuleDict)return $B.imported[_mod_name][parsed_name[len]];throw _b_.ImportError(_mod_name)}}}else if(Array.isArray(blocking)){for(var frames=$B.frames_stack,i=0;i<frames.length;i++){var locals_id="$locals_"+frames[i][0].replace(/\./g,"_");eval("var "+locals_id+"=frames[i][1]")}eval("var $locals="+locals_id),blocking[1]()}return fromlist.length>0?$B.imported[mod_name]:$B.imported[parsed_name[0]]},$B.$import=function(a,b,c,d,e){var f=a.split(".");"."==a[a.length-1]&&f.pop();for(var g=[],h=!0,i=0,j=f.length;i<j;i++){var k=f[i];if(h&&""==k){if(elt=g.pop(),void 0===elt)throw _b_.ImportError("Parent module '' not loaded, cannot perform relative import")}else h=!1,g.push("$$"==k.substr(0,2)?k.substr(2):k)}var a=g.join(".");10==$B.$options.debug&&(console.log("$import "+a),console.log("use VFS ? "+$B.use_VFS),console.log("use static stdlib paths ? "+$B.static_stdlib_import));var l=$B.frames_stack[$B.frames_stack.length-1],m=l[3],n=m.__import__,o=$B.obj_dict(m);void 0===n&&(n=$B.$__import__);var p=_b_.getattr(n,"__call__")(a,o,void 0,b,0);if(b&&0!=b.length){var q=b,r={};if(b&&"*"==b[0]&&(q=_b_.getattr(p,"__all__",r),q!==r&&(c={})),q===r)for(var s in p)"_"!==s[0]&&(d[s]=p[s]);else for(var i=0,t=q.length;i<t;++i){var u=q[i],v=c[u]||u;try{d[v]=_b_.getattr(p,u)}catch(b){try{_b_.getattr(n,"__call__")(a+"."+u,o,void 0,[],0)}catch(a){if(a.__class__=_b_.ImportError.$dict)throw _b_.ImportError("cannot import name '"+u+"'");throw a}try{d[v]=_b_.getattr(p,u)}catch(a){a.__class__===_b_.AttributeError.$dict&&(a.__class__=_b_.ImportError.$dict)}}}}else{var v=c[a];v?d[v]=$B.imported[a]:d[g[0]]=p}},$B.$import_non_blocking=function(a,b){console.log("import non blocking",a),$B.$import(a,[],[],{},[!1,b])},$B.$meta_path=[finder_VFS,finder_stdlib_static,finder_path],_importlib_module={__class__:$B.$ModuleDict,__name__:"_importlib",Loader:Loader,VFSFinder:finder_VFS,StdlibStatic:finder_stdlib_static,ImporterPath:finder_path,VFSPathFinder:vfs_hook,UrlPathFinder:url_hook,optimize_import_for_path:optimize_import_for_path},_importlib_module.__repr__=_importlib_module.__str__=function(){return"<module '_importlib' (built-in)>"},$B.imported._importlib=$B.modules._importlib=_importlib_module}(__BRYTHON__),function($B){function normalize_start_end(a){if(null===a.start||a.start===_b_.None?a.start=0:a.start<0&&(a.start+=a.self.length,a.start=Math.max(0,a.start)),null===a.end||a.end===_b_.None?a.end=a.self.length:a.end<0&&(a.end+=a.self.length,a.end=Math.max(0,a.end)),!isinstance(a.start,_b_.int)||!isinstance(a.end,_b_.int))throw _b_.TypeError("slice indices must be integers or None or have an __index__ method")}function reverse(a){return a.split("").reverse().join("")}function check_str(a){if(!_b_.isinstance(a,str))throw _b_.TypeError("can't convert '"+$B.get_class(a).__name__+"' object to str implicitely")}function preformat(a,b){if(b.empty)return _b_.str(a);if(b.type&&"s"!=b.type)throw _b_.ValueError("Unknown format code '"+b.type+"' for object of type 'str'");return a}function parse_format(a){function b(a){return g.push(a),""}var c,d,e,f=a.split(":"),g=[];1==f.length?c=a:(c=f[0],e=f.splice(1).join(":"));var f=c.split("!");if(f.length>1&&(c=f[0],d=f[1],1!==d.length||"ras".search(d)==-1))throw _b_.ValueError("wrong conversion flag "+d);if(void 0!==c){var h=/\.[_a-zA-Z][_a-zA-Z0-9]*|\[[_a-zA-Z][_a-zA-Z0-9]*\]|\[[0-9]+\]/g;c=c.replace(h,b)}return{name:c,name_ext:g,conv:d,spec:e||""}}function $re_escape(a){for(var b="[.*+?|()$^",c=0,d=b.length;c<d;c++){var e=new RegExp("\\"+b.charAt(c),"g");a=a.replace(e,"\\"+b.charAt(c))}return a}function str(a){if(void 0===a)return"";switch(typeof a){case"string":return a;case"number":return a.toString()}try{if(a.__class__===$B.$factory){var b=$B.$type.__getattribute__(a.$dict.__class__,"__str__");return b.__func__===_b_.object.$dict.__str__?b(a):b()}var c=getattr(a,"__str__");return c()}catch(b){try{var c=getattr(a,"__repr__");return getattr(c,"__call__")()}catch(b){return $B.debug>1&&console.log(b),console.log("Warning - no method __str__ or __repr__, default to toString",a),a.toString()}}}eval($B.InjectBuiltins());var $ObjectDict=object.$dict,$StringDict={__class__:$B.$type,__dir__:$ObjectDict.__dir__,__name__:"str",$native:!0};$StringDict.__add__=function(a,b){if("string"!=typeof b)try{return getattr(b,"__radd__")(a)}catch(a){throw _b_.TypeError("Can't convert "+$B.get_class(b).__name__+" to str implicitely")}return a+b},$StringDict.__contains__=function(a,b){if("string"!=typeof b)throw _b_.TypeError("'in <string>' requires string as left operand, not "+b.__class__);var c=b.length;if(0==c)return!0;if(0==a.length)return 0==c;for(var d=0,e=a.length;d<e;d++)if(a.substr(d,c)==b)return!0;return!1},$StringDict.__delitem__=function(){throw _b_.TypeError("'str' object doesn't support item deletion")},$StringDict.__dir__=$ObjectDict.__dir__,$StringDict.__eq__=function(a,b){return void 0===b?a===str:_b_.isinstance(b,_b_.str)?b.valueOf()==a.valueOf():b===a.valueOf()},$StringDict.__format__=function(a,b){var c=new $B.parse_format_spec(b);return c.align=c.align||"<",$B.format_width(preformat(a,c),c)},$StringDict.__getitem__=function(a,b){if(isinstance(b,_b_.int)){var c=b;if(b<0&&(c+=a.length),c>=0&&c<a.length)return a.charAt(c);throw _b_.IndexError("string index out of range")}if(isinstance(b,slice)){var d=_b_.slice.$dict.$conv_for_seq(b,a.length),e=d.start,f=d.stop,g=d.step,h="",i=null;if(g>0){if(f<=e)return"";for(var i=e;i<f;i+=g)h+=a.charAt(i)}else{if(f>=e)return"";for(var i=e;i>f;i+=g)h+=a.charAt(i)}return h}if(isinstance(b,bool))return a.__getitem__(_b_.int(b));throw _b_.TypeError("string indices must be integers")},$StringDict.__hash__=function(a){if(void 0===a)return $StringDict.__hashvalue__||$B.$py_next_hash--;for(var b=1,c=0,d=a.length;c<d;c++)b=101*b+a.charCodeAt(c)&4294967295;return b},$StringDict.__init__=function(a,b){return a.valueOf=function(){return b},a.toString=function(){return b},_b_.None};var $str_iterator=$B.$iterator_class("str_iterator");$StringDict.__iter__=function(a){var b=a.split("");return $B.$iterator(b,$str_iterator)},$StringDict.__len__=function(a){return a.length};var kwarg_key=new RegExp("([^\\)]*)\\)"),NotANumber=function(){this.name="NotANumber"},number_check=function(a){if(!isinstance(a,[_b_.int,_b_.float]))throw new NotANumber},get_char_array=function(a,b){return a<=0?"":new Array(a+1).join(b)},format_padding=function(a,b,c){var d=b.padding;return d?(a=a.toString(),d=parseInt(d,10),c&&(d-=1),b.left?a+get_char_array(d-a.length,b.pad_char):get_char_array(d-a.length,b.pad_char)+a):a},format_int_precision=function(a,b){var c=b.precision;if(!c)return a.toString();c=parseInt(c,10);var d;d=a.__class__===$B.LongInt.$dict?$B.LongInt.$dict.to_base(a,10):a.toString();d[0];return"-"===d[0]?"-"+get_char_array(c-d.length+1,"0")+d.slice(1):get_char_array(c-d.length,"0")+d},format_float_precision=function(a,b,c,d){var e=c.precision;return isFinite(a)?a=d(a,e,c,b):(a=a===1/0?"inf":a===-(1/0)?"-inf":"nan",b?a.toUpperCase():a)},format_sign=function(a,b){if(b.sign){if(a>=0)return"+"}else if(b.space&&a>=0)return" ";return""},str_format=function(a,b){return b.pad_char=" ",format_padding(str(a),b)},num_format=function(a,b){number_check(a),a=a.__class__===$B.LongInt.$dict?$B.LongInt.$dict.to_base(a,10):parseInt(a);var c=format_int_precision(a,b);if("0"===b.pad_char){if(a<0)return c=c.substring(1),"-"+format_padding(c,b,!0);var d=format_sign(a,b);if(""!==d)return d+format_padding(c,b,!0)}return format_padding(format_sign(a,b)+c,b)},repr_format=function(a,b){return b.pad_char=" ",format_padding(repr(a),b)},ascii_format=function(a,b){return b.pad_char=" ",format_padding(ascii(a),b)},_float_helper=function(a,b){return number_check(a),b.precision?(b.precision=parseInt(b.precision,10),validate_precision(b.precision)):b.decimal_point?b.precision=0:b.precision=6,parseFloat(a)},trailing_zeros=/(.*?)(0+)([eE].*)/,leading_zeros=/\.(0*)/,trailing_dot=/\.$/,validate_precision=function(a){a>20&&(a=20)},floating_point_format=function(a,b,c){a=_float_helper(a,c);var d=a.toString(),e=d.length,f=d.indexOf(".");if(f<0&&(f=e),a<1&&a>-1){var g,h=leading_zeros.exec(d);if(g=h?h[1].length:0,g>=4){if(a=format_sign(a,c)+format_float_precision(a,b,c,_floating_g_exp_helper),c.alternate)c.precision<=1&&(a=a[0]+"."+a.substring(1));else{var i=trailing_zeros.exec(a);i&&(a=i[1].replace(trailing_dot,"")+i[3])}return format_padding(a,c)}return c.precision+=g,format_padding(format_sign(a,c)+format_float_precision(a,b,c,function(a,b){a=a.toFixed(min(b,e-f)+g)}),c)}if(f>c.precision){if(a=format_sign(a,c)+format_float_precision(a,b,c,_floating_g_exp_helper),c.alternate)c.precision<=1&&(a=a[0]+"."+a.substring(1));else{var i=trailing_zeros.exec(a);i&&(a=i[1].replace(trailing_dot,"")+i[3])}return format_padding(a,c)}return format_padding(format_sign(a,c)+format_float_precision(a,b,c,function(a,b){return c.decimal_point?b>e&&(c.alternate||(b=e)):b=min(e-1,6),b<f&&(b=f),a.toFixed(b-f)}),c)},_floating_g_exp_helper=function(a,b,c,d){b&&--b,a=a.toExponential(b);var e=a.lastIndexOf("e");return e>a.length-4&&(a=a.substring(0,e+2)+"0"+a.substring(e+2)),d?a.toUpperCase():a},floating_point_decimal_format=function(a,b,c){return a=_float_helper(a,c),format_padding(format_sign(a,c)+format_float_precision(a,b,c,function(a,b,c){return a=a.toFixed(b),0===b&&c.alternate&&(a+="."),a}),c)},_floating_exp_helper=function(a,b,c,d){a=a.toExponential(b);var e=a.lastIndexOf("e");return e>a.length-4&&(a=a.substring(0,e+2)+"0"+a.substring(e+2)),d?a.toUpperCase():a},floating_point_exponential_format=function(a,b,c){return a=_float_helper(a,c),format_padding(format_sign(a,c)+format_float_precision(a,b,c,_floating_exp_helper),c)},signed_hex_format=function(a,b,c){var d;if(number_check(a),a.__class__===$B.LongInt.$dict?d=$B.LongInt.$dict.to_base(a,16):(d=parseInt(a),d=d.toString(16)),d=format_int_precision(d,c),b&&(d=d.toUpperCase()),"0"===c.pad_char){a<0&&(d=d.substring(1),d="-"+format_padding(d,c,!0));var e=format_sign(a,c);""!==e&&(d=e+format_padding(d,c,!0))}return c.alternate&&(d="-"===d.charAt(0)?b?"-0X"+d.slice(1):"-0x"+d.slice(1):b?"0X"+d:"0x"+d),format_padding(format_sign(a,c)+d,c)},octal_format=function(a,b){number_check(a);var c;if(a.__class__===$B.LongInt.$dict?c=$B.LongInt.$dict.to_base(8):(c=parseInt(a),c=c.toString(8)),c=format_int_precision(c,b),"0"===b.pad_char){a<0&&(c=c.substring(1),c="-"+format_padding(c,b,!0));var d=format_sign(a,b);""!==d&&(c=d+format_padding(c,b,!0))}return b.alternate&&(c="-"===c.charAt(0)?"-0o"+c.slice(1):"0o"+c),format_padding(c,b)},single_char_format=function(a,b){if(isinstance(a,str)&&1==a.length)return a;try{a=_b_.int(a)}catch(a){throw _b_.TypeError("%c requires int or char")}return format_padding(chr(a),b)},num_flag=function(a,b){return"0"!==a||b.padding||b.decimal_point||b.left?void(b.decimal_point?b.precision=(b.precision||"")+a:b.padding=(b.padding||"")+a):void(b.pad_char="0")},decimal_point_flag=function(a,b){if(b.decimal_point)throw new UnsupportedChar;b.decimal_point=!0},neg_flag=function(a,b){b.pad_char=" ",b.left=!0},space_flag=function(a,b){b.space=!0},sign_flag=function(a,b){b.sign=!0},alternate_flag=function(a,b){b.alternate=!0},char_mapping={s:str_format,d:num_format,i:num_format,u:num_format,o:octal_format,r:repr_format,a:ascii_format,g:function(a,b){return floating_point_format(a,!1,b)},G:function(a,b){return floating_point_format(a,!0,b)},f:function(a,b){return floating_point_decimal_format(a,!1,b)},F:function(a,b){return floating_point_decimal_format(a,!0,b)},e:function(a,b){return floating_point_exponential_format(a,!1,b)},E:function(a,b){return floating_point_exponential_format(a,!0,b)},x:function(a,b){return signed_hex_format(a,!1,b)},X:function(a,b){return signed_hex_format(a,!0,b)},c:single_char_format,0:function(a,b){return num_flag("0",b)},1:function(a,b){return num_flag("1",b)},2:function(a,b){return num_flag("2",b)},3:function(a,b){return num_flag("3",b)},4:function(a,b){return num_flag("4",b)},5:function(a,b){return num_flag("5",b)},6:function(a,b){return num_flag("6",b)},7:function(a,b){return num_flag("7",b)},8:function(a,b){return num_flag("8",b)},9:function(a,b){return num_flag("9",b)},"-":neg_flag," ":space_flag,"+":sign_flag,".":decimal_point_flag,"#":alternate_flag},UnsupportedChar=function(){this.name="UnsupportedChar";
};$StringDict.__mod__=function(a,b){var c=a.length,d=0,e=null;b&&_b_.isinstance(b,_b_.tuple)&&(e=0);var f="",g=function(a){++d;var c=kwarg_key.exec(a.substring(j));if(!c)throw _b_.ValueError("incomplete format key");var e=c[1];j+=c[0].length;try{var f=_b_.getattr(b.__class__,"__getitem__")(b,e)}catch(a){if("KeyError"===a.name)throw a;throw _b_.TypeError("format requires a mapping")}return i(a,f)},h=function(a){var c;if(null===e)c=b;else try{c=b[e++]}catch(a){throw"IndexError"===a.name?_b_.TypeError("not enough arguments for format string"):a}return i(a,c)},i=function(a,b){for(var c={pad_char:" "};;){var d=char_mapping[a[j]];try{if(void 0===d)throw new UnsupportedChar;var e=d(b,c);if(void 0!==e)return e;++j}catch(c){if("UnsupportedChar"===c.name){if(invalid_char=a[j],void 0===invalid_char)throw _b_.ValueError("incomplete format");throw _b_.ValueError("unsupported format character '"+invalid_char+"' (0x"+invalid_char.charCodeAt(0).toString(16)+") at index "+j)}if("NotANumber"===c.name){var f=a[j],g=b.__class__;throw g=g?g.__name__:"string"==typeof b?"str":typeof b,_b_.TypeError("%"+f+" format: a number is required, not "+g)}throw c}}};do{var j=a.indexOf("%",d);if(j<0){f+=a.substring(d);break}if(f+=a.substring(d,j),++j,!(j<c))throw _b_.ValueError("incomplete format");if("%"===a[j])f+="%";else{"("===a[j]?(++j,f+=g(a)):f+=h(a)}d=j+1}while(d<c);return f},$StringDict.__mro__=[$StringDict,$ObjectDict],$StringDict.__mul__=function(a,b){$B.args("__mul__",2,{self:null,other:null},["self","other"],arguments,{},null,null);if(!isinstance(b,_b_.int))throw _b_.TypeError("Can't multiply sequence by non-int of type '"+$B.get_class(b).__name__+"'");$res="";for(var c=0;c<b;c++)$res+=a.valueOf();return $res},$StringDict.__ne__=function(a,b){return b!==a.valueOf()},$StringDict.__repr__=function(a){var b=a.replace(/\n/g,"\\\\n");if(b=b.replace(/\\/g,"\\\\"),b.search('"')==-1&&b.search("'")==-1)return"'"+b+"'";if(a.search('"')==-1)return'"'+b+'"';var c=new RegExp("'","g");return b="'"+b.replace(c,"\\'")+"'"},$StringDict.__setattr__=function(a,b,c){return setattr(a,b,c)},$StringDict.__setitem__=function(a,b,c){throw _b_.TypeError("'str' object does not support item assignment")},$StringDict.__str__=function(a){return void 0===a?"<class 'str'>":a.toString()},$StringDict.toString=function(){return"string!"};var $comp_func=function(a,b){if("string"!=typeof b)throw _b_.TypeError("unorderable types: 'str' > "+$B.get_class(b).__name__+"()");return a>b};$comp_func+="";var $comps={">":"gt",">=":"ge","<":"lt","<=":"le"};for(var $op in $comps)eval("$StringDict.__"+$comps[$op]+"__ = "+$comp_func.replace(/>/gm,$op));$B.make_rmethods($StringDict);var $notimplemented=function(a,b){throw NotImplementedError("OPERATOR not implemented for class str")};$StringDict.capitalize=function(a){return 0==a.length?"":a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()},$StringDict.casefold=function(a){throw _b_.NotImplementedError("function casefold not implemented yet")},$StringDict.center=function(a,b,c){var d=$B.args("center",3,{self:null,width:null,fillchar:null},["self","width","fillchar"],arguments,{fillchar:" "},null,null);if(d.width<=a.length)return a;var e=parseInt((d.width-a.length)/2),f=d.fillchar.repeat(e);return f+=a+f,f.length<d.width&&(f+=d.fillchar),f},$StringDict.count=function(){var a=$B.args("count",4,{self:null,sub:null,start:null,stop:null},["self","sub","start","stop"],arguments,{start:null,stop:null},null,null);if("string"!=typeof a.sub)throw _b_.TypeError("Can't convert '"+$B.get_class(a.sub).__name__+"' object to str implicitly");var b=a.self;if(null!==a.start){var c;c=null!==a.stop?_b_.slice(a.start,a.stop):_b_.slice(a.start,a.self.length),b=$StringDict.__getitem__.apply(null,[a.self].concat(c))}else if(a.self.length+a.sub.length==0)return 1;if(0==a.sub.length)return a.start==a.self.length?1:0==b.length?0:b.length+1;for(var d=0,e=0;e<b.length&&(e=b.indexOf(a.sub,e),e>=0);)d++,e+=a.sub.length;return d},$StringDict.encode=function(a,b){if(void 0===b&&(b="utf-8"),"rot13"==b||"rot_13"==b){for(var c="",d=0,e=a.length;d<e;d++){var f=a.charAt(d);c+="a"<=f&&f<="m"||"A"<=f&&f<="M"?String.fromCharCode(String.charCodeAt(f)+13):"m"<f&&f<="z"||"M"<f&&f<="Z"?String.fromCharCode(String.charCodeAt(f)-13):f}return c}return _b_.bytes(a,b)},$StringDict.endswith=function(){var a=$B.args("endswith",4,{self:null,suffix:null,start:null,end:null},["self","suffix","start","end"],arguments,{start:0,end:null},null,null);normalize_start_end(a);var b=a.suffix;isinstance(b,_b_.tuple)||(b=[b]);for(var c=a.self.substring(a.start,a.end),d=0,e=b.length;d<e;d++){if(suffix=b[d],!_b_.isinstance(suffix,str))throw _b_.TypeError("endswith first arg must be str or a tuple of str, not int");if(suffix.length<=c.length&&c.substr(c.length-suffix.length)==suffix)return!0}return!1},$StringDict.expandtabs=function(a,b){var c=$B.args("expandtabs",2,{self:null,tabsize:null},["self","tabsize"],arguments,{tabsize:8},null,null),d=$B.$GetInt(c.tabsize),e=0,f=0,g="";if(1==d)return a.replace(/\t/g," ");for(;f<a.length;){var h=a.charAt(f);switch(h){case"\t":for(;e%d>0;)g+=" ",e++;break;case"\r":case"\n":g+=h,e=0;break;default:g+=h,e++}f++}return g},$StringDict.find=function(){var a=$B.args("$StringDict.find",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:null},null,null);if(check_str(a.sub),normalize_start_end(a),!isinstance(a.start,_b_.int)||!isinstance(a.end,_b_.int))throw _b_.TypeError("slice indices must be integers or None or have an __index__ method");var b=a.self.substring(a.start,a.end);if(0==a.sub.length&&a.start==a.self.length)return a.self.length;if(b.length+a.sub.length==0)return-1;for(var c=b.length-a.sub.length,d=0;d<=c;d++)if(b.substr(d,a.sub.length)==a.sub)return a.start+d;return-1},$StringDict.format=function(a){function b(a,b){return/\d+/.exec(b)?_b_.tuple.$dict.__getitem__(d.args,parseInt(b)):_b_.dict.$dict.__getitem__(d.kw,b)}for(var c,d=$B.args("format",1,{self:null},["self"],arguments,{},"args","kw"),e=0,f=a.length,g="",h=[],i=0;e<f;)if(c=a.charAt(e),"{"==c&&"{"==a.charAt(e+1))g+="{",e+=2;else if("}"==c&&"}"==a.charAt(e+1))g+="}",e+=2;else if("{"==c){h.push(g);for(var j=e+1,k=1;j<f;)if("{"==a.charAt(j))k++,j++;else if("}"==a.charAt(j)){if(k--,j++,0==k){var l=a.substring(e+1,j-1),m=parse_format(l);m.name||(m.name=i+"",i++),void 0!==m.spec&&(m.spec=m.spec.replace(/\{(.+?)\}/g,b)),h.push(m),g="";break}}else j++;if(k>0)throw ValueError("wrong format "+a);e=j}else g+=c,e++;g&&h.push(g);for(var n,o="",p=0;p<h.length;p++)if("string"!=typeof h[p]){if(n=h[p],n.name.charAt(0).search(/\d/)>-1)var e=parseInt(n.name),q=_b_.tuple.$dict.__getitem__(d.args,e);else var q=_b_.dict.$dict.__getitem__(d.kw,n.name);for(var r=0;r<n.name_ext.length;r++){var s=n.name_ext[r];if("."==s.charAt(0))q=_b_.getattr(q,s.substr(1));else{var t=s.substr(1,s.length-2);t.charAt(0).search(/\d/)>-1&&(t=parseInt(t)),q=_b_.getattr(q,"__getitem__")(t)}}"a"==n.conv?q=_b_.ascii(q):"r"==n.conv?q=_b_.repr(q):"s"==n.conv&&(q=_b_.str(q)),o+=_b_.getattr(q,"__format__")(n.spec)}else o+=h[p];return o},$StringDict.format_map=function(a){throw NotImplementedError("function format_map not implemented yet")},$StringDict.index=function(a){var b=$StringDict.find.apply(null,arguments);if(b===-1)throw _b_.ValueError("substring not found");return b},$StringDict.isalnum=function(){var a=$B.args("isalnum",1,{self:null},["self"],arguments,{},null,null);return/^[a-z0-9]+$/i.test(a.self)},$StringDict.isalpha=function(a){var b=$B.args("isalpha",1,{self:null},["self"],arguments,{},null,null);return/^[a-z]+$/i.test(b.self)},$StringDict.isdecimal=function(){var a=$B.args("isdecimal",1,{self:null},["self"],arguments,{},null,null);return/^[0-9]+$/.test(a.self)},$StringDict.isdigit=function(){var a=$B.args("isdigit",1,{self:null},["self"],arguments,{},null,null);return/^[0-9]+$/.test(a.self)},$StringDict.isidentifier=function(){var a=$B.args("isidentifier",1,{self:null},["self"],arguments,{},null,null);switch(a.self){case"False":case"None":case"True":case"and":case"as":case"assert":case"break":case"class":case"continue":case"def":case"del":case"elif":case"else":case"except":case"finally":case"for":case"from":case"global":case"if":case"import":case"in":case"is":case"lambda":case"nonlocal":case"not":case"or":case"pass":case"raise":case"return":case"try":case"while":case"with":case"yield":return!0}return/^[a-z][0-9a-z_]+$/i.test(a.self)},$StringDict.islower=function(){var a=$B.args("islower",1,{self:null},["self"],arguments,{},null,null);return a.self==a.self.toLowerCase()&&a.self.search(/^\s*$/)==-1},$StringDict.isnumeric=function(){var a=$B.args("isnumeric",1,{self:null},["self"],arguments,{},null,null);return/^[0-9]+$/.test(a.self)},$StringDict.isprintable=function(){var a=$B.args("isprintable",1,{self:null},["self"],arguments,{},null,null);return!/[^ -~]/.test(a.self)},$StringDict.isspace=function(){var a=$B.args("isspace",1,{self:null},["self"],arguments,{},null,null);return/^\s+$/i.test(a.self)},$StringDict.istitle=function(){function a(a){return a.toLowerCase()!=a.toUpperCase()&&(a==a.toLowerCase()?"lower":"upper")}var b=$B.args("istitle",1,{self:null},["self"],arguments,{},null,null);if(b.self.search(/^\s*$/)>-1)return!1;for(var c,d=0,e=!1;d<b.self.length;){if(c=b.self.charAt(d),void 0===e)e=a(c);else{if(_case=a(c),"upper"==_case&&e)return!1;if("lower"==_case&&!e)return!1;e=_case}d++}return!0},$StringDict.isupper=function(){var a=$B.args("isupper",1,{self:null},["self"],arguments,{},null,null);return a.self==a.self.toUpperCase()&&a.self.search(/^\s*$/)==-1},$StringDict.join=function(){for(var a=$B.args("join",2,{self:null,iterable:null},["self","iterable"],arguments,{},null,null),b=_b_.iter(a.iterable),c=[],d=0;;)try{var e=_b_.next(b);if(!isinstance(e,str))throw _b_.TypeError("sequence item "+d+": expected str instance, "+$B.get_class(e).__name__+" found");c.push(e)}catch(a){if(_b_.isinstance(a,_b_.StopIteration))break;throw a}return c.join(a.self)},$StringDict.ljust=function(a){var b=$B.args("ljust",3,{self:null,width:null,fillchar:null},["self","width","fillchar"],arguments,{fillchar:" "},null,null);return b.width<=a.length?a:a+b.fillchar.repeat(b.width-a.length)},$StringDict.lower=function(){var a=$B.args("lower",1,{self:null},["self"],arguments,{},null,null);return a.self.toLowerCase()},$StringDict.lstrip=function(a,b){var c=$B.args("lstrip",2,{self:null,chars:null},["self","chars"],arguments,{chars:_b_.None},null,null);return c.chars===_b_.None?c.self.replace(/^\s+/,""):c.self.replace(new RegExp("^["+c.chars+"]*"),"")},$StringDict.maketrans=function(a,b){for(var c=[],d=0;d<256;d++)c[d]=String.fromCharCode(d);for(var d=0,e=a.source.length;d<e;d++){var f=a.source[d].charCodeAt(0);c[f]=b.source[d]}for(var g=dict(),d=0;d<256;d++)_b_.dict.$dict.__setitem__(g,d,c[d]);return g},$StringDict.partition=function(){var a=$B.args("partition",2,{self:null,sep:null},["self","sep"],arguments,{},null,null);if(""==a.sep)throw _b_.ValueError("empty separator");check_str(a.sep);var b=a.self.indexOf(a.sep);return b==-1?_b_.tuple([a.self,"",""]):_b_.tuple([a.self.substring(0,b),a.sep,a.self.substring(b+a.sep.length)])},$StringDict.replace=function(a,b,c,d){var e=$B.args("replace",4,{self:null,old:null,$$new:null,count:null},["self","old","$$new","count"],arguments,{count:-1},null,null),d=e.count,a=e.self,b=e.old,c=e.$$new;if(check_str(b),check_str(c),!isinstance(d,[_b_.int,_b_.float]))throw _b_.TypeError("'"+$B.get_class(d).__name__+"' object cannot be interpreted as an integer");if(isinstance(d,_b_.float))throw _b_.TypeError("integer argument expected, got float");if(0==d)return a;if(d.__class__==$B.LongInt.$dict&&(d=parseInt(d.value)),""==b){if(""==c)return a;if(""==a)return c;var f=a.split("");if(d>-1&&f.length>=d){var g=f.slice(d).join("");return c+f.slice(0,d).join(c)+g}return c+f.join(c)+c}var f=$StringDict.split(a,b,d),h=a,i=-1;if(0==b.length){for(var h=c,j=0;j<f.length;j++)h+=f[j]+c;return h+g}for(d<0&&(d=h.length);d>0&&(i=h.indexOf(b,i),!(i<0));)h=h.substr(0,i)+c+h.substr(i+b.length),i+=c.length,d--;return h},$StringDict.rfind=function(a){var b=$B.args("rfind",4,{self:null,sub:null,start:null,end:null},["self","sub","start","end"],arguments,{start:0,end:null},null,null);if(normalize_start_end(b),check_str(b.sub),0==b.sub.length)return b.start>b.self.length?-1:b.self.length;for(var c=b.sub.length,d=b.end-c;d>=b.start;d--)if(b.self.substr(d,c)==b.sub)return d;return-1},$StringDict.rindex=function(){var a=$StringDict.rfind.apply(null,arguments);if(a==-1)throw _b_.ValueError("substring not found");return a},$StringDict.rjust=function(a){var b=$B.args("rjust",3,{self:null,width:null,fillchar:null},["self","width","fillchar"],arguments,{fillchar:" "},null,null);return b.width<=a.length?a:b.fillchar.repeat(b.width-a.length)+a},$StringDict.rpartition=function(a,b){var c=$B.args("rpartition",2,{self:null,sep:null},["self","sep"],arguments,{},null,null);check_str(c.sep);for(var a=reverse(c.self),b=reverse(c.sep),d=$StringDict.partition(a,b).reverse(),e=0;e<d.length;e++)d[e]=d[e].split("").reverse().join("");return d},$StringDict.rsplit=function(a){var b=$B.args("rsplit",3,{self:null,sep:null,maxsplit:null},["self","sep","maxsplit"],arguments,{sep:_b_.None,maxsplit:-1},null,null),c=b.sep,d=(b.maxsplit,b.self,reverse(b.self)),e=c===_b_.None?c:reverse(b.sep),f=$StringDict.split(d,e,b.maxsplit);f.reverse();for(var g=0;g<f.length;g++)f[g]=reverse(f[g]);return f},$StringDict.rstrip=function(a,b){var c=$B.args("rstrip",2,{self:null,chars:null},["self","chars"],arguments,{chars:_b_.None},null,null);return c.chars===_b_.None?c.self.replace(/\s+$/,""):c.self.replace(new RegExp("["+c.chars+"]*$"),"")},$StringDict.split=function(){var a=0,b=$B.args("split",3,{self:null,sep:null,maxsplit:null},["self","sep","maxsplit"],arguments,{sep:_b_.None,maxsplit:-1},null,null),c=b.sep,d=b.maxsplit,e=b.self;if(d.__class__===$B.LongInt.$dict&&(d=parseInt(d.value)),""==c)throw _b_.ValueError("empty separator");if(c===_b_.None){for(var f=[],a=0;a<e.length&&e.charAt(a).search(/\s/)>-1;)a++;if(a===e.length-1)return[e];for(var g="";;){if(e.charAt(a).search(/\s/)===-1)""===g?g=e.charAt(a):g+=e.charAt(a);else if(""!==g){if(f.push(g),d!==-1&&f.length===d+1)return f.pop(),f.push(g+e.substr(a)),f;g=""}if(a++,a>e.length-1){g&&f.push(g);break}}return f}var f=[],h="",a=0,i=c.length;if(0==d)return[e];for(;a<e.length;)if(e.substr(a,i)==c){if(f.push(h),a+=i,d>-1&&f.length>=d)return f.push(e.substr(a)),f;h=""}else h+=e.charAt(a),a++;return f.push(h),f},$StringDict.splitlines=function(a){var b=$B.args("splitlines",2,{self:null,keepends:null},["self","keepends"],arguments,{keepends:!1},null,null);if(!_b_.isinstance(b.keepends,[_b_.bool,_b_.int]))throw _b_.TypeError("integer argument expected, got "+$B.get_class(b.keepends).__name);var c=_b_.int(b.keepends);if(c){for(var d=[],e=f,f=0,a=b.self;f<a.length;)"\r\n"==a.substr(f,2)?(d.push(a.substring(e,f+2)),e=f+2,f=e):"\r"==a.charAt(f)||"\n"==a.charAt(f)?(d.push(a.substring(e,f+1)),e=f+1,f=e):f++;var g=a.substr(e);return g&&d.push(g),d}var a=b.self.replace(/[\r\n]$/,"");return a.split(/\n|\r\n|\r/)},$StringDict.startswith=function(){var a=$B.args("startswith",4,{self:null,prefix:null,start:null,end:null},["self","prefix","start","end"],arguments,{start:0,end:null},null,null);normalize_start_end(a);var b=a.prefix;isinstance(b,_b_.tuple)||(b=[b]);for(var c=a.self.substring(a.start,a.end),d=0,e=b.length;d<e;d++){if(prefix=b[d],!_b_.isinstance(prefix,str))throw _b_.TypeError("endswith first arg must be str or a tuple of str, not int");if(c.substr(0,prefix.length)==prefix)return!0}return!1},$StringDict.strip=function(){var a=$B.args("strip",2,{self:null,chars:null},["self","chars"],arguments,{chars:_b_.None},null,null);return $StringDict.rstrip($StringDict.lstrip(a.self,a.chars),a.chars)},$StringDict.swapcase=function(a){var b=$B.args("swapcase",1,{self:null},["self"],arguments,{},null,null);return b.self.replace(/([a-z])|([A-Z])/g,function(a,b,c){return b?a.toUpperCase():a.toLowerCase()})},$StringDict.title=function(a){function b(a){return a.toLowerCase()!=a.toUpperCase()}for(var c=$B.args("title",1,{self:null},["self"],arguments,{},null,null),d="",e=!1,f=0;f<c.self.length;f++){var g=c.self.charAt(f),h=b(g);d+=!e&&h?g.toUpperCase():e?g.toLowerCase():g,e=h}return d},$StringDict.translate=function(a,b){var c=[],d=0;if(isinstance(b,_b_.dict))for(var e=0,f=a.length;e<f;e++){var g=_b_.dict.$dict.get(b,a.charCodeAt(e),-1);g==-1?c[d++]=a.charAt(e):g!==None&&(c[d++]=g)}return c.join("")},$StringDict.upper=function(){var a=$B.args("lower",1,{self:null},["self"],arguments,{},null,null);return a.self.toUpperCase()},$StringDict.zfill=function(a,b){var c=$B.args("zfill",2,{self:null,width:null},["self","width"],arguments,{},null,null);if(c.width<=a.length)return a;switch(a.charAt(0)){case"+":case"-":return a.charAt(0)+"0".repeat(c.width-a.length)+a.substr(1);default:return"0".repeat(b-a.length)+a}},str.__class__=$B.$factory,str.$dict=$StringDict,$StringDict.$factory=str,$StringDict.__new__=function(a){if(void 0===a)throw _b_.TypeError("str.__new__(): not enough arguments");return{__class__:a.$dict}},$B.set_func_names($StringDict);var $StringSubclassDict={__class__:$B.$type,__name__:"str"};for(var $attr in $StringDict)"function"==typeof $StringDict[$attr]&&($StringSubclassDict[$attr]=function(a){return function(){var b=[],c=0;if(arguments.length>0)for(var b=[arguments[0].valueOf()],c=1,d=1,e=arguments.length;d<e;d++)b[c++]=arguments[d];return $StringDict[a].apply(null,b)}}($attr));$StringSubclassDict.__mro__=[$StringSubclassDict,$ObjectDict],$B.$StringSubclassFactory={__class__:$B.$factory,$dict:$StringSubclassDict},_b_.str=str,$B.parse_format_spec=function(a){if(""==a)this.empty=!0;else{var b=0,c="<>=^",d="0123456789",e="bcdeEfFgGnosxX%",f=c.indexOf(a.charAt(0));f!=-1?a.charAt(1)&&c.indexOf(a.charAt(1))!=-1?(this.fill=a.charAt(0),this.align=a.charAt(1),b=2):(this.align=c[f],this.fill=" ",b++):(f=c.indexOf(a.charAt(1)),a.charAt(1)&&f!=-1&&(this.align=c[f],this.fill=a.charAt(0),b=2));var g=a.charAt(b);for("+"!=g&&"-"!=g&&" "!=g||(this.sign=g,b++,g=a.charAt(b)),"#"==g&&(this.alternate=!0,b++,g=a.charAt(b)),"0"==g&&(this.fill="0",this.align="=",b++,g=a.charAt(b));g&&d.indexOf(g)>-1;)void 0===this.width?this.width=g:this.width+=g,b++,g=a.charAt(b);if(void 0!==this.width&&(this.width=parseInt(this.width)),","==g&&(this.comma=!0,b++,g=a.charAt(b)),"."==g){if(d.indexOf(a.charAt(b+1))==-1)throw _b_.ValueError("Missing precision in format spec");for(this.precision=a.charAt(b+1),b+=2,g=a.charAt(b);g&&d.indexOf(g)>-1;)this.precision+=g,b++,g=a.charAt(b);this.precision=parseInt(this.precision)}if(g&&e.indexOf(g)>-1&&(this.type=g,b++,g=a.charAt(b)),b!==a.length)throw _b_.ValueError("Invalid format specifier")}this.toString=function(){return(void 0===this.fill?"":_b_.str(this.fill))+(this.align||"")+(this.sign||"")+(this.alternate?"#":"")+(this.sign_aware?"0":"")+(this.width||"")+(this.comma?",":"")+(this.precision?"."+this.precision:"")+(this.type||"")}},$B.format_width=function(a,b){if(b.width&&a.length<b.width){var c=b.fill||" ",d=b.align||"<",e=b.width-a.length;switch(d){case"<":return a+c.repeat(e);case">":return c.repeat(e)+a;case"=":return"+-".indexOf(a.charAt(0))>-1?a.charAt(0)+c.repeat(e)+a.substr(1):c.repeat(e)+a;case"^":return left=parseInt(e/2),c.repeat(left)+a+c.repeat(e-left)}}return a}}(__BRYTHON__),function($B){function $err(a,b){var c="unsupported operand type(s) for "+a;throw c+=": 'int' and '"+$B.get_class(b).__name__+"'",_b_.TypeError(c)}function preformat(a,b){if(b.empty)return _b_.str(a);if(b.type&&"bcdoxXn".indexOf(b.type)==-1)throw _b_.ValueError("Unknown format code '"+b.type+"' for object of type 'int'");switch(b.type){case void 0:case"d":return a.toString();case"b":return(b.alternate?"0b":"")+a.toString(2);case"c":return _b_.chr(a);case"o":return(b.alternate?"0o":"")+a.toString(8);case"x":return(b.alternate?"0x":"")+a.toString(16);case"X":return(b.alternate?"0X":"")+a.toString(16).toUpperCase();case"n":return a}return res}eval($B.InjectBuiltins());var $ObjectDict=_b_.object.$dict,$N=_b_.None,$IntDict={__class__:$B.$type,__name__:"int",__dir__:$ObjectDict.__dir__,toString:function(){return"$IntDict"},$native:!0};$IntDict.from_bytes=function(){var a,b,c=$B.args("from_bytes",3,{bytes:null,byteorder:null,signed:null},["bytes","byteorder","signed"],arguments,{signed:False},null,null),d=c.bytes,e=c.byteorder,f=c.signed;switch(isinstance(d,[_b_.list,_b_.tuple])?(a=d,b=len(d)):isinstance(d,[_b_.bytes,_b_.bytearray])?(a=d.source,b=d.source.length):_b_.TypeError("Error! "+_b_.type(d)+" is not supported in int.from_bytes. fix me!"),e){case"big":for(var g=a[b-1],h=256,i=b-2;i>=0;i--)g=$B.add($B.mul(h,a[i]),g),h=$B.mul(h,256);return f?a[0]<128?g:$B.sub(g,h):g;case"little":var g=a[0];g>=128&&(g-=256);for(var h=256,i=1;i<b;i++)g=$B.add($B.mul(h,a[i]),g),h=$B.mul(h,256);return f?a[b-1]<128?g:$B.sub(g,h):g}throw _b_.ValueError("byteorder must be either 'little' or 'big'")},$IntDict.to_bytes=function(a,b,c){throw _b_.NotImplementedError("int.to_bytes is not implemented yet")},$IntDict.__abs__=function(a){return abs(a)},$IntDict.__bool__=function(a){return new Boolean(a.valueOf())},$IntDict.__ceil__=function(a){return Math.ceil(a)},$IntDict.__class__=$B.$type,$IntDict.__divmod__=function(a,b){return divmod(a,b)},$IntDict.__eq__=function(a,b){return void 0===b?a===int:isinstance(b,int)?a.valueOf()==b.valueOf():isinstance(b,_b_.float)?a.valueOf()==b.valueOf():isinstance(b,_b_.complex)?0!=b.imag?False:a.valueOf()==b.real:hasattr(b,"__eq__")?getattr(b,"__eq__")(a):a.valueOf()===b},$IntDict.__format__=function(a,b){var c=new $B.parse_format_spec(b);if(c.type&&"eEfFgG%".indexOf(c.type)!=-1)return _b_.float.$dict.__format__(a,b);c.align=c.align||">";var d=preformat(a,c);if(c.comma){for(var e=d.length,f=Math.ceil(d.length/3),g=[],h=0;h<f;h++)g.push(d.substring(e-3*h-3,e-3*h));g.reverse(),d=g.join(",")}return $B.format_width(d,c)},$IntDict.__floordiv__=function(a,b){if(isinstance(b,int)){if(0==b)throw ZeroDivisionError("division by zero");return Math.floor(a/b)}if(isinstance(b,_b_.float)){if(!b.valueOf())throw ZeroDivisionError("division by zero");return Math.floor(a/b)}return hasattr(b,"__rfloordiv__")?getattr(b,"__rfloordiv__")(a):void $err("//",b)},$IntDict.__hash__=function(a){return void 0===a?$IntDict.__hashvalue__||$B.$py_next_hash--:a.valueOf()},$IntDict.__index__=function(a){return a},$IntDict.__init__=function(a,b){return void 0===b&&(b=0),a.toString=function(){return b},$N},$IntDict.__int__=function(a){return a},$IntDict.__invert__=function(a){return~a},$IntDict.__lshift__=function(a,b){if(isinstance(b,int))return int($B.LongInt.$dict.__lshift__($B.LongInt(a),$B.LongInt(b)));var c=getattr(b,"__rlshift__",null);return null!==c?c(a):void $err("<<",b)},$IntDict.__mod__=function(a,b){if(isinstance(b,_b_.tuple)&&1==b.length&&(b=b[0]),isinstance(b,[int,_b_.float,bool])){if(b===!1?b=0:b===!0&&(b=1),0==b)throw _b_.ZeroDivisionError("integer division or modulo by zero");return(a%b+b)%b}return hasattr(b,"__rmod__")?getattr(b,"__rmod__")(a):void $err("%",b)},$IntDict.__mro__=[$IntDict,$ObjectDict],$IntDict.__mul__=function(a,b){var c=a.valueOf();if("string"==typeof b)return b.repeat(c);if(isinstance(b,int)){var d=a*b;return d>$B.min_int&&d<$B.max_int?d:int($B.LongInt.$dict.__mul__($B.LongInt(a),$B.LongInt(b)))}if(isinstance(b,_b_.float))return new Number(a*b);if(isinstance(b,_b_.bool))return b.valueOf()?a:int(0);if(isinstance(b,_b_.complex))return _b_.complex($IntDict.__mul__(a,b.real),$IntDict.__mul__(a,b.imag));if(isinstance(b,[_b_.list,_b_.tuple])){for(var d=[],e=b.slice(0,b.length),f=0;f<c;f++)d=d.concat(e);return isinstance(b,_b_.tuple)&&(d=_b_.tuple(d)),d}return hasattr(b,"__rmul__")?getattr(b,"__rmul__")(a):void $err("*",b)},$IntDict.__name__="int",$IntDict.__neg__=function(a){return-a},$IntDict.__new__=function(a){if(void 0===a)throw _b_.TypeError("int.__new__(): not enough arguments");return{__class__:a.$dict}},$IntDict.__pos__=function(a){return a},$IntDict.__pow__=function(a,b){if(isinstance(b,int)){switch(b.valueOf()){case 0:return int(1);case 1:return int(a.valueOf())}var c=Math.pow(a.valueOf(),b.valueOf());return c>$B.min_int&&c<$B.max_int?c:int($B.LongInt.$dict.__pow__($B.LongInt(a),$B.LongInt(b)))}return isinstance(b,_b_.float)?new Number(Math.pow(a.valueOf(),b.valueOf())):hasattr(b,"__rpow__")?getattr(b,"__rpow__")(a):void $err("**",b)},$IntDict.__repr__=function(a){return a===int?"<class 'int'>":a.toString()},$IntDict.__rshift__=function(a,b){if(isinstance(b,int))return int($B.LongInt.$dict.__rshift__($B.LongInt(a),$B.LongInt(b)));var c=getattr(b,"__rrshift__",null);return null!==c?c(a):void $err(">>",b)},$IntDict.__setattr__=function(a,b,c){if("number"==typeof a)throw void 0===$IntDict[b]?_b_.AttributeError("'int' object has no attribute '"+b+"'"):_b_.AttributeError("'int' object attribute '"+b+"' is read-only");return a[b]=c,$N},$IntDict.__str__=$IntDict.__repr__,$IntDict.__truediv__=function(a,b){if(isinstance(b,int)){if(0==b)throw ZeroDivisionError("division by zero");return b.__class__==$B.LongInt.$dict?new Number(a/parseInt(b.value)):new Number(a/b)}if(isinstance(b,_b_.float)){if(!b.valueOf())throw ZeroDivisionError("division by zero");return new Number(a/b)}if(isinstance(b,_b_.complex)){var c=b.real*b.real+b.imag*b.imag;if(0==c)throw ZeroDivisionError("division by zero");return _b_.complex(a*b.real/c,-a*b.imag/c)}return hasattr(b,"__rtruediv__")?getattr(b,"__rtruediv__")(a):void $err("/",b)},$IntDict.bit_length=function(a){return s=bin(a),s=getattr(s,"lstrip")("-0b"),s.length},$IntDict.numerator=function(a){return a},$IntDict.denominator=function(a){return int(1)},$B.max_int32=2147483647,$B.min_int32=-$B.max_int32;var $op_func=function(a,b){return isinstance(b,int)?b.__class__===$B.LongInt.$dict?$B.LongInt.$dict.__sub__($B.LongInt(a),$B.LongInt(b)):a>$B.max_int32||a<$B.min_int32||b>$B.max_int32||b<$B.min_int32?$B.LongInt.$dict.__sub__($B.LongInt(a),$B.LongInt(b)):a-b:isinstance(b,_b_.bool)?a-b:hasattr(b,"__rsub__")?getattr(b,"__rsub__")(a):void $err("-",b)};$op_func+="";var $ops={"&":"and","|":"or","^":"xor"};for(var $op in $ops){var opf=$op_func.replace(/-/gm,$op);opf=opf.replace(new RegExp("sub","gm"),$ops[$op]),eval("$IntDict.__"+$ops[$op]+"__ = "+opf)}var $op_func=function(a,b){if(isinstance(b,int)){if("number"==typeof b){var c=a.valueOf()-b.valueOf();return c>=$B.min_int&&c<=$B.max_int?c:$B.LongInt.$dict.__sub__($B.LongInt(a),$B.LongInt(b))}return $B.LongInt.$dict.__sub__($B.LongInt(a),$B.LongInt(b))}if(isinstance(b,_b_.float))return new Number(a-b);if(isinstance(b,_b_.complex))return _b_.complex(a-b.real,-b.imag);if(isinstance(b,_b_.bool)){var d=0;return b.valueOf()&&(d=1),a-d}if(isinstance(b,_b_.complex))return _b_.complex(a.valueOf()-b.real,b.imag);if(hasattr(b,"__rsub__"))return getattr(b,"__rsub__")(a);throw $err("-",b)};$op_func+="";var $ops={"+":"add","-":"sub"};for(var $op in $ops){var opf=$op_func.replace(/-/gm,$op);opf=opf.replace(new RegExp("sub","gm"),$ops[$op]),eval("$IntDict.__"+$ops[$op]+"__ = "+opf)}var $comp_func=function(a,b){if(b.__class__===$B.LongInt.$dict)return $B.LongInt.$dict.__gt__($B.LongInt(a),b);if(isinstance(b,int))return a.valueOf()>b.valueOf();if(isinstance(b,_b_.float))return a.valueOf()>b.valueOf();if(isinstance(b,_b_.bool))return a.valueOf()>_b_.bool.$dict.__hash__(b);if(hasattr(b,"__int__")||hasattr(b,"__index__"))return $IntDict.__gt__(a,$B.$GetInt(b));throw _b_.TypeError("unorderable types: int() > "+$B.get_class(b).__name__+"()")};$comp_func+="";for(var $op in $B.$comps)eval("$IntDict.__"+$B.$comps[$op]+"__ = "+$comp_func.replace(/>/gm,$op).replace(/__gt__/gm,"__"+$B.$comps[$op]+"__"));$B.make_rmethods($IntDict);var $valid_digits=function(a){var b="";if(0===a)return"0";if(a<10){for(var c=0;c<a;c++)b+=String.fromCharCode(c+48);return b}for(var b="0123456789",c=10;c<a;c++)b+=String.fromCharCode(c+55);return b},int=function(a,b){if(void 0===a)return 0;if("number"==typeof a&&(void 0===b||10==b))return parseInt(a);if(void 0!==b&&!isinstance(a,[_b_.str,_b_.bytes,_b_.bytearray]))throw TypeError("int() can't convert non-string with explicit base");if(isinstance(a,_b_.complex))throw TypeError("can't convert complex to int");var c=$B.args("int",2,{x:null,base:null},["x","base"],arguments,{base:10},"null","null"),a=c.x,b=c.base;if(isinstance(a,_b_.float)&&10===b)return a<$B.min_int||a>$B.max_int?$B.LongInt.$dict.$from_float(a):a>0?Math.floor(a):Math.ceil(a);if(!(b>=2&&b<=36)&&0!=b)throw _b_.ValueError("invalid base");if("number"==typeof a){if(10==b)return a<$B.min_int||a>$B.max_int?$B.LongInt(a):a;if(a.toString().search("e")>-1)throw _b_.OverflowError("can't convert to base "+b);var d=parseInt(a,b);return d<$B.min_int||d>$B.max_int?$B.LongInt(a,b):d}if(a===!0)return Number(1);if(a===!1)return Number(0);if(a.__class__===$B.LongInt.$dict){var e=parseInt(a.value);return e>$B.min_int&&e<$B.max_int?e:a}if(b=$B.$GetInt(b),isinstance(a,_b_.str)&&(a=a.valueOf()),"string"==typeof a){var f=a.trim();if(2==f.length&&0==b&&("0b"==f||"0o"==f||"0x"==f))throw _b_.ValueError("invalid value");if(f.length>2){var g=f.substr(0,2).toUpperCase();0==b&&("0B"==g&&(b=2),"0O"==g&&(b=8),"0X"==g&&(b=16)),"0B"!=g&&"0O"!=g&&"0X"!=g||(f=f.substr(2))}var h=$valid_digits(b),i=new RegExp("^[+-]?["+h+"]+$","i");if(!i.test(f))throw _b_.ValueError("invalid literal for int() with base "+b+": '"+_b_.str(a)+"'");if(b<=10&&!isFinite(a))throw _b_.ValueError("invalid literal for int() with base "+b+": '"+_b_.str(a)+"'");var d=parseInt(f,b);return d<$B.min_int||d>$B.max_int?$B.LongInt(f,b):d}if(isinstance(a,[_b_.bytes,_b_.bytearray])){for(var h=$valid_digits(b),j=0;j<a.source.length;j++)if(h.indexOf(String.fromCharCode(a.source[j]))==-1)throw _b_.ValueError("invalid literal for int() with base "+b+": "+_b_.repr(a));return Number(parseInt(getattr(a,"decode")("latin-1"),b))}if(hasattr(a,"__int__"))return getattr(a,"__int__")();if(hasattr(a,"__index__"))return getattr(a,"__index__")();if(hasattr(a,"__trunc__")){var d=getattr(a,"__trunc__")(),k=_b_.getattr(d,"__int__",null);if(null===k)throw TypeError("__trunc__ returned non-Integral (type "+$B.get_class(d).__name__+")");var d=k();if(isinstance(d,int))return d;throw TypeError("__trunc__ returned non-Integral (type "+$B.get_class(d).__name__+")")}throw _b_.ValueError("invalid literal for int() with base "+b+": '"+_b_.str(a)+"'")};int.$dict=$IntDict,int.__class__=$B.$factory,$IntDict.$factory=int,_b_.int=int}(__BRYTHON__),function($B){function add_pos(a,b){for(var c,d="",e=0,f=a.length,g=0,h=b.length-1;h>=0;h--)f--,g=f<0?0:parseInt(a.charAt(f)),c=(e+g+parseInt(b.charAt(h))).toString(),2==c.length?(d=c.charAt(1)+d,e=parseInt(c.charAt(0))):(d=c+d,e=0);for(;f>0;)f--,c=(e+parseInt(a.charAt(f))).toString(),2==c.length?(d=c.charAt(1)+d,e=parseInt(c.charAt(0))):(d=c+d,e=0);return e&&(d=e+d),{__class__:$LongIntDict,value:d,pos:!0}}function check_shift(a){if(!isinstance(a,LongInt))throw TypeError("shift must be int, not '"+$B.get_class(a).__name__+"'");if(!a.pos)throw ValueError("negative shift count")}function clone(a){var b={};for(var c in a)b[c]=a[c];return b}function comp_pos(a,b){return a.length>b.length?1:a.length<b.length?-1:a>b?1:a<b?-1:0}function divmod_pos(a,b){var c,d;if(comp_pos(a,b)==-1)c="0",d=LongInt(a);else if(b==a)c="1",d=LongInt("0");else{var c="",e=a.substr(0,b.length);a<b&&(e=a.substr(0,b.length+1));for(var f=a.substr(e.length),g={};;){var h=Math.floor(parseInt(e)/parseInt(b))+"";if(void 0===g[h]&&(g[h]=mul_pos(b,h).value),comp_pos(e,g[h])==-1&&(h--,void 0===g[h]&&(g[h]=mul_pos(b,h).value)),c+=h,e=sub_pos(e,g[h]).value,0==f.length)break;e+=f.charAt(0),f=f.substr(1)}d=sub_pos(a,mul_pos(c,b).value)}return[LongInt(c),d]}function split_chunks(a,b){for(var c=Math.ceil(a.length/b),d=[],e=a.length,f=0;f<c;f++){var g=e-b*(f+1);g<0&&(b+=g,g=0),d.push(parseInt(a.substr(g,b)))}return d}function mul_pos(a,b){for(var c=6,d=split_chunks(a,c),e=split_chunks(b,c),f={},g=d.length+e.length,h=0;h<g-1;h++)f[h]=0;for(var h=0;h<d.length;h++)for(var i=0;i<e.length;i++)f[h+i]+=d[h]*e[i];
for(var j,k=g-1,h=0;h<g-1;h++){for(var l=split_chunks(f[h].toString(),c),i=1;i<l.length;i++)j=h+i,void 0===f[j]?(f[j]=parseInt(l[i]),k=j):f[j]+=parseInt(l[i]);f[h]=l[0]}for(var m,n="",h=0;void 0!==f[h];)m=f[h].toString(),void 0!==f[h+1]&&(m="0".repeat(c-m.length)+m),n=m+n,h++;return LongInt(n)}function sub_pos(a,b){for(var c,d="",e=0,f=a.length,g=0,h=b.length-1;h>=0;h--)f--,g=parseInt(a.charAt(f)),c=g-e-parseInt(b.charAt(h)),c<0?(d=10+c+d,e=1):(d=c+d,e=0);for(;f>0;)f--,c=parseInt(a.charAt(f))-e,c<0?(d=10+c+d,e=1):(d=c+d,e=0);for(;"0"==d.charAt(0)&&d.length>1;)d=d.substr(1);return{__class__:$LongIntDict,value:d,pos:!0}}function digits(a){for(var b={},c=0;c<a&&10!=c;c++)b[c]=!0;if(a>10)for(var c=0;c<a-10;c++)b[String.fromCharCode(65+c)]=!0,b[String.fromCharCode(97+c)]=!0;return b}function isSafeInteger(a){return"number"==typeof a&&Math.round(a)===a&&MIN_SAFE_INTEGER<=a&&a<=MAX_SAFE_INTEGER}function intOrLong(a){var b=parseInt(a.value)*(a.pos?1:-1);return b>MIN_SAFE_INTEGER&&b<MAX_SAFE_INTEGER?b:a}function LongInt(a,b){if(arguments.length>2)throw _b_.TypeError("LongInt takes at most 2 arguments ("+arguments.length+" given)");if(void 0===b)b=10;else if(!isinstance(b,int))throw TypeError("'"+$B.get_class(b).__name__+"' object cannot be interpreted as an integer");if(b<0||1==b||b>36)throw ValueError("LongInt() base must be >= 2 and <= 36");if(isinstance(a,_b_.float))console.log("arg is float",a),a=a>=0?new Number(Math.round(a.value)):new Number(Math.ceil(a.value));else if(isinstance(a,_b_.bool))return a.valueOf()?int(1):int(0);if("number"==typeof a)if(isSafeInteger(a))a=a.toString();else{if(a.constructor!=Number)throw console.log("wrong value",a),ValueError("argument of long_int is not a safe integer");console.log("big number",a),a=a.toString()}else{if(a.__class__===$LongIntDict)return a;if(isinstance(a,_b_.bool))a=_b_.bool.$dict.__int__(a)+"";else if("string"!=typeof a)throw ValueError("argument of long_int must be a string, not "+$B.get_class(a).__name__)}for(var c=!1,d=!0,e=0;" "==a.charAt(0)&&a.length;)a=a.substr(1);for(;" "==a.charAt(a.length-1)&&a.length;)a=a.substr(0,a.length-1);if("+"==a.charAt(0)?c=!0:"-"==a.charAt(0)&&(c=!0,d=!1),c){if(1==a.length)throw ValueError('LongInt argument is not a valid number: "'+a+'"');a=a.substr(1)}for(;e<a.length-1&&"0"==a.charAt(e);)e++;a=a.substr(e);for(var f=digits(b),g=-1,h=0;h<a.length;h++)if("."==a.charAt(h)&&g==-1)g=h;else if(!f[a.charAt(h)])throw ValueError('LongInt argument is not a valid number: "'+a+'"');if(g!=-1&&(a=a.substr(0,g)),10!=b){for(var i,j="1",k=LongInt(0),d=a.length;d--;)i=parseInt(a.charAt(d),b).toString(),digit_by_coef=mul_pos(j,i).value,k=add_pos(k.value,digit_by_coef),j=mul_pos(j,b.toString()).value;return k}return{__class__:$LongIntDict,value:a,pos:d}}eval($B.InjectBuiltins());var $LongIntDict={__class__:$B.$type,__name__:"int"};$LongIntDict.$from_float=function(a){var b=Math.abs(a).toString(),a=b;if(b.search("e")>-1){var c=/-?(\d)(\.\d+)?e([+-])(\d*)/.exec(b),d=c[1],e=c[2],f=c[3],g=c[4];"+"==f&&(a=void 0===e?d+"0".repeat(g-1):d+e+"0".repeat(g-1-e.length))}return{__class__:$LongIntDict,value:a,pos:a>=0}},$LongIntDict.__abs__=function(a){return{__class__:$LongIntDict,value:a.value,pos:!0}},$LongIntDict.__add__=function(a,b){if(isinstance(b,_b_.float))return _b_.float(parseInt(a.value)+b.value);"number"==typeof b&&(b=LongInt(_b_.str(b)));var c;if(a.pos&&b.pos)return add_pos(a.value,b.value);if(a.pos||b.pos){if(a.pos&&!b.pos){switch(comp_pos(a.value,b.value)){case 1:c=sub_pos(a.value,b.value);break;case 0:c={__class__:$LongIntDict,value:0,pos:!0};break;case-1:c=sub_pos(b.value,a.value),c.pos=!1}return intOrLong(c)}switch(comp_pos(a.value,b.value)){case 1:c=sub_pos(a.value,b.value),c.pos=!1;break;case 0:c={__class__:$LongIntDict,value:0,pos:!0};break;case-1:c=sub_pos(b.value,a.value)}return intOrLong(c)}return c=add_pos(a.value,b.value),c.pos=!1,intOrLong(c)},$LongIntDict.__and__=function(a,b){"number"==typeof b&&(b=LongInt(_b_.str(b)));var c=$LongIntDict.__index__(a),d=$LongIntDict.__index__(b);if(c.length<d.length){var e=d;d=c,c=e}for(var f=c.length-d.length,g="",h=0;h<d.length;h++)g+="1"==c.charAt(f+h)&&"1"==d.charAt(h)?"1":"0";return intOrLong(LongInt(g,2))},$LongIntDict.__divmod__=function(a,b){"number"==typeof b&&(b=LongInt(_b_.str(b)));var c=divmod_pos(a.value,b.value);return a.pos!==b.pos&&("0"!=c[0].value&&(c[0].pos=!1),"0"!=c[1].value&&(c[0]=$LongIntDict.__sub__(c[0],LongInt("1")),c[1]=$LongIntDict.__add__(c[1],LongInt("1")))),[intOrLong(c[0]),intOrLong(c[1])]},$LongIntDict.__eq__=function(a,b){return"number"==typeof b&&(b=LongInt(_b_.str(b))),a.value==b.value&&a.pos==b.pos},$LongIntDict.__float__=function(a){return new Number(parseFloat(a.value))},$LongIntDict.__floordiv__=function(a,b){return isinstance(b,_b_.float)?_b_.float(parseInt(a.value)/b):("number"==typeof b&&(b=LongInt(_b_.str(b))),intOrLong($LongIntDict.__divmod__(a,b)[0]))},$LongIntDict.__ge__=function(a,b){return"number"==typeof b&&(b=LongInt(_b_.str(b))),a.pos!=b.pos?!b.pos:a.value.length>b.value.length?a.pos:a.value.length<b.value.length?!a.pos:a.pos?a.value>=b.value:a.value<=b.value},$LongIntDict.__gt__=function(a,b){return!$LongIntDict.__le__(a,b)},$LongIntDict.__index__=function(a){for(var b,c="",d=(a.value.length,a.value);;)if(b=divmod_pos(d,"2"),c=b[1].value+c,d=b[0].value,"0"==d)break;return intOrLong(c)},$LongIntDict.__invert__=function(a){return $LongIntDict.__sub__(LongInt("-1"),a)},$LongIntDict.__le__=function(a,b){return"number"==typeof b&&(b=LongInt(_b_.str(b))),a.pos!==b.pos?!a.pos:a.value.length>b.value.length?!a.pos:a.value.length<b.value.length?a.pos:a.pos?a.value<=b.value:a.value>=b.value},$LongIntDict.__lt__=function(a,b){return!$LongIntDict.__ge__(a,b)},$LongIntDict.__lshift__=function(a,b){var c=b.__class__==$LongIntDict;if(c){var d=parseInt(b.value);if(d<0)throw _b_.ValueError("negative shift count");d<$B.max_int&&(shift_safe=!0,b=d)}if(shift_safe){if(0==d)return a}else if(b=LongInt(b),"0"==b.value)return a;for(var e=a.value;;){for(var f,g=0,h="",i=e.length-1;i>=0;i--)f=(g+2*parseInt(e.charAt(i))).toString(),2==f.length?(h=f.charAt(1)+h,g=parseInt(f.charAt(0))):(h=f+h,g=0);if(g&&(h=g+h),e=h,shift_safe){if(b--,0==b)break}else if(b=sub_pos(b.value,"1"),"0"==b.value)break}return intOrLong({__class__:$LongIntDict,value:e,pos:a.pos})},$LongIntDict.__mod__=function(a,b){return intOrLong($LongIntDict.__divmod__(a,b)[1])},$LongIntDict.__mro__=[$LongIntDict,_b_.int.$dict,_b_.object.$dict],$LongIntDict.__mul__=function(a,b){if(isinstance(b,_b_.float))return _b_.float(parseInt(a.value)*b);"number"==typeof b&&(b=LongInt(_b_.str(b)));var c=mul_pos(a.value,b.value);return a.pos==b.pos?intOrLong(c):(c.pos=!1,intOrLong(c))},$LongIntDict.__neg__=function(a){return{__class__:$LongIntDict,value:a.value,pos:!a.pos}},$LongIntDict.__or__=function(a,b){b=LongInt(b);var c=$LongIntDict.__index__(a),d=$LongIntDict.__index__(b);if(c.length<d.length){var e=d;d=c,c=e}for(var f=c.length-d.length,g=c.substr(0,f),h=0;h<d.length;h++)g+="1"==c.charAt(f+h)||"1"==d.charAt(h)?"1":"0";return intOrLong(LongInt(g,2))},$LongIntDict.__pos__=function(a){return a},$LongIntDict.__pow__=function(a,b){if("number"==typeof b)b=LongInt(_b_.str(b));else if(!isinstance(b,LongInt)){var c="power must be a LongDict, not '";throw TypeError(c+$B.get_class(b).__name__+"'")}if(!b.pos)return"1"==a.value?a:LongInt("0");if("0"==b.value)return LongInt("1");for(var d={__class__:$LongIntDict,value:a.value,pos:a.pos},e=b.value;;){if(e=sub_pos(e,"1").value,"0"==e)break;d=LongInt($LongIntDict.__mul__(d,a))}return intOrLong(d)},$LongIntDict.__rshift__=function(a,b){if(b=LongInt(b),"0"==b.value)return a;for(var c=a.value;;){if(c=divmod_pos(c,"2")[0].value,"0"==c.value)break;if(b=sub_pos(b.value,"1"),"0"==b.value)break}return intOrLong({__class__:$LongIntDict,value:c,pos:a.pos})},$LongIntDict.__str__=$LongIntDict.__repr__=function(a){var b="";return a.pos||(b+="-"),b+a.value},$LongIntDict.__sub__=function(a,b){if(isinstance(b,_b_.float))return _b_.float(parseInt(a.value)-b.value);"number"==typeof b&&(b=LongInt(_b_.str(b)));var c;if(a.pos&&b.pos){switch(comp_pos(a.value,b.value)){case 1:c=sub_pos(a.value,b.value);break;case 0:c={__class__:$LongIntDict,value:"0",pos:!0};break;case-1:c=sub_pos(b.value,a.value),c.pos=!1}return intOrLong(c)}if(a.pos||b.pos)return a.pos&&!b.pos?intOrLong(add_pos(a.value,b.value)):(c=add_pos(a.value,b.value),c.pos=!1,intOrLong(c));switch(comp_pos(a.value,b.value)){case 1:c=sub_pos(a.value,b.value),c.pos=!1;break;case 0:c={__class__:$LongIntDict,value:"0",pos:!0};break;case-1:c=sub_pos(b.value,a.value)}return intOrLong(c)},$LongIntDict.__truediv__=function(a,b){if(isinstance(b,LongInt))return _b_.float(parseInt(a.value)/parseInt(b.value));if(isinstance(b,_b_.int))return _b_.float(parseInt(a.value)/b);if(isinstance(b,_b_.float))return _b_.float(parseInt(a.value)/b);throw TypeError("unsupported operand type(s) for /: 'int' and '"+$B.get_class(b).__name__+"'")},$LongIntDict.__xor__=function(a,b){b=LongInt(b);var c=$LongIntDict.__index__(a),d=$LongIntDict.__index__(b);if(c.length<d.length){var e=d;d=c,c=e}for(var f=c.length-d.length,g=c.substr(0,f),h=0;h<d.length;h++)g+="1"==c.charAt(f+h)&&"0"==d.charAt(h)?"1":"0"==c.charAt(f+h)&&"1"==d.charAt(h)?"1":"0";return intOrLong(LongInt(g,2))},$LongIntDict.to_base=function(a,b){for(var c="",d=a.value;d>0;){var e=divmod_pos(d,b.toString());if(c=parseInt(e[1].value).toString(b)+c,d=e[0].value,0==d)break}return c};var MAX_SAFE_INTEGER=Math.pow(2,53)-1,MIN_SAFE_INTEGER=-MAX_SAFE_INTEGER;LongInt.__class__=$B.$factory,LongInt.$dict=$LongIntDict,$LongIntDict.$factory=LongInt,$B.LongInt=LongInt}(__BRYTHON__),function($B){function $err(a,b){var c="unsupported operand type(s) for "+a;throw c+=": 'float' and '"+$.get_class(b).__name__+"'",_b_.TypeError(c)}function preformat(a,b){if(b.empty)return _b_.str(a);if(b.type&&"eEfFgGn%".indexOf(b.type)==-1)throw _b_.ValueError("Unknown format code '"+b.type+"' for object of type 'float'");if(isNaN(a))return"f"==b.type||"g"==b.type?"nan":"NAN";if(a==Number.POSITIVE_INFINITY)return"f"==b.type||"g"==b.type?"inf":"INF";if(void 0===b.precision&&void 0!==b.type&&(b.precision=6),"%"==b.type&&(a*=100),"e"==b.type){var c=a.toExponential(b.precision),d=parseInt(c.substr(c.search("e")+1));return Math.abs(d)<10&&(c=c.substr(0,c.length-1)+"0"+c.charAt(c.length-1)),c}if(void 0!==b.precision){var e=b.precision;if(e&&"fF%".indexOf(b.type)>-1){var f=Math.abs(a).toString().search(/\./);f>-1?e+=f:e=Math.abs(a).toString().length}var c=a.toPrecision(e),g=c.indexOf(".");if(void 0===b.type||"%"!=b.type&&"f"!=b.type.toLowerCase()){var h=a.toExponential(b.precision-1),d=parseInt(h.substr(h.search("e")+1));(d<-4||d>=b.precision-1)&&(c=h,Math.abs(d)<10&&(c=c.substr(0,c.length-1)+"0"+c.charAt(c.length-1)))}else g==-1?c+="."+"0".repeat(b.precision):(missing=b.precision-c.length+g+1,missing>0&&(c+="0".repeat(missing)))}else var c=_b_.str(a);if(void 0===b.type||"gGn".indexOf(b.type)!=-1){for(;"0"==c.charAt(c.length-1);)c=c.substr(0,c.length-1);"."==c.charAt(c.length-1)&&(void 0===b.type?c+="0":c=c.substr(0,c.length-1))}return void 0!==b.sign&&(" "==b.sign||"+"==b.sign)&&a>0&&(c=b.sign+c),"%"==b.type&&(c+="%"),c}function $FloatClass(a){return new Number(a)}function to_digits(a){for(var b="٠١٢٣٤٥٦٧٨٩",c="",d=0;d<a.length;d++){var e=b.indexOf(a[d]);c+=e>-1?e:a[d]}return c}eval($B.InjectBuiltins());var $ObjectDict=_b_.object.$dict,$FloatDict={__class__:$B.$type,__dir__:$ObjectDict.__dir__,__name__:"float",$native:!0};$FloatDict.as_integer_ratio=function(a){if(Math.round(a.valueOf())==a.valueOf())return _b_.tuple([_b_.int(a.valueOf()),_b_.int(1)]);for(var b=a.valueOf(),c=10;Math.round(b/c)!=b/c;)c*=10;return _b_.tuple([_b_.int(b*c),_b_.int(c)])},$FloatDict.__bool__=function(a){return _b_.bool(a.valueOf())},$FloatDict.__class__=$B.$type,$FloatDict.__eq__=function(a,b){return isinstance(b,_b_.int)?a==b:isinstance(b,float)?a.valueOf()==b.valueOf():isinstance(b,_b_.complex)?0==b.imag&&a==b.real:_b_.hasattr(b,"__eq__")?_b_.getattr(b,"__eq__")(a.value):a.value===b},$FloatDict.__floordiv__=function(a,b){if(isinstance(b,[_b_.int,float])){if(0==b.valueOf())throw ZeroDivisionError("division by zero");return float(Math.floor(a/b))}return hasattr(b,"__rfloordiv__")?getattr(b,"__rfloordiv__")(a):void $err("//",b)},$FloatDict.fromhex=function(a){if(!isinstance(a,_b_.str))throw _b_.ValueError("argument must be a string");var b=a.trim();switch(b.toLowerCase()){case"+inf":case"inf":case"+infinity":case"infinity":return $FloatClass(1/0);case"-inf":case"-infinity":return $FloatClass(-(1/0));case"+nan":case"nan":return $FloatClass(Number.NaN);case"-nan":return $FloatClass(-Number.NaN);case"":throw _b_.ValueError("count not convert string to float")}var c=/^(\d*\.?\d*)$/.exec(b);if(null!==c)return $FloatClass(parseFloat(c[1]));var c=/^(\+|-)?(0x)?([0-9A-F]+\.?)?(\.[0-9A-F]+)?(p(\+|-)?\d+)?$/i.exec(b);if(null==c)throw _b_.ValueError("invalid hexadecimal floating-point string");var d=c[1],e=parseInt(c[3]||"0",16),f=c[4]||".0",g=c[5]||"p0";d="-"==d?-1:1;for(var h=e,i=1,j=f.length;i<j;i++)h+=parseInt(f.charAt(i),16)/Math.pow(16,i);return new Number(d*h*Math.pow(2,parseInt(g.substring(1))))},$FloatDict.__getformat__=function(a){if("double"==a||"float"==a)return"IEEE, little-endian";throw _b_.ValueError("__getformat__() argument 1 must be 'double' or 'float'")},$FloatDict.__format__=function(a,b){var c=new $B.parse_format_spec(b);c.align=c.align||">";var d=preformat(a,c).split("."),e=d[0];if(c.comma){for(var f=e.length,g=Math.ceil(e.length/3),h=[],i=0;i<g;i++)h.push(e.substring(f-3*i-3,f-3*i));h.reverse(),d[0]=h.join(",")}return $B.format_width(d.join("."),c)},$FloatDict.__hash__=function(a){if(void 0===a)return $FloatDict.__hashvalue__||$B.$py_next_hash--;var b=a.valueOf();if(b===1/0)return 314159;if(b===-(1/0))return-271828;if(isNaN(b))return 0;if(b==Math.round(b))return Math.round(b);var c=_b_.$frexp(b);c[0]*=Math.pow(2,31);var d=_b_.int(c[0]);c[0]=(c[0]-d)*Math.pow(2,31);var e=d+_b_.int(c[0])+(c[1]<<15);return 4294967295&e},_b_.$isninf=function(a){var b=a;return isinstance(a,float)&&(b=a.valueOf()),b==-(1/0)||b==Number.NEGATIVE_INFINITY},_b_.$isinf=function(a){var b=a;return isinstance(a,float)&&(b=a.valueOf()),b==1/0||b==-(1/0)||b==Number.POSITIVE_INFINITY||b==Number.NEGATIVE_INFINITY},_b_.$fabs=function(a){return float(a>0?a:-a)},_b_.$frexp=function(a){var b=a;if(isinstance(a,float)&&(b=a.valueOf()),isNaN(b)||_b_.$isinf(b))return[b,-1];if(0==b)return[0,0];var c=1,d=0,e=b;for(e<0&&(c=-c,e=-e);e<.5;)e*=2,d--;for(;e>=1;)e*=.5,d++;return e*=c,[e,d]},_b_.$ldexp=function(a,b){if(_b_.$isninf(a))return float("-inf");if(_b_.$isinf(a))return float("inf");var c=a;if(isinstance(a,float)&&(c=a.valueOf()),0==c)return c;var d=b;return isinstance(b,float)&&(d=b.valueOf()),c*Math.pow(2,d)},$FloatDict.hex=function(a){var b=53,c=b+3-(b+2)%4;switch(a.valueOf()){case 1/0:case-(1/0):case Number.NaN:case-Number.NaN:return a;case-0:return"-0x0.0p0";case 0:return"0x0.0p0"}var d=_b_.$frexp(_b_.$fabs(a.valueOf())),e=d[0],f=d[1],g=1-Math.max(-1021-f,0);e=_b_.$ldexp(e,g),f-=g;var h="0123456789ABCDEF".split(""),i=h[Math.floor(e)];i+=".",e-=Math.floor(e);for(var j=0;j<(c-1)/4;j++)e*=16,i+=h[Math.floor(e)],e-=Math.floor(e);var k="+";return f<0&&(k="-",f=-f),a.value<0?"-0x"+i+"p"+k+f:"0x"+i+"p"+k+f},$FloatDict.__init__=function(a,b){a=new Number(b)},$FloatDict.__int__=function(a){return parseInt(a)},$FloatDict.is_integer=function(a){return _b_.int(a)==a},$FloatDict.__mod__=function(a,b){if(0==b)throw ZeroDivisionError("float modulo");if(isinstance(b,_b_.int))return new Number((a%b+b)%b);if(isinstance(b,float))return new Number((a%b+b)%b);if(isinstance(b,_b_.bool)){var c=0;return b.valueOf()&&(c=1),new Number((a%c+c)%c)}return hasattr(b,"__rmod__")?getattr(b,"__rmod__")(a):void $err("%",b)},$FloatDict.__mro__=[$FloatDict,$ObjectDict],$FloatDict.__mul__=function(a,b){if(isinstance(b,_b_.int))return b.__class__==$B.LongInt.$dict?new Number(a*parseFloat(b.value)):new Number(a*b);if(isinstance(b,float))return new Number(a*b);if(isinstance(b,_b_.bool)){var c=0;return b.valueOf()&&(c=1),new Number(a*c)}return isinstance(b,_b_.complex)?_b_.complex(float(a*b.real),float(a*b.imag)):hasattr(b,"__rmul__")?getattr(b,"__rmul__")(a):void $err("*",b)},$FloatDict.__ne__=function(a,b){return!$FloatDict.__eq__(a,b)},$FloatDict.__neg__=function(a,b){return float(-a)},$FloatDict.__pos__=function(a){return a},$FloatDict.__pow__=function(a,b){return isinstance(b,[_b_.int,float])?float(Math.pow(a,b)):hasattr(b,"__rpow__")?getattr(b,"__rpow__")(a):void $err("** or pow()",b)},$FloatDict.__repr__=$FloatDict.__str__=function(a){if(a===float)return"<class 'float'>";if(a.valueOf()==1/0)return"inf";if(a.valueOf()==-(1/0))return"-inf";if(isNaN(a.valueOf()))return"nan";var b=a.valueOf()+"";return b.indexOf(".")==-1&&(b+=".0"),_b_.str(b)},$FloatDict.__setattr__=function(a,b,c){if(a.constructor===Number)throw void 0===$FloatDict[b]?_b_.AttributeError("'float' object has no attribute '"+b+"'"):_b_.AttributeError("'float' object attribute '"+b+"' is read-only");return a[b]=c,$N},$FloatDict.__truediv__=function(a,b){if(isinstance(b,[_b_.int,float])){if(0==b.valueOf())throw ZeroDivisionError("division by zero");return float(a/b)}if(isinstance(b,_b_.complex)){var c=b.real*b.real+b.imag*b.imag;if(0==c)throw ZeroDivisionError("division by zero");return _b_.complex(float(a*b.real/c),float(-a*b.imag/c))}return hasattr(b,"__rtruediv__")?getattr(b,"__rtruediv__")(a):void $err("/",b)};var $op_func=function(a,b){if(isinstance(b,_b_.int))return float(b.__class__===$B.LongInt.$dict?a-parseInt(b.value):a-b);if(isinstance(b,float))return float(a-b);if(isinstance(b,_b_.bool)){var c=0;return b.valueOf()&&(c=1),float(a-c)}return isinstance(b,_b_.complex)?_b_.complex(a-b.real,-b.imag):hasattr(b,"__rsub__")?getattr(b,"__rsub__")(a):void $err("-",b)};$op_func+="";var $ops={"+":"add","-":"sub"};for(var $op in $ops){var $opf=$op_func.replace(/-/gm,$op);$opf=$opf.replace(/__rsub__/gm,"__r"+$ops[$op]+"__"),eval("$FloatDict.__"+$ops[$op]+"__ = "+$opf)}var $comp_func=function(a,b){if(isinstance(b,_b_.int))return b.__class__===$B.LongInt.$dict?a>parseInt(b.value):a>b.valueOf();if(isinstance(b,float))return a>b;throw _b_.TypeError("unorderable types: "+a.__class__.__name__+"() > "+$B.get_class(b).__name__+"()")};$comp_func+="";var $comps={">":"gt",">=":"ge","<":"lt","<=":"le"};for(var $op in $comps)eval("$FloatDict.__"+$comps[$op]+"__ = "+$comp_func.replace(/>/gm,$op));$B.make_rmethods($FloatDict);var $notimplemented=function(a,b){throw _b_.TypeError("unsupported operand types for OPERATOR: '"+a.__class__.__name__+"' and '"+$B.get_class(b).__name__+"'")};$notimplemented+="";for(var $op in $B.$operators)switch($op){case"+=":case"-=":case"*=":case"/=":case"%=":break;default:var $opfunc="__"+$B.$operators[$op]+"__";void 0===$FloatDict[$opfunc]&&eval("$FloatDict."+$opfunc+"="+$notimplemented.replace(/OPERATOR/gm,$op))}var float=function(value){switch(value){case void 0:return $FloatClass(0);case Number.MAX_VALUE:return $FloatClass(1/0);case-Number.MAX_VALUE:return $FloatClass(-(1/0))}if("number"==typeof value)return $FloatClass(value);if(isinstance(value,float))return value;if(isinstance(value,_b_.bytes)){var s=getattr(value,"decode")("latin-1");return console.log("float bytes",s),float(getattr(value,"decode")("latin-1"))}if(hasattr(value,"__float__"))return $FloatClass(getattr(value,"__float__")());if("string"==typeof value)switch(value=value.trim(),value.toLowerCase()){case"+inf":case"inf":case"+infinity":case"infinity":return Number.POSITIVE_INFINITY;case"-inf":case"-infinity":return Number.NEGATIVE_INFINTY;case"+nan":case"nan":return Number.NaN;case"-nan":return-Number.NaN;case"":throw _b_.ValueError("count not convert string to float");default:if(value=to_digits(value),isFinite(value))return $FloatClass(eval(value));throw _b_.str.$dict.encode(value,"latin-1"),_b_.ValueError("Could not convert to float(): '"+_b_.str(value)+"'")}throw _b_.TypeError("float() argument must be a string or a number, not '"+$B.get_class(value).__name__+"'")};float.__class__=$B.$factory,float.$dict=$FloatDict,$FloatDict.$factory=float,$FloatDict.__new__=$B.$__new__(float),$B.$FloatClass=$FloatClass,_b_.float=float}(__BRYTHON__),function($B){function $UnsupportedOpType(a,b,c){throw _b_.TypeError("unsupported operand type(s) for "+a+": '"+b+"' and '"+c+"'")}eval($B.InjectBuiltins());var $ObjectDict=_b_.object.$dict,$ComplexDict={__class__:$B.$type,__dir__:$ObjectDict.__dir__,__name__:"complex",$native:!0};$ComplexDict.__abs__=function(a,b){return complex(abs(a.real),abs(a.imag))},$ComplexDict.__bool__=function(a){return new Boolean(a.real||a.imag)},$ComplexDict.__class__=$B.$type,$ComplexDict.__eq__=function(a,b){return isinstance(b,complex)?a.real==b.real&&a.imag==b.imag:isinstance(b,_b_.int)?0!=a.imag?False:a.real==b.valueOf():isinstance(b,_b_.float)?0!=a.imag?False:a.real==b.value:void $UnsupportedOpType("==","complex",$B.get_class(b))},$ComplexDict.__floordiv__=function(a,b){$UnsupportedOpType("//","complex",$B.get_class(b))},$ComplexDict.__hash__=function(a){return void 0===a?$ComplexDict.__hashvalue__||$B.$py_next_hash--:1000003*a.imag+a.real},$ComplexDict.__init__=function(a,b,c){a.toString=function(){return"("+b+"+"+c+"j)"}},$ComplexDict.__invert__=function(a){return~a},$ComplexDict.__mod__=function(a,b){throw _b_.TypeError("TypeError: can't mod complex numbers.")},$ComplexDict.__mro__=[$ComplexDict,$ObjectDict],$ComplexDict.__mul__=function(a,b){return isinstance(b,complex)?complex(a.real*b.real-a.imag*b.imag,a.imag*b.real+a.real*b.imag):isinstance(b,_b_.int)?complex(a.real*b.valueOf(),a.imag*b.valueOf()):isinstance(b,_b_.float)?complex(a.real*b.value,a.imag*b.value):isinstance(b,_b_.bool)?b.valueOf()?a:complex(0):void $UnsupportedOpType("*",complex,b)},$ComplexDict.__name__="complex",$ComplexDict.__ne__=function(a,b){return!$ComplexDict.__eq__(a,b)},$ComplexDict.__neg__=function(a){return complex(-a.real,-a.imag)},$ComplexDict.__new__=function(a){if(void 0===a)throw _b_.TypeError("complex.__new__(): not enough arguments");return{__class__:a.$dict}},$ComplexDict.__pos__=function(a){return a},$ComplexDict.__pow__=function(a,b){$UnsupportedOpType("**",complex,$B.get_class(b))},$ComplexDict.__str__=$ComplexDict.__repr__=function(a){return 0==a.real?a.imag+"j":a.imag>=0?"("+a.real+"+"+a.imag+"j)":"("+a.real+"-"+-a.imag+"j)"},$ComplexDict.__sqrt__=function(a){if(0==a.imag)return complex(Math.sqrt(a.real));var b=a.real,c=a.imag,d=(Math.sqrt(b*b+c*c),Math.sqrt((b+sqrt)/2)),e=Number.sign(c)*Math.sqrt((-b+sqrt)/2);return complex(d,e)},$ComplexDict.__truediv__=function(a,b){if(isinstance(b,complex)){if(0==b.real&&0==b.imag)throw ZeroDivisionError("division by zero");var c=a.real*b.real+a.imag*b.imag,d=b.real*b.real+b.imag*b.imag,e=a.imag*b.real-a.real*b.imag;return complex(c/d,e/d)}if(isinstance(b,_b_.int)){if(!b.valueOf())throw ZeroDivisionError("division by zero");return $ComplexDict.__truediv__(a,complex(b.valueOf()))}if(isinstance(b,_b_.float)){if(!b.value)throw ZeroDivisionError("division by zero");return $ComplexDict.__truediv__(a,complex(b.value))}$UnsupportedOpType("//","complex",b.__class__)};var $op_func=function(a,b){throw _b_.TypeError("TypeError: unsupported operand type(s) for -: 'complex' and '"+$B.get_class(b).__name__+"'")};$op_func+="";var $ops={"&":"and","|":"ior","<<":"lshift",">>":"rshift","^":"xor"};for(var $op in $ops)eval("$ComplexDict.__"+$ops[$op]+"__ = "+$op_func.replace(/-/gm,$op));$ComplexDict.__ior__=$ComplexDict.__or__;var $op_func=function(a,b){if(isinstance(b,complex))return complex(a.real-b.real,a.imag-b.imag);if(isinstance(b,_b_.int))return complex($B.sub(a.real,b.valueOf()),a.imag);if(isinstance(b,_b_.float))return complex(a.real-b.value,a.imag);if(isinstance(b,_b_.bool)){var c=0;return b.valueOf()&&(c=1),complex(a.real-c,a.imag)}throw _b_.TypeError("unsupported operand type(s) for -: "+a.__repr__()+" and '"+$B.get_class(b).__name__+"'")};$ComplexDict.__sub__=$op_func,$op_func+="",$op_func=$op_func.replace(/-/gm,"+").replace(/sub/gm,"add"),eval("$ComplexDict.__add__ = "+$op_func);var $comp_func=function(a,b){throw _b_.TypeError("TypeError: unorderable types: complex() > "+$B.get_class(b).__name__+"()")};$comp_func+="";for(var $op in $B.$comps)eval("$ComplexDict.__"+$B.$comps[$op]+"__ = "+$comp_func.replace(/>/gm,$op));$B.make_rmethods($ComplexDict),$ComplexDict.descriptors={real:function(a){return new Number(a.real)},imag:function(a){return new Number(a.imag)}};var complex_re=/^(\d*\.?\d*)([\+\-]?)(\d*\.?\d*)(j?)$/,complex=function(a,b){if("string"==typeof a){if(void 0!==b)throw _b_.TypeError("complex() can't take second arg if first is a string");var c=complex_re.exec(a);if(null===c)throw _b_.ValueError("complex() arg is a malformed string");if("."==c[1]||"."==c[3])throw _b_.ValueError("complex() arg is a malformed string");"j"==c[4]?""==c[2]?(a=0,b=parseFloat(c[1])):(a=parseFloat(c[1]),b=""==c[3]?1:parseFloat(c[3]),b="-"==c[2]?-b:b):(a=parseFloat(c[1]),b=0)}var d={__class__:$ComplexDict,real:a||0,imag:b||0};return d.__repr__=d.__str__=function(){return 0==a?b+"j":"("+a+"+"+b+"j)"},d};complex.$dict=$ComplexDict,complex.__class__=$B.$factory,$ComplexDict.$factory=complex,$B.set_func_names($ComplexDict),_b_.complex=complex}(__BRYTHON__),function($B){function $DictClass(a,b){this.iter=null,this.__class__=$DictDict,$DictDict.clear(this);for(var c=$DictDict.__setitem__,d=a.length;d--;)c(a[d],b[d])}function dict(a,b){if(void 0===b&&Array.isArray(a)){for(var c={__class__:$DictDict,$numeric_dict:{},$object_dict:{},$string_dict:{},$str_hash:{},length:0},d=-1,e=a.length-1,f=$DictDict.__setitem__;d++<e;){var g=a[d];switch(typeof g[0]){case"string":c.$string_dict[g[0]]=g[1],c.$str_hash[str_hash(g[0])]=g[0];break;case"number":c.$numeric_dict[g[0]]=g[1];break;default:f(c,g[0],g[1])}}return c}var c={__class__:$DictDict};$DictDict.clear(c);for(var h=[c],i=1,d=0,j=arguments.length;d<j;d++)h[i++]=arguments[d];return $DictDict.__init__.apply(null,h),c}function mappingproxy(a){var b=obj_dict(a);return b.__class__=mappingproxyDict,b}eval($B.InjectBuiltins());var $ObjectDict=_b_.object.$dict,str_hash=_b_.str.$dict.__hash__,$N=_b_.None,$DictDict={__class__:$B.$type,__name__:"dict",$native:!0,__dir__:$ObjectDict.__dir__},$key_iterator=function(a){this.d=a,this.current=0,this.iter=new $item_generator(a)};$key_iterator.prototype.length=function(){return this.iter.length},$key_iterator.prototype.next=function(){return this.iter.next()[0]};var $value_iterator=function(a){this.d=a,this.current=0,this.iter=new $item_generator(a)};$value_iterator.prototype.length=function(){return this.iter.length},$value_iterator.prototype.next=function(){return this.iter.next()[1]};var $item_generator=function(a){if(this.i=0,a.$jsobj){this.items=[];for(var b in a.$jsobj)"$"!=b.charAt(0)&&this.items.push([b,a.$jsobj[b]]);return void(this.length=this.items.length)}var c=[],d=0;for(var e in a.$numeric_dict)c[d++]=[parseFloat(e),a.$numeric_dict[e]];for(var e in a.$string_dict)c[d++]=[e,a.$string_dict[e]];for(var e in a.$object_dict)c[d++]=a.$object_dict[e];this.items=c,this.length=c.length};$item_generator.prototype.next=function(){if(this.i<this.items.length)return this.items[this.i++];throw _b_.StopIteration("StopIteration")},$item_generator.prototype.as_list=function(){return this.items};var $item_iterator=function(a){this.d=a,this.current=0,this.iter=new $item_generator(a)};$item_iterator.prototype.length=function(){return this.iter.items.length},$item_iterator.prototype.next=function(){return _b_.tuple(this.iter.next())};var $copy_dict=function(a,b){for(var c=new $item_generator(b).as_list(),d=$DictDict.__setitem__,e=c.length;e--;)d(a,c[e][0],c[e][1])};$iterator_wrapper=function(a,b){var c={__class__:b,__iter__:function(){return a.iter.i=0,c},__len__:function(){return a.length()},__next__:function(){return a.next()},__repr__:function(){return b.__name__+"("+new $item_generator(a).as_list().join(",")+")"}};return c.__str__=c.toString=c.__repr__,c},$DictDict.__bool__=function(a){$B.args("__bool__",1,{self:null},["self"],arguments,{},null,null);return $DictDict.__len__(a)>0},$DictDict.__contains__=function(){var a=$B.args("__contains__",2,{self:null,item:null},["self","item"],arguments,{},null,null),b=a.self,c=a.item;if(b.$jsobj)return void 0!==b.$jsobj[c];switch(typeof c){case"string":return void 0!==b.$string_dict[c];case"number":return void 0!==b.$numeric_dict[c]}var d=hash(c);if(void 0!==b.$str_hash[d]&&_b_.getattr(c,"__eq__")(b.$str_hash[d]))return!0;if(void 0!==b.$numeric_dict[d]&&_b_.getattr(c,"__eq__")(d))return!0;if(void 0!==b.$object_dict[d]){var e=getattr(c,"__eq__");if(e(b.$object_dict[d][0]))return!0}return!1},$DictDict.__delitem__=function(){var a=$B.args("__eq__",2,{self:null,arg:null},["self","arg"],arguments,{},null,null),b=a.self,c=a.arg;if(b.$jsobj){if(void 0===b.$jsobj[c])throw KeyError(c);return delete b.$jsobj[c],$N}switch(typeof c){case"string":if(void 0===b.$string_dict[c])throw KeyError(_b_.str(c));return delete b.$string_dict[c],delete b.$str_hash[str_hash(c)],$N;case"number":if(void 0===b.$numeric_dict[c])throw KeyError(_b_.str(c));return delete b.$numeric_dict[c],$N}var d=hash(c);return void 0!==b.$object_dict[d]&&delete b.$object_dict[d],b.$jsobj&&delete b.$jsobj[c],$N},$DictDict.__eq__=function(){var a=$B.args("__eq__",2,{self:null,other:null},["self","other"],arguments,{},null,null),b=a.self,c=a.other;if(!isinstance(c,dict))return!1;if($DictDict.__len__(b)!=$DictDict.__len__(c))return!1;if(b.$numeric_dict.length!=c.$numeric_dict.length||b.$string_dict.length!=c.$string_dict.length||b.$object_dict.length!=c.$object_dict.length)return!1;for(var d in b.$numeric_dict)if(!_b_.getattr(c.$numeric_dict[d],"__eq__")(b.$numeric_dict[d]))return!1;for(var d in b.$string_dict)if(!_b_.getattr(c.$string_dict[d],"__eq__")(b.$string_dict[d]))return!1;for(var d in b.$object_dict)if(!_b_.getattr(c.$object_dict[d][1],"__eq__")(b.$object_dict[d][1]))return!1;return!0},$DictDict.__getitem__=function(){var a=$B.args("__getitem__",2,{self:null,arg:null},["self","arg"],arguments,{},null,null),b=a.self,c=a.arg;if(b.$jsobj)return void 0===b.$jsobj[c]?None:b.$jsobj[c];switch(typeof c){case"string":if(void 0!==b.$string_dict[c])return b.$string_dict[c];break;case"number":if(void 0!==b.$numeric_dict[c])return b.$numeric_dict[c]}var d=hash(c),e=b.$str_hash[d];if(void 0!==e&&_b_.getattr(c,"__eq__")(e))return b.$string_dict[e];if(void 0!==b.$numeric_dict[d]&&_b_.getattr(c,"__eq__")(d))return b.$numeric_dict[d];if(void 0!==b.$object_dict[d])return b.$object_dict[d][1];if(hasattr(b,"__missing__"))return getattr(b,"__missing__")(c);throw KeyError(_b_.str(c))},$DictDict.__hash__=function(a){if(void 0===a)return $DictDict.__hashvalue__||$B.$py_next_hash--;throw _b_.TypeError("unhashable type: 'dict'")},$DictDict.__init__=function(a){for(var b=[],c=0,d=1;d<arguments.length;d++)b[c++]=arguments[d];switch($DictDict.clear(a),b.length){case 0:return;case 1:var e=b[0];if(Array.isArray(e)){for(var d=e.length,f=$DictDict.__setitem__;d-- >0;)f(a,e[d-1][0],e[d-1][1]);return $N}if(isinstance(e,dict))return $copy_dict(a,e),$N;if(e.__class__===$B.JSObject.$dict){var f=$DictDict.__setitem__;for(var g in e.js)f(a,g,e.js[g]);return a.$jsobj=e.js,$N}}var h=$B.args("dict",0,{},[],b,{},"args","kw"),b=h.args,i=h.kw;if(b.length>0){if(isinstance(b[0],dict))return $B.$copy_dict(a,b[0]),$N;if(Array.isArray(b[0]))for(var j=b[0],d=j.length-1,f=$DictDict.__setitem__;d-- >0;)f(a,j[d-1][0],j[d-1][1]);else for(var k=iter(b[0]);;)try{var l=next(k),m=getattr(l,"__getitem__")(0),n=getattr(l,"__getitem__")(1);$DictDict.__setitem__(a,m,n)}catch(a){if("StopIteration"===a.__name__)break;throw a}}return $DictDict.__len__(i)>0&&$copy_dict(a,i),$N};var $dict_iterator=$B.$iterator_class("dict iterator");$DictDict.__iter__=function(a){return $DictDict.keys(a)},$DictDict.__len__=function(a){var b=0;if(a.$jsobj){for(var c in a.$jsobj)"$"!=c.charAt(0)&&b++;return b}for(var d in a.$numeric_dict)b++;for(var d in a.$string_dict)b++;for(var d in a.$object_dict)b+=a.$object_dict[d].length;
return b},$DictDict.__mro__=[$DictDict,$ObjectDict],$DictDict.__ne__=function(a,b){return!$DictDict.__eq__(a,b)},$DictDict.__next__=function(a){null==a.$iter&&(a.$iter=new $item_generator(a));try{return a.$iter.next()}catch(a){if("StopIteration"!==a.__name__)throw a}},$DictDict.__repr__=function(a){if(void 0===a)return"<class 'dict'>";if(a.$jsobj){var b=[];for(var c in a.$jsobj)if("$"!=c.charAt(0)&&"__class__"!=c)try{b.push("'"+c+"': "+_b_.repr(a.$jsobj[c]))}catch(a){}return"{"+b.join(", ")+"}"}for(var d=[a],b=[],e=0,f=new $item_generator(a).as_list(),g=0;g<f.length;g++){var h=f[g];if(d.indexOf(h[1])>-1&&_b_.isinstance(h[1],[_b_.dict,_b_.list,_b_.set,_b_.tuple])){var i="?"+_b_.type(h[1]);isinstance(h[1],dict)&&(i="{...}"),b[e++]=repr(h[0])+": "+i}else d.indexOf(h[1])==-1&&d.push(h[1]),b[e++]=repr(h[0])+": "+repr(h[1])}return"{"+b.join(", ")+"}"},$DictDict.__setitem__=function(a,b,c){var d=$B.args("__setitem__",3,{self:null,key:null,value:null},["self","key","value"],arguments,{},null,null),a=d.self,b=d.key,c=d.value;if(a.$jsobj)return void(a.$jsobj[b]=c);switch(typeof b){case"string":return a.$string_dict[b]=c,a.$str_hash[str_hash(b)]=b,$N;case"number":return a.$numeric_dict[b]=c,$N}var e=hash(b),f=getattr(b,"__eq__");if(void 0!==a.$numeric_dict[e]&&f(e))return a.$numeric_dict[e]=c,$N;var g=a.$str_hash[e];return void 0!==g&&f(g)?(a.$string_dict[g]=c,$N):(a.$object_dict[e]=[b,c],$N)},$DictDict.__str__=$DictDict.__repr__,$B.make_rmethods($DictDict),$DictDict.clear=function(){var a=$B.args("clear",1,{self:null},["self"],arguments,{},null,null),b=a.self;return b.$numeric_dict={},b.$string_dict={},b.$str_hash={},b.$object_dict={},b.$jsobj&&(b.$jsobj={}),$N},$DictDict.copy=function(a){var b=$B.args("copy",1,{self:null},["self"],arguments,{},null,null),a=b.self,c=_b_.dict();return $copy_dict(c,a),c},$DictDict.fromkeys=function(){for(var a=$B.args("fromkeys",3,{cls:null,keys:null,value:null},["cls","keys","value"],arguments,{value:_b_.None},null,null),b=a.keys,c=a.value,d=dict(),e=_b_.iter(b);;)try{var f=_b_.next(e);$DictDict.__setitem__(d,f,c)}catch(a){if($B.is_exc(a,[_b_.StopIteration]))return d;throw a}},$DictDict.fromkeys.$type="classmethod",$DictDict.get=function(){var a=$B.args("get",3,{self:null,key:null,_default:null},["self","key","_default"],arguments,{_default:$N},null,null);try{return $DictDict.__getitem__(a.self,a.key)}catch(b){if(_b_.isinstance(b,_b_.KeyError))return a._default;throw b}};var $dict_itemsDict=$B.$iterator_class("dict_items");$DictDict.items=function(a){if(arguments.length>1){var b=arguments.length-1,c="items() takes no arguments ("+b+" given)";throw _b_.TypeError(c)}return $iterator_wrapper(new $item_iterator(a),$dict_itemsDict)};var $dict_keysDict=$B.$iterator_class("dict_keys");$DictDict.keys=function(a){if(arguments.length>1){var b=arguments.length-1,c="keys() takes no arguments ("+b+" given)";throw _b_.TypeError(c)}return $iterator_wrapper(new $key_iterator(a),$dict_keysDict)},$DictDict.pop=function(){var a=$B.args("pop",3,{self:null,key:null,_default:null},["self","key","_default"],arguments,{_default:$N},null,null),b=a.self,c=a.key,d=a._default;try{var e=$DictDict.__getitem__(b,c);return $DictDict.__delitem__(b,c),e}catch(a){if("KeyError"===a.__name__){if(void 0!==d)return d;throw a}throw a}},$DictDict.popitem=function(a){try{var b=new $item_iterator(a).next();return $DictDict.__delitem__(a,b[0]),_b_.tuple(b)}catch(a){if("StopIteration"==a.__name__)throw KeyError("'popitem(): dictionary is empty'")}},$DictDict.setdefault=function(){var a=$B.args("setdefault",3,{self:null,key:null,_default:null},["self","key","_default"],arguments,{},null,null),b=a.self,c=a.key,d=a._default;try{return $DictDict.__getitem__(b,c)}catch(a){return void 0===d&&(d=None),$DictDict.__setitem__(b,c,d),d}},$DictDict.update=function(a){var b=$B.args("update",1,{self:null},["self"],arguments,{},"args","kw"),a=b.self,c=b.args,d=b.kw;if(c.length>0){var e=c[0];if(isinstance(e,dict))$copy_dict(a,e);else if(hasattr(e,"__getitem__")&&hasattr(e,"keys"))for(var f=_b_.list(getattr(e,"keys")()),g=$DictDict.__setitem__,h=f.length;h--;){var i=getattr(e,"__getitem__")(f[h]);g(a,f[h],i)}}return $copy_dict(a,d),$N};var $dict_valuesDict=$B.$iterator_class("dict_values");$DictDict.values=function(a){if(arguments.length>1){var b=arguments.length-1,c="values() takes no arguments ("+b+" given)";throw _b_.TypeError(c)}return $iterator_wrapper(new $value_iterator(a),$dict_valuesDict)},dict.__class__=$B.$factory,dict.$dict=$DictDict,$DictDict.$factory=dict,$DictDict.__new__=$B.$__new__(dict),_b_.dict=dict,$B.$dict_iterator=function(a){return new $item_generator(a)},$B.$dict_length=$DictDict.__len__,$B.$dict_getitem=$DictDict.__getitem__,$B.$dict_get=$DictDict.get,$B.$dict_set=$DictDict.__setitem__,$B.$dict_contains=$DictDict.__contains__,$B.$dict_items=function(a){return new $item_generator(a).as_list()},$B.$copy_dict=$copy_dict,$B.$dict_get_copy=$DictDict.copy;var mappingproxyDict={__class__:$B.$type,__name__:"mappingproxy"};mappingproxyDict.__mro__=[mappingproxyDict,_b_.object.$dict],mappingproxyDict.__setitem__=function(){throw _b_.TypeError("'mappingproxy' object does not support item assignment")},mappingproxy.__class__=$B.$factory,mappingproxy.$dict=mappingproxyDict,mappingproxyDict.$factory=mappingproxy,$B.mappingproxy=mappingproxy,$B.obj_dict=function(a){var b=dict();return b.$jsobj=a,b}}(__BRYTHON__),function($B){function $list(){for(var a=[],b=0,c=0,d=arguments.length;c<d;c++)a[b++]=arguments[c];return new $ListDict(a)}function $partition(a,b,c,d,e){var f=b[e];b=swap(b,e,d-1);var g=c;if(null===a)if(b.$cl!==!1)for(var h=_b_.getattr(b.$cl,"__le__"),i=c;i<d-1;++i)h(b[i],f)&&(b=swap(b,g,i),++g);else for(var i=c;i<d-1;++i)getattr(b[i],"__le__")(f)&&(b=swap(b,g,i),++g);else for(var j=b.length,i=c;i<d-1;++i){var k=a(b[i]);if(b.length!==j)throw ValueError("list modified during sort");getattr(k,"__le__")(a(f))&&(b=swap(b,g,i),++g)}return b=swap(b,d-1,g),g}function swap(a,b,c){var d=a[b];return a[b]=a[c],a[c]=d,a}function $qsort(a,b,c,d){if(d-1>c){var e=c+Math.floor(Math.random()*(d-c));b.length;e=$partition(a,b,c,d,e),$qsort(a,b,c,e),$qsort(a,b,e+1,d)}}function $elts_class(a){if(0==a.length)return null;for(var b=$B.get_class(a[0]),c=a.length;c--;)if($B.get_class(a[c])!==b)return!1;return b}function list(){var a=$B.args("list",1,{obj:null},["obj"],arguments,{obj:null},null,null),b=a.obj;if(null===b)return[];if(Array.isArray(b)){if(b=b.slice(),b.__brython__=!0,b.__class__==$TupleDict){var c=b.slice();return c.__class__=$ListDict,c}return b}for(var c=[],d=0,e=iter(b),f=getattr(e,"__next__");;)try{c[d++]=f()}catch(a){if(!isinstance(a,_b_.StopIteration))throw a;break}return c.__brython__=!0,c}function $tuple(a){return a}function tuple(){var a=list.apply(null,arguments);return a.__class__=$TupleDict,a}eval($B.InjectBuiltins());var $ObjectDict=_b_.object.$dict,$N=_b_.None,$ListDict={__class__:$B.$type,__name__:"list",$native:!0,__dir__:$ObjectDict.__dir__};$ListDict.__add__=function(a,b){var c=a.valueOf().concat(b.valueOf());return isinstance(a,tuple)&&(c=tuple(c)),c},$ListDict.__contains__=function(a,b){for(var c=$B.args("__contains__",2,{self:null,item:null},["self","item"],arguments,{},null,null),a=c.self,b=c.item,d=getattr(b,"__eq__"),e=a.length;e--;)if(d(a[e]))return!0;return!1},$ListDict.__delitem__=function(a,b){if(isinstance(b,_b_.int)){var c=b;if(b<0&&(c=a.length+c),c>=0&&c<a.length)return a.splice(c,1),$N;throw _b_.IndexError("list index out of range")}if(isinstance(b,_b_.slice)){var d=b.step;d===None&&(d=1);var e=b.start;e===None&&(e=d>0?0:a.length);var f=b.stop;f===None&&(f=d>0?a.length:0),e<0&&(e=a.length+e),f<0&&(f=a.length+f);var g=[],h=null,c=0;if(d>0){if(f>e)for(var h=e;h<f;h+=d)void 0!==a[h]&&(g[c++]=h)}else if(f<e){for(var h=e;h>f;h+=d)void 0!==a[h]&&(g[c++]=h);g.reverse()}for(var h=g.length;h--;)a.splice(g[h],1);return $N}if(hasattr(b,"__int__")||hasattr(b,"__index__"))return $ListDict.__delitem__(a,_b_.int(b)),$N;throw _b_.TypeError("list indices must be integer, not "+_b_.str(b.__class__))},$ListDict.__eq__=function(a,b){if(isinstance(b,$B.get_class(a).$factory)&&b.length==a.length){for(var c=a.length;c--;)if(!getattr(a[c],"__eq__")(b[c]))return!1;return!0}return!1},$ListDict.__getitem__=function(a,b){var c=$B.args("__getitem__",2,{self:null,key:null},["self","key"],arguments,{},null,null),a=c.self,d=c.key;if(isinstance(d,_b_.int)){var e=a.valueOf(),f=d;if(d<0&&(f=e.length+f),f>=0&&f<e.length)return e[f];throw _b_.IndexError("list index out of range")}if(isinstance(d,_b_.slice)){var g=_b_.slice.$dict.$conv_for_seq(d,a.length),h=[],i=null,e=a.valueOf(),f=0,j=g.start,k=g.stop,l=g.step;if(l>0){if(k<=j)return h;for(var i=j;i<k;i+=l)h[f++]=e[i];return h}if(k>j)return h;for(var i=j;i>k;i+=l)h[f++]=e[i];return h}if(hasattr(d,"__int__")||hasattr(d,"__index__"))return $ListDict.__getitem__(a,_b_.int(d));throw _b_.TypeError("list indices must be integer, not "+$B.get_class(d).__name__)},$ListDict.__ge__=function(a,b){if(!isinstance(b,[list,_b_.tuple]))throw _b_.TypeError("unorderable types: list() >= "+$B.get_class(b).__name__+"()");for(var c=0;c<a.length;){if(c>=b.length)return!0;if(!getattr(a[c],"__eq__")(b[c]))return getattr(a[c],"__ge__")(b[c]);c++}return b.length==a.length},$ListDict.__gt__=function(a,b){if(!isinstance(b,[list,_b_.tuple]))throw _b_.TypeError("unorderable types: list() > "+$B.get_class(b).__name__+"()");for(var c=0;c<a.length;){if(c>=b.length)return!0;if(!getattr(a[c],"__eq__")(b[c]))return getattr(a[c],"__gt__")(b[c]);c++}return!1},$ListDict.__iadd__=function(){for(var a=$B.args("__iadd__",2,{self:null,x:null},["self","x"],arguments,{},null,null),b=list(iter(a.x)),c=0;c<b.length;c++)a.self.push(b[c]);return a.self},$ListDict.__imul__=function(){var a=$B.args("__imul__",2,{self:null,x:null},["self","x"],arguments,{},null,null),b=$B.$GetInt(a.x),c=a.self.length,d=c;if(0==b)return $ListDict.clear(a.self),a.self;for(var e=1;e<b;e++)for(j=0;j<c;j++)a.self[d++]=a.self[j];return a.self},$ListDict.__init__=function(a,b){for(var c=getattr(a,"__len__"),d=getattr(a,"pop");c();)d();if(void 0===b)return $N;for(var b=iter(b),e=getattr(b,"__next__"),f=a.length;;)try{a[f++]=e()}catch(a){if("StopIteration"==a.__name__)break;throw a}return $N};var $list_iterator=$B.$iterator_class("list_iterator");$ListDict.__iter__=function(a){return $B.$iterator(a,$list_iterator)},$ListDict.__le__=function(a,b){return!$ListDict.__gt__(a,b)},$ListDict.__len__=function(a){return a.length},$ListDict.__lt__=function(a,b){return!$ListDict.__ge__(a,b)},$ListDict.__mro__=[$ListDict,$ObjectDict],$ListDict.__mul__=function(a,b){if(isinstance(b,_b_.int)){for(var c=[],d=a.slice(),e=d.length,f=0;f<b;f++)for(var g=0;g<e;g++)c.push(d[g]);return c.__class__=a.__class__,c}if(hasattr(b,"__int__")||hasattr(b,"__index__"))return $ListDict.__mul__(a,_b_.int(b));throw _b_.TypeError("can't multiply sequence by non-int of type '"+$B.get_class(b).__name__+"'")},$ListDict.__ne__=function(a,b){return!$ListDict.__eq__(a,b)},$ListDict.__repr__=function(a){if(void 0===a)return"<class 'list'>";for(var b=[],c=0;c<a.length;c++)a[c]===a?b.push("[...]"):b.push(_b_.repr(a[c]));return a.__class__===$TupleDict?1==a.length?"("+b[0]+",)":"("+b.join(", ")+")":"["+b.join(", ")+"]"},$ListDict.__setitem__=function(){var a=$B.args("__setitem__",3,{self:null,key:null,value:null},["self","key","value"],arguments,{},null,null),b=a.self,c=a.key,d=a.value;if(isinstance(c,_b_.int)){var e=c;if(c<0&&(e=b.length+e),!(e>=0&&e<b.length))throw _b_.IndexError("list index out of range");return b[e]=d,$N}if(isinstance(c,_b_.slice)){var f=_b_.slice.$dict.$conv_for_seq(c,b.length);return null===c.step?$B.set_list_slice(b,f.start,f.stop,d):$B.set_list_slice_step(b,f.start,f.stop,f.step,d),$N}if(hasattr(c,"__int__")||hasattr(c,"__index__"))return $ListDict.__setitem__(b,_b_.int(c),d),$N;throw _b_.TypeError("list indices must be integer, not "+c.__class__.__name__)},$ListDict.__str__=$ListDict.__repr__,$B.make_rmethods($ListDict);var _ops=["add","sub"];$ListDict.append=function(){var a=$B.args("append",2,{self:null,x:null},["self","x"],arguments,{},null,null);return a.self[a.self.length]=a.x,$N},$ListDict.clear=function(){for(var a=$B.args("clear",1,{self:null},["self"],arguments,{},null,null);a.self.length;)a.self.pop();return $N},$ListDict.copy=function(){var a=$B.args("copy",1,{self:null},["self"],arguments,{},null,null);return a.self.slice()},$ListDict.count=function(){var a=$B.args("count",2,{self:null,x:null},["self","x"],arguments,{},null,null),b=0;_eq=getattr(a.x,"__eq__");for(var c=a.self.length;c--;)_eq(a.self[c])&&b++;return b},$ListDict.extend=function(){var a=$B.args("extend",2,{self:null,t:null},["self","t"],arguments,{},null,null);other=list(iter(a.t));for(var b=0;b<other.length;b++)a.self.push(other[b]);return $N},$ListDict.index=function(){var a=$B.args("index",4,{self:null,x:null,start:null,stop:null},["self","x","start","stop"],arguments,{start:null,stop:null},null,null),b=a.self,c=a.start,d=a.stop,e=getattr(a.x,"__eq__");null===c?c=0:(c.__class__===$B.LongInt.$dict&&(c=parseInt(c.value)*(c.pos?1:-1)),c<0&&(c=Math.max(0,c+b.length))),null===d?d=b.length:(d.__class__===$B.LongInt.$dict&&(d=parseInt(d.value)*(d.pos?1:-1)),d<0&&(d=Math.min(b.length,d+b.length)));for(var f=c;f<d;f++)if(e(b[f]))return f;throw _b_.ValueError(_b_.str(a.x)+" is not in list")},$ListDict.insert=function(){var a=$B.args("insert",3,{self:null,i:null,item:null},["self","i","item"],arguments,{},null,null);return a.self.splice(a.i,0,a.item),$N},$ListDict.pop=function(){var a=$B.args("pop",2,{self:null,pos:null},["self","pos"],arguments,{pos:null},null,null),b=a.self,c=a.pos;null===c&&(c=b.length-1),c=$B.$GetInt(c),c<0&&(c+=b.length);var d=b[c];if(void 0===d)throw _b_.IndexError("pop index out of range");return b.splice(c,1),d},$ListDict.remove=function(){for(var a=$B.args("remove",2,{self:null,x:null},["self","x"],arguments,{},null,null),b=(getattr(a.x,"__eq__"),0),c=a.self.length;b<c;b++)if(getattr(a.self[b],"__eq__")(a.x))return a.self.splice(b,1),$N;throw _b_.ValueError(_b_.str(a.x)+" is not in list")},$ListDict.reverse=function(a){for(var b=$B.args("reverse",1,{self:null},["self"],arguments,{},null,null),c=b.self.length-1,d=parseInt(b.self.length/2);d--;){var e=b.self[d];b.self[d]=b.self[c-d],b.self[c-d]=e}return $N},$ListDict.sort=function(a){for(var b=$B.args("sort",1,{self:null},["self"],arguments,{},null,"kw"),c=null,d=!1,e=b.kw,f=_b_.list(_b_.dict.$dict.keys(e)),g=0;g<f.length;g++)if("key"==f[g])c=getattr(e.$string_dict[f[g]],"__call__");else{if("reverse"!=f[g])throw _b_.TypeError("'"+f[g]+"' is an invalid keyword argument for this function");d=e.$string_dict[f[g]]}if(0!=a.length)return a.$cl=$elts_class(a),null===c&&a.$cl===_b_.str.$dict?a.sort():null===c&&a.$cl===_b_.int.$dict?a.sort(function(a,b){return a-b}):$qsort(c,a,0,a.length),d&&$ListDict.reverse(a),a.__brython__?$N:a},$B.set_func_names($ListDict),$B.$list=function(a){return a.__brython__=!0,a},list.__class__=$B.$factory,list.$dict=$ListDict,$ListDict.$factory=list,list.$is_func=!0,list.__module__="builtins",list.__bases__=[];var $ListSubclassDict={__class__:$B.$type,__name__:"list"};for(var $attr in $ListDict)"function"==typeof $ListDict[$attr]&&($ListSubclassDict[$attr]=function(a){return function(){var b=[];if(arguments.length>0)for(var b=[arguments[0].valueOf()],c=1,d=1,e=arguments.length;d<e;d++)b[c++]=arguments[d];return $ListDict[a].apply(null,b)}}($attr));$ListSubclassDict.__init__=function(a){for(var b=[],c=[b],d=1,e=1;e<arguments.length;e++)c[d++]=arguments[e];return $ListDict.__init__.apply(null,c),a.valueOf=function(){return b},$N},$ListSubclassDict.__mro__=[$ListSubclassDict,$ObjectDict],$B.$ListSubclassFactory={__class__:$B.$factory,$dict:$ListSubclassDict};var $TupleDict={__class__:$B.$type,__name__:"tuple",$native:!0};$TupleDict.__iter__=function(a){return $B.$iterator(a,$tuple_iterator)};var $tuple_iterator=$B.$iterator_class("tuple_iterator");tuple.__class__=$B.$factory,tuple.$dict=$TupleDict,tuple.$is_func=!0,$TupleDict.$factory=tuple,$TupleDict.__new__=$B.$__new__(tuple),tuple.__module__="builtins";for(var attr in $ListDict)switch(attr){case"__delitem__":case"__setitem__":case"append":case"extend":case"insert":case"remove":case"pop":case"reverse":case"sort":break;default:void 0===$TupleDict[attr]&&("function"==typeof $ListDict[attr]?$TupleDict[attr]=function(a){return function(){return $ListDict[a].apply(null,arguments)}}(attr):$TupleDict[attr]=$ListDict[attr])}$TupleDict.__delitem__=function(){throw _b_.TypeError("'tuple' object doesn't support item deletion")},$TupleDict.__setitem__=function(){throw _b_.TypeError("'tuple' object does not support item assignment")},$TupleDict.__eq__=function(a,b){return void 0===b?a===tuple:$ListDict.__eq__(a,b)},$TupleDict.__hash__=function(a){for(var b=3430008,c=0,d=a.length;c<d;c++){var e=_b_.hash(a[c]);b=1000003*b^4294967295&e}return b},$TupleDict.__mro__=[$TupleDict,$ObjectDict],$TupleDict.__name__="tuple",$B.set_func_names($TupleDict),_b_.list=list,_b_.tuple=tuple,_b_.object.$dict.__bases__=tuple()}(__BRYTHON__),function($B){function in_loop(a){for(;a;){if(void 0!==a.loop_start)return a;a=a.parent}return!1}function in_try(a){for(var b=[],c=a.parent,d=0;c;)c.is_try&&(b[d++]=c),c=c.parent;return b}function clear_ns(a){delete $B.vars[a],delete $B.modules[a],delete $B.bound[a],delete $B.generators[a],delete $B.$generators[a]}var _b_=$B.builtins;eval($B.InjectBuiltins()),$B.make_node=function(a,b){var c=b.context.to_js(),d=!1,e=!1,f=!1;if(b.locals_def){var g=a.iter_id;c="var $locals_"+g+' = $B.vars["'+g+'"] || {}',c+=', $local_name = "'+g,c+='", $locals = $locals_'+g+";",c+='$B.vars["'+g+'"] = $locals;'}if(b.is_catch&&(e=!0,d=!0),b.is_except&&(e=!0),"node"==b.context.type){var h=b.context.tree[0],i=h.type;switch(h.type){case"except":e=!0,d=!0;break;case"single_kw":d=!0,"else"==h.token&&(f=!0),"finally"==h.token&&(e=!0);break;case"condition":"elif"==h.token&&(f=!0,d=!0),"if"==h.token&&(d=!0)}}if(c){var j=new $B.genNode(c);if("yield"==i){for(var k=a.yields.length;";"==c.charAt(c.length-1);)c=c.substr(0,c.length-1);var l="return ["+c+", "+k+"]";j.data=l,a.yields.push(j)}else if(b.is_set_yield_value){var m="$sent"+c+'=$B.modules["';m+=a.iter_id+'"].sent_value || None;',m+="if($sent"+c+".__class__===$B.$GeneratorSendError)",m+="{throw $sent"+c+".err};",m+="$yield_value"+c+"=$sent"+c+";",m+='$B.modules["'+a.iter_id+'"].sent_value=None',j.data=m}else"break"==i&&(j.is_break=!0,j.loop_num=b.context.tree[0].loop_ctx.loop_num);j.is_yield="yield"==i||"return"==i,j.is_cond=d,j.is_except=e,j.is_if="condition"==i&&"if"==h.token,j.is_try=b.is_try,j.is_else=f,j.loop_start=b.loop_start,j.is_set_yield_value=b.is_set_yield_value;for(var n=0,o=b.children.length;n<o;n++)j.addChild($B.make_node(a,b.children[n]))}return j},$B.genNode=function(a,b){_indent=4,this.data=a,this.parent=b,this.children=[],this.has_child=!1,void 0===b&&(this.nodes={},this.num=0),this.addChild=function(a){void 0===a&&console.log("child of "+this+" undefined"),this.children[this.children.length]=a,this.has_child=!0,a.parent=this,a.rank=this.children.length-1},this.clone=function(){var a=new $B.genNode(this.data);return a.has_child=this.has_child,a.is_cond=this.is_cond,a.is_except=this.is_except,a.is_if=this.is_if,a.is_try=this.is_try,a.is_else=this.is_else,a.loop_num=this.loop_num,a.loop_start=this.loop_start,a.is_yield=this.is_yield,a},this.clone_tree=function(a,b){var c=new $B.genNode(this.data);this.replaced&&!in_loop(this)&&(c.data="void(0)"),this!==a||!this.parent.is_cond&&in_loop(this)||(c=a.replaced?new $B.genNode(a.data):new $B.genNode("void(0)"),a.replaced=!0),b&&this.is_break&&(c.data='$locals["$no_break'+this.loop_num+'"]=false;',c.data+='var err = new Error("break");',c.data+="err.__class__=$B.GeneratorBreak;throw err;",c.is_break=!0),c.has_child=this.has_child,c.is_cond=this.is_cond,c.is_except=this.is_except,c.is_try=this.is_try,c.is_else=this.is_else,c.loop_num=this.loop_num,c.loop_start=this.loop_start,c.no_break=!0,c.is_yield=this.is_yield;for(var d=0,e=this.children.length;d<e;d++)c.addChild(this.children[d].clone_tree(a,b)),this.children[d].is_break&&(c.no_break=!1);return c},this.has_break=function(){if(this.is_break)return!0;for(var a=0,b=this.children.length;a<b;a++)if(this.children[a].has_break())return!0;return!1},this.indent_src=function(a){return" ".repeat(a*a)},this.src=function(a){a=a||0;var b=[this.indent_src(a)+this.data],c=1;this.has_child&&(b[c++]="{"),b[c++]="\n";for(var d=0,e=this.children.length;d<e&&(b[c++]=this.children[d].src(a+1),!this.children[d].is_yield);d++);return this.has_child&&(b[c++]="\n"+this.indent_src(a)+"}\n"),b.join("")},this.toString=function(){return"<Node "+this.data+">"}},$B.GeneratorBreak={},$B.$GeneratorSendError={};var $GeneratorReturn={};$B.generator_return=function(){return{__class__:$GeneratorReturn}};var $BRGeneratorDict={__class__:$B.$type,__name__:"generator"};$BRGeneratorDict.__iter__=function(a){return a},$BRGeneratorDict.__enter__=function(a){console.log("generator.__enter__ called")},$BRGeneratorDict.__exit__=function(a){console.log("generator.__exit__ called")},$BRGeneratorDict.__next__=function(self){var scope_id=self.func_root.scope.id;if(void 0===self._next){var src=self.func_root.src()+"\n)()";try{eval(src)}catch(a){throw console.log("cant eval\n"+src+"\n"+a),clear_ns(self.iter_id),a}self._next=$B.$generators[self.iter_id]}if(self.gi_running)throw _b_.ValueError("ValueError: generator already executing");self.gi_running=!0;for(var i=0;i<self.env.length;i++)eval("var $locals_"+self.env[i][0]+"=self.env[i][1]");try{var res=self._next.apply(null,self.args)}catch(a){var last_frame=$B.last($B.frames_stack);throw self._next=function(){var a=$B.vars[self.iter_id];throw $B.enter_frame([self.iter_id,a,self.env[0],{}]),StopIteration("after exception")},clear_ns(self.iter_id),a}finally{self.gi_running=!1,$B.leave_frame(self.iter_id)}if(void 0===res)throw StopIteration("");if(res[0].__class__==$GeneratorReturn)throw self._next=function(){throw StopIteration("after generator return")},clear_ns(self.iter_id),StopIteration("");var yielded_value=res[0],yield_node_id=res[1];if(yield_node_id==self.yield_node_id)return yielded_value;self.yield_node_id=yield_node_id;var exit_node=self.func_root.yields[yield_node_id];exit_node.replaced=!1;var root=new $B.genNode(self.def_ctx.to_js('__BRYTHON__.generators["'+self.iter_id+'"]'));root.addChild(self.func_root.children[0].clone());var fnode=self.func_root.children[1].clone();root.addChild(fnode),func_node=self.func_root.children[1];var js='var $locals = $B.vars["'+self.iter_id+'"], $local_name="'+self.iter_id+'";';fnode.addChild(new $B.genNode(js));var env=$B.last(self.env);for(fnode.addChild(new $B.genNode('$B.enter_frame(["'+self.iter_id+'",$locals,"'+env[0]+'",$locals_'+env[0]+"]);"));;){var exit_parent=exit_node.parent,rest=[],pos=0,has_break=!1,start=exit_node.rank+1;if(void 0!==exit_node.loop_start)start=exit_node.rank;else if(exit_node.is_cond)for(;start<exit_parent.children.length&&(exit_parent.children[start].is_except||exit_parent.children[start].is_else);)start++;else if(exit_node.is_try||exit_node.is_except)for(;start<exit_parent.children.length&&(exit_parent.children[start].is_except||exit_parent.children[start].is_else);)start++;for(var i=start,_len_i=exit_parent.children.length;i<_len_i;i++){var clone=exit_parent.children[i].clone_tree(null,!0);rest[pos++]=clone,clone.has_break()&&(has_break=!0)}if(has_break){for(var rest_try=new $B.genNode("try"),i=0,_len_i=rest.length;i<_len_i;i++)rest_try.addChild(rest[i]);var catch_test="catch(err)";catch_test+="{if(err.__class__!==$B.GeneratorBreak)",catch_test+="{throw err}}",catch_test=new $B.genNode(catch_test),rest=[rest_try,catch_test]}var tries=in_try(exit_node);if(0==tries.length)for(var i=0;i<rest.length;i++)fnode.addChild(rest[i]);else{for(var tree=[],pos=0,i=0;i<tries.length;i++){var try_node=tries[i],try_clone=try_node.clone();if(0==i)for(var j=0;j<rest.length;j++)try_clone.addChild(rest[j]);for(var children=[try_clone],cpos=1,j=try_node.rank+1;j<try_node.parent.children.length&&try_node.parent.children[j].is_except;j++)children[cpos++]=try_node.parent.children[j].clone_tree(null,!0);tree[pos++]=children}for(var parent=fnode;tree.length;){children=tree.pop();for(var i=0;i<children.length;i++)parent.addChild(children[i]);parent=children[0]}}if(exit_node=exit_parent,exit_node===self.func_root)break}self.next_root=root;var next_src=root.src()+"\n)()";try{eval(next_src)}catch(a){throw console.log("error "+a+"\n"+next_src),a}return self._next=$B.generators[self.iter_id],yielded_value},$BRGeneratorDict.__mro__=[$BRGeneratorDict,_b_.object.$dict],$BRGeneratorDict.$factory={__class__:$B.$factory,$dict:$BRGeneratorDict},$BRGeneratorDict.__repr__=$BRGeneratorDict.__str__=function(a){return"<generator "+a.func_name+" "+a.iter_id+">"},$BRGeneratorDict.close=function(a,b){a.sent_value=_b_.GeneratorExit();try{var c=$BRGeneratorDict.__next__(a);if(c!==_b_.None)throw _b_.RuntimeError("closed generator returned a value")}catch(a){if($B.is_exc(a,[_b_.StopIteration,_b_.GeneratorExit]))return _b_.None;throw a}},$BRGeneratorDict.send=function(a,b){return a.sent_value=b,$BRGeneratorDict.__next__(a)},$BRGeneratorDict.$$throw=function(a,b){return _b_.isinstance(b,_b_.type)&&(b=b()),a.sent_value={__class__:$B.$GeneratorSendError,err:b},$BRGeneratorDict.__next__(a)},$B.$BRgenerator=function(a,b,c){var d=$B.modules[c],e=d.context.tree[0],f=0,g=a[0][1][b];$B.generators=$B.generators||{},$B.$generators=$B.$generators||{};var h=d.module,i=function(){for(var i=[],j=0,k=0,l=arguments.length;k<l;k++)i[j++]=arguments[k];var m=c+"_"+f++;$B.bound[m]={};for(var n in $B.bound[c])$B.bound[m][n]=!0;var o=new $B.genNode(e.to_js('$B.$generators["'+m+'"]'));o.scope=a[0][1],o.module=h,o.yields=[],o.loop_ends={},o.def_id=c,o.iter_id=m;for(var k=0,l=d.children.length;k<l;k++)o.addChild($B.make_node(o,d.children[k]));var p=o.children[1].children[0],q={__class__:$BRGeneratorDict,args:i,def_id:c,def_ctx:e,def_node:d,env:a,func:g,func_name:b,func_root:o,module:h,func_node:p,next_root:o,gi_running:!1,iter_id:m,id:m,num:0};return $B.modules[m]=q,q.parent_block=d.parent_block,q};return i.__call__=function(){return console.log("call generator"),i.apply(null,arguments)},i.__repr__=function(){return"<function "+g.__name__+">"},i},$B.$BRgenerator.__repr__=function(){return"<class 'generator'>"},$B.$BRgenerator.__str__=function(){return"<class 'generator'>"},$B.$BRgenerator.__class__=$B.$type}(__BRYTHON__),function($B){function $getMouseOffset(a,b){b=b||window.event;var c=$getPosition(a),d=$mouseCoords(b);return{x:d.x-c.x,y:d.y-c.y}}function $getPosition(a){for(var b=0,c=0,d=a.width||a.offsetWidth,e=a.height||a.offsetHeight;a.offsetParent;)b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;return b+=a.offsetLeft,c+=a.offsetTop,{left:b,top:c,width:d,height:e}}function $mouseCoords(a){var b=0,c=0;if(!a)var a=window.event;a.pageX||a.pageY?(b=a.pageX,c=a.pageY):(a.clientX||a.clientY)&&(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,c=a.clientY+document.body.scrollTop+document.documentElement.scrollTop);var d={};return d.x=_b_.int(b),d.y=_b_.int(c),d.__getattr__=function(a){return this[a]},d.__class__="MouseCoords",d}function $DOMEvent(a){return a.__class__=$DOMEventDict,void 0===a.preventDefault&&(a.preventDefault=function(){a.returnValue=!1}),void 0===a.stopPropagation&&(a.stopPropagation=function(){a.cancelBubble=!0}),a.__repr__=function(){return"<DOMEvent object>"},a.toString=a.__str__=a.__repr__,a}function $Clipboard(a){return{data:a,__class__:$ClipboardDict}}function $EventsList(a,b,c){this.elt=a,this.evt=b,isintance(c,list)?this.callbacks=c:this.callbacks=[c],this.remove=function(a){for(var b=!1,c=0;c<this.callbacks.length;c++)if(this.callbacks[c]===a){b=!0,this.callback.splice(c,1),this.elt.removeEventListener(this.evt,a,!1);break}if(!b)throw KeyError("not found")}}function $OpenFile(a,b,c){this.reader=new FileReader,"r"===b?this.reader.readAsText(a,c):"rb"===b&&this.reader.readAsBinaryString(a),this.file=a,this.__class__=dom.FileReader,this.__getattr__=function(a){return void 0!==this["get_"+a]?this["get_"+a]:this.reader[a]},this.__setattr__=function(a){return function(b,c){if("on"==b.substr(0,2)){if(window.addEventListener){var d=function(a){return c($DOMEvent(a))};a.addEventListener(b.substr(2),d)}else if(window.attachEvent){var d=function(a){return c($DOMEvent(window.event))};a.attachEvent(b,d)}}else{if("set_"+b in a)return a["set_"+b](c);b in a?a[b]=c:setattr(a,b,c)}}}(this.reader)}function $Options(a){return{__class__:$OptionsDict,parent:a}}function $Style(a){return{__class__:$StyleDict,js:a}}function $TagSum(){return{__class__:$TagSumDict,children:[],toString:function(){return"(TagSum)"}}}eval($B.InjectBuiltins());var $ObjectDict=_b_.object.$dict,JSObject=$B.JSObject;$B.events=_b_.dict();var $DOMNodeAttrs=["nodeName","nodeValue","nodeType","parentNode","childNodes","firstChild","lastChild","previousSibling","nextSibling","attributes","ownerDocument"];$B.$isNode=function(a){if(a===document)return!0;for(var b=0;b<$DOMNodeAttrs.length;b++)if(void 0===a[$DOMNodeAttrs[b]])return!1;return!0},$B.$isNodeList=function(a){try{var b=Object.prototype.toString.call(a),c=new RegExp("^\\[object (HTMLCollection|NodeList)\\]$");return"object"==typeof a&&null!==c.exec(b)&&a.hasOwnProperty("length")&&(0==a.length||"object"==typeof a[0]&&a[0].nodeType>0)}catch(a){return!1}};var $DOMEventAttrs_W3C=["NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","type","target","currentTarget","eventPhase","bubbles","cancelable","timeStamp","stopPropagation","preventDefault","initEvent"],$DOMEventAttrs_IE=["altKey","altLeft","button","cancelBubble","clientX","clientY","contentOverflow","ctrlKey","ctrlLeft","data","dataFld","dataTransfer","fromElement","keyCode","nextPage","offsetX","offsetY","origin","propertyName","reason","recordset","repeat","screenX","screenY","shiftKey","shiftLeft","source","srcElement","srcFilter","srcUrn","toElement","type","url","wheelDelta","x","y"];$B.$isEvent=function(a){for(var b=!0,c=0;c<$DOMEventAttrs_W3C.length;c++)if(void 0===a[$DOMEventAttrs_W3C[c]]){b=!1;break}if(b)return!0;for(var c=0;c<$DOMEventAttrs_IE.length;c++)if(void 0===a[$DOMEventAttrs_IE[c]])return!1;return!0};var $NodeTypes={1:"ELEMENT",2:"ATTRIBUTE",3:"TEXT",4:"CDATA_SECTION",5:"ENTITY_REFERENCE",6:"ENTITY",7:"PROCESSING_INSTRUCTION",8:"COMMENT",9:"DOCUMENT",10:"DOCUMENT_TYPE",11:"DOCUMENT_FRAGMENT",12:"NOTATION"},$DOMEventDict={__class__:$B.$type,__name__:"DOMEvent"};$DOMEventDict.__mro__=[$DOMEventDict,$ObjectDict],$DOMEventDict.__getattribute__=function(a,b){switch(b){case"x":return $mouseCoords(a).x;case"y":return $mouseCoords(a).y;case"data":return void 0!==a.dataTransfer?$Clipboard(a.dataTransfer):a.data;case"target":return DOMNode(void 0===a.target?a.target:a.target);case"char":return String.fromCharCode(a.which)}var c=a[b];if(void 0!==c){if("function"==typeof c){var d=function(){return c.apply(a,arguments)};return d.$infos={__name__:c.toString().substr(9,c.toString().search("{"))},d}return $B.$JS2Py(c)}throw _b_.AttributeError("object DOMEvent has no attribute '"+b+"'")},$B.DOMEvent=function(a){return $DOMEvent(new Event(a))},$B.DOMEvent.__class__=$B.$factory,$B.DOMEvent.$dict=$DOMEventDict,$DOMEventDict.$factory=$B.DOMEvent;var $ClipboardDict={__class__:$B.$type,__name__:"Clipboard"};$ClipboardDict.__getitem__=function(a,b){return a.data.getData(b)},$ClipboardDict.__mro__=[$ClipboardDict,$ObjectDict],$ClipboardDict.__setitem__=function(a,b,c){a.data.setData(b,c)};var dom={File:function(){},FileReader:function(){}};dom.File.__class__=$B.$type,dom.File.__str__=function(){return"<class 'File'>"},dom.FileReader.__class__=$B.$type,dom.FileReader.__str__=function(){return"<class 'FileReader'>"};var $OptionsDict={__class__:$B.$type,__name__:"Options"};$OptionsDict.__delitem__=function(a,b){a.parent.options.remove(b.elt)},$OptionsDict.__getitem__=function(a,b){return DOMNode(a.parent.options[b])},$OptionsDict.__len__=function(a){
return a.parent.options.length},$OptionsDict.__mro__=[$OptionsDict,$ObjectDict],$OptionsDict.__setattr__=function(a,b,c){a.parent.options[b]=c},$OptionsDict.__setitem__=function(a,b,c){a.parent.options[b]=$B.$JS2Py(c)},$OptionsDict.__str__=function(a){return"<object Options wraps "+a.parent.options+">"},$OptionsDict.append=function(a,b){a.parent.options.add(b.elt)},$OptionsDict.insert=function(a,b,c){void 0===b?a.parent.options.add(c.elt):a.parent.options.add(c.elt,b)},$OptionsDict.item=function(a,b){return a.parent.options.item(b)},$OptionsDict.namedItem=function(a,b){return a.parent.options.namedItem(b)},$OptionsDict.remove=function(a,b){a.parent.options.remove(b.elt)};var $StyleDict={__class__:$B.$type,__name__:"CSSProperty"};$StyleDict.__mro__=[$StyleDict,$ObjectDict],$StyleDict.__getattr__=function(a,b){return $ObjectDict.__getattribute__(a.js,b)},$StyleDict.__setattr__=function(a,b,c){if("float"===b.toLowerCase())a.js.cssFloat=c,a.js.styleFloat=c;else{switch(b){case"top":case"left":case"height":case"width":case"borderWidth":isinstance(c,_b_.int)&&(c+="px")}a.js[b]=c}},$Style.__class__=$B.$factory,$Style.$dict=$StyleDict,$StyleDict.$factory=$Style;var DOMNode=$B.DOMNode=function(a){var b={};return b.$dict={},b.elt=a,void 0!==a.$brython_id&&9!==a.nodeType||(a.$brython_id="DOM-"+$B.UUID(),b.__repr__=b.__str__=b.toString=function(){var b="<DOMNode object type '";return b+$NodeTypes[a.nodeType]+"' name '"+a.nodeName+"'>"}),b.__class__=DOMNodeDict,b};DOMNodeDict={__class__:$B.$type,__name__:"DOMNode"},DOMNode.__class__=$B.$factory,DOMNode.$dict=DOMNodeDict,DOMNodeDict.$factory=DOMNode,DOMNodeDict.__mro__=[DOMNodeDict,_b_.object.$dict],DOMNodeDict.__add__=function(a,b){var c=$TagSum();if(c.children=[a],pos=1,isinstance(b,$TagSum))c.children=c.children.concat(b.children);else if(isinstance(b,[_b_.str,_b_.int,_b_.float,_b_.list,_b_.dict,_b_.set,_b_.tuple]))c.children[pos++]=DOMNode(document.createTextNode(_b_.str(b)));else if(isinstance(b,DOMNode))c.children[pos++]=b;else try{c.children=c.children.concat(_b_.list(b))}catch(a){throw _b_.TypeError("can't add '"+$B.get_class(b).__name__+"' object to DOMNode instance")}return c},DOMNodeDict.__bool__=function(a){return!0},DOMNodeDict.__class__=$B.$type,DOMNodeDict.__contains__=function(a,b){try{return DOMNodeDict.__getitem__(a,b),True}catch(a){return False}},DOMNodeDict.__del__=function(a){if(!a.elt.parentNode)throw _b_.ValueError("can't delete "+str(elt));a.elt.parentNode.removeChild(a.elt)},DOMNodeDict.__delitem__=function(a,b){if(9===a.elt.nodeType){var c=a.elt.getElementById(b);if(!c)throw KeyError(b);c.parentNode.removeChild(c)}else console.log("delitem"),a.elt.parentNode.removeChild(a.elt)},DOMNodeDict.__eq__=function(a,b){return a.elt==b.elt},DOMNodeDict.__getattribute__=function(a,b){switch(b){case"class_name":case"children":case"html":case"id":case"parent":case"query":case"text":case"value":return DOMNodeDict[b](a);case"height":case"left":case"top":case"width":if(a.elt instanceof SVGElement)return a.elt.getAttributeNS(null,b);try{return _b_.int($getPosition(a.elt)[b])}catch(c){return _b_.getattr(a.elt,b)}case"clear":case"remove":return function(){DOMNodeDict[b](a,arguments[0])};case"headers":if(9==a.elt.nodeType){var c=new XMLHttpRequest;c.open("GET",document.location,!1),c.send(null);var d=c.getAllResponseHeaders();d=d.split("\r\n");for(var e=_b_.dict(),f=0;f<d.length;f++){var g=d[f];if(0!=g.strip().length){var h=g.search(":");e.__setitem__(g.substr(0,h),g.substr(h+1).lstrip())}}return e}break;case"$$location":b="location"}if(void 0!==a.elt.getAttribute&&(e=a.elt.getAttribute(b),void 0!==e&&null!==e&&void 0===a.elt[b]))return e;if(void 0!==a.elt.getAttributeNS&&(e=a.elt.getAttributeNS(null,b),void 0!==e&&null!==e&&""!=e&&void 0===a.elt[b]))return e;if(void 0!==a.elt[b]){if(e=a.elt[b],"function"==typeof e){var i=function(a,b){return function(){for(var c=[],d=0,e=0;e<arguments.length;e++){var f=arguments[e];isinstance(f,JSObject)?c[d++]=f.js:isinstance(f,DOMNode)?c[d++]=f.elt:f===_b_.None?c[d++]=null:c[d++]=f}var g=a.apply(b,c);return $B.$JS2Py(g)}}(e,a.elt);return i.__name__=b,i}return"options"==b?$Options(a.elt):"style"==b?$Style(a.elt[b]):$B.$JS2Py(a.elt[b])}return $ObjectDict.__getattribute__(a,b)},DOMNodeDict.__getitem__=function(a,b){if(9!==a.elt.nodeType)throw _b_.TypeError("DOMNode object is not subscriptable");if("string"==typeof b){var c=a.elt.getElementById(b);if(c)return DOMNode(c);throw KeyError(b)}try{for(var d=a.elt.getElementsByTagName(b.$dict.__name__),c=[],e=0,f=0;f<d.length;f++)c[e++]=DOMNode(d[f]);return c}catch(a){throw KeyError(str(b))}},DOMNodeDict.__iter__=function(a){return a.$counter=-1,a},DOMNodeDict.__le__=function(a,b){var c=a.elt;if(9===a.elt.nodeType&&(c=a.elt.body),isinstance(b,$TagSum)){var d=0;for(d=0;d<b.children.length;d++)c.appendChild(b.children[d].elt)}else if("string"==typeof b||"number"==typeof b){var e=document.createTextNode(b.toString());c.appendChild(e)}else if(isinstance(b,DOMNode))c.appendChild(b.elt);else try{for(var f=_b_.list(b),g=0;g<f.length;g++)DOMNodeDict.__le__(a,f[g])}catch(a){throw _b_.TypeError("can't add '"+$B.get_class(b).__name__+"' object to DOMNode instance")}},DOMNodeDict.__len__=function(a){return a.elt.childNodes.length},DOMNodeDict.__mul__=function(a,b){if(isinstance(b,_b_.int)&&b.valueOf()>0){for(var c=$TagSum(),d=c.children.length,e=0;e<b.valueOf();e++)c.children[d++]=DOMNodeDict.clone(a)();return c}throw _b_.ValueError("can't multiply "+a.__class__+"by "+b)},DOMNodeDict.__ne__=function(a,b){return!DOMNodeDict.__eq__(a,b)},DOMNodeDict.__next__=function(a){if(a.$counter++,a.$counter<a.elt.childNodes.length)return DOMNode(a.elt.childNodes[a.$counter]);throw _b_.StopIteration("StopIteration")},DOMNodeDict.__radd__=function(a,b){var c=$TagSum(),d=DOMNode(document.createTextNode(b));return c.children=[d,a],c},DOMNodeDict.__str__=DOMNodeDict.__repr__=function(a){if(void 0===a)return"<class 'DOMNode'>";var b="<DOMNode object type '";return b+$NodeTypes[a.elt.nodeType]+"' name '"+a.elt.nodeName+"'>"},DOMNodeDict.__setattr__=function(a,b,c){if("on"==b.substr(0,2))_b_.bool(c)?DOMNodeDict.bind(a,b.substr(2),c):DOMNodeDict.unbind(a,b.substr(2));else{if(void 0!==DOMNodeDict["set_"+b])return DOMNodeDict["set_"+b](a,c);var d=b.replace("_","-").toLowerCase();if(a.elt instanceof SVGElement)return void a.elt.setAttributeNS(null,d,c);if(void 0!==a.elt[d])return void(a.elt[d]=c);var e=a.elt.getAttribute(d);void 0!==e&&null!==e?a.elt.setAttribute(d,c):a.elt[b]=c}},DOMNodeDict.__setitem__=function(a,b,c){a.elt.childNodes[b]=c},DOMNodeDict.bind=function(a,b){var c;c=9===a.elt.nodeType?0:a.elt.$brython_id;var d=_b_.dict.$dict;d.__contains__($B.events,c)||d.__setitem__($B.events,c,dict());var e=d.__getitem__($B.events,c);d.__contains__(e,b)||d.__setitem__(e,b,[]);for(var f=d.__getitem__(e,b),g=f.length,h=2;h<arguments.length;h++){var i=arguments[h],j=function(a){return function(b){try{return a($DOMEvent(b))}catch(a){if(void 0!==a.__class__){var c=_b_.getattr(a,"info")+"\n"+a.__class__.__name__;a.args&&(c+=": "+a.args[0]);try{getattr($B.stderr,"write")(c)}catch(a){console.log(c)}}else try{getattr($B.stderr,"write")(a)}catch(b){console.log(a)}}}}(i);window.addEventListener?a.elt.addEventListener(b,j,!1):window.attachEvent&&a.elt.attachEvent("on"+b,j),f[g++]=[i,j]}return a},DOMNodeDict.children=function(a){for(var b=[],c=0,d=0;d<a.elt.childNodes.length;d++)b[c++]=DOMNode(a.elt.childNodes[d]);return b},DOMNodeDict.clear=function(a){var b=a.elt;9==b.nodeType&&(b=b.body);for(var c=b.childNodes.length-1;c>=0;c--)b.removeChild(b.childNodes[c])},DOMNodeDict.Class=function(a){return void 0!==a.elt.className?a.elt.className:None},DOMNodeDict.class_name=function(a){return DOMNodeDict.Class(a)},DOMNodeDict.clone=function(a){res=DOMNode(a.elt.cloneNode(!0)),res.elt.$brython_id="DOM-"+$B.UUID();var b=_b_.dict.$dict;if(b.__contains__($B.events,a.elt.$brython_id))for(var c=b.__getitem__($B.events,a.elt.$brython_id),d=_b_.list(b.items(c)),e=0;e<d.length;e++)for(var f=d[e][0],g=0;g<d[e][1].length;g++)DOMNodeDict.bind(res,f,d[e][1][g][0]);return res},DOMNodeDict.events=function(a,b){var c;c=9===a.elt.nodeType?0:a.elt.$brython_id;var d=_b_.dict.$dict;if(!d.__contains__($B.events,c))return[];var e=d.__getitem__($B.events,c);if(!d.__contains__(e,b))return[];for(var f=d.__getitem__(e,b),g=[],h=0;h<f.length;h++)g.push(f[h][1]);return g},DOMNodeDict.focus=function(a){return function(a){return function(){setTimeout(function(){a.focus()},10)}}(a.elt)},DOMNodeDict.get=function(a){for(var b=a.elt,c=[],d=0,e=1;e<arguments.length;e++)c[d++]=arguments[e];for(var f=$B.args("get",0,{},[],c,{},null,"kw"),g={},h=_b_.list(_b_.dict.$dict.items(f.kw)),e=0;e<h.length;e++)g[h[e][0]]=h[e][1];if(void 0!==g.name){if(void 0===b.getElementsByName)throw _b_.TypeError("DOMNode object doesn't support selection by name");var i=[],d=0,j=document.getElementsByName(g.name);if(0===j.length)return[];for(var e=0;e<j.length;e++)i[d++]=DOMNode(j[e])}if(void 0!==g.tag){if(void 0===b.getElementsByTagName)throw _b_.TypeError("DOMNode object doesn't support selection by tag name");var i=[],d=0,j=document.getElementsByTagName(g.tag);if(0===j.length)return[];for(var e=0;e<j.length;e++)i[d++]=DOMNode(j[e])}if(void 0!==g.classname){if(void 0===b.getElementsByClassName)throw _b_.TypeError("DOMNode object doesn't support selection by class name");var i=[],d=0,j=document.getElementsByClassName(g.classname);if(0===j.length)return[];for(var e=0;e<j.length;e++)i[d++]=DOMNode(j[e])}if(void 0!==g.id){if(void 0===b.getElementById)throw _b_.TypeError("DOMNode object doesn't support selection by id");var k=b.getElementById(g.id);return k?[DOMNode(k)]:[]}if(void 0!==g.selector){if(void 0===b.querySelectorAll)throw _b_.TypeError("DOMNode object doesn't support selection by selector");var j=b.querySelectorAll(g.selector),l=[],d=0;if(0===j.length)return[];for(var e=0;e<j.length;e++)l[d++]=DOMNode(j[e]);if(void 0===i)return l;for(var m=[],d=0,e=0;e<i.length;e++){for(var n=i[e],o=!1,p=0;p<l.length;p++)if(n.__eq__(l[p])){o=!0;break}o||(m[d++]=e)}for(var e=m.length-1;e>=0;e--)i.splice(m[e],1)}return i},DOMNodeDict.getContext=function(a){if(!("getContext"in a.elt))throw _b_.AttributeError("object has no attribute 'getContext'");var b=a.elt;return function(a){return JSObject(b.getContext(a))}},DOMNodeDict.getSelectionRange=function(a){if(void 0!==a.elt.getSelectionRange)return a.elt.getSelectionRange.apply(null,arguments)},DOMNodeDict.html=function(a){return a.elt.innerHTML},DOMNodeDict.id=function(a){return void 0!==a.elt.id?a.elt.id:None},DOMNodeDict.options=function(a){return new $OptionsClass(a.elt)},DOMNodeDict.parent=function(a){return a.elt.parentElement?DOMNode(a.elt.parentElement):None},DOMNodeDict.remove=function(a,b){var c=a.elt,d=!1,e=b.elt;for(9==a.elt.nodeType&&(c=a.elt.body);e.parentElement;){if(e.parentElement===c){c.removeChild(e),d=!0;break}e=e.parentElement}if(!d)throw _b_.ValueError("element "+b+" is not inside "+a)},DOMNodeDict.reset=function(a){return function(){a.elt.reset()}},DOMNodeDict.style=function(a){return a.elt.style.float=a.elt.style.cssFloat||a.style.styleFloat,$B.JSObject(a.elt.style)},DOMNodeDict.setSelectionRange=function(a){return void 0!==this.setSelectionRange?function(a){return function(){return a.setSelectionRange.apply(a,arguments)}}(this):void 0!==this.createTextRange?function(a){return function(b,c){void 0==c&&(c=b);var d=a.createTextRange();d.collapse(!0),d.moveEnd("character",b),d.moveStart("character",c),d.select()}}(this):void 0},DOMNodeDict.set_class_name=function(a,b){a.elt.setAttribute("class",b)},DOMNodeDict.set_html=function(a,b){a.elt.innerHTML=str(b)},DOMNodeDict.set_style=function(a,b){if(!_b_.isinstance(b,_b_.dict))throw TypeError("style must be dict, not "+$B.get_class(b).__name__);for(var c=_b_.list(_b_.dict.$dict.items(b)),d=0;d<c.length;d++){var e=c[d][0],f=c[d][1];if("float"===e.toLowerCase())a.elt.style.cssFloat=f,a.elt.style.styleFloat=f;else{switch(e){case"top":case"left":case"width":case"borderWidth":isinstance(f,_b_.int)&&(f+="px")}a.elt.style[e]=f}}},DOMNodeDict.set_text=function(a,b){a.elt.innerText=str(b),a.elt.textContent=str(b)},DOMNodeDict.set_value=function(a,b){a.elt.value=str(b)},DOMNodeDict.submit=function(a){return function(){a.elt.submit()}},DOMNodeDict.text=function(a){return a.elt.innerText||a.elt.textContent},DOMNodeDict.toString=function(a){return void 0===a?"DOMNode":a.elt.nodeName},DOMNodeDict.trigger=function(a,b){if(a.elt.fireEvent)a.elt.fireEvent("on"+b);else{var c=document.createEvent("Events");c.initEvent(b,!0,!1),a.elt.dispatchEvent(c)}},DOMNodeDict.unbind=function(a,b){var c;if(c=9==a.elt.nodeType?0:a.elt.$brython_id,_b_.dict.$dict.__contains__($B.events,c)){var d=_b_.dict.$dict.__getitem__($B.events,c);if(_b_.dict.$dict.__contains__(d,b)){var e=_b_.dict.$dict.__getitem__(d,b);if(2===arguments.length){for(var f=0;f<e.length;f++){var g=e[f][1];window.removeEventListener?a.elt.removeEventListener(b,g,!1):window.detachEvent&&a.elt.detachEvent(b,g,!1)}return void(e=[])}for(var f=2;f<arguments.length;f++){for(var h=arguments[f],i=!1,j=0;j<e.length;j++)if(getattr(h,"__eq__")(e[j][0])){var g=e[j][1];window.removeEventListener?a.elt.removeEventListener(b,g,!1):window.detachEvent&&a.elt.detachEvent(b,g,!1),e.splice(j,1),i=!0;break}if(!i)throw KeyError("missing callback for event "+b)}}}},DOMNodeDict.value=function(a){return a.elt.value};var $QueryDict={__class__:$B.$type,__name__:"query"};$QueryDict.__contains__=function(a,b){return a._keys.indexOf(b)>-1},$QueryDict.__getitem__=function(a,b){var c=a._values[b];if(void 0===c)throw KeyError(b);return 1==c.length?c[0]:c};var $QueryDict_iterator=$B.$iterator_class("query string iterator");$QueryDict.__iter__=function(a){return $B.$iterator(a._keys,$QueryDict_iterator)},$QueryDict.__mro__=[$QueryDict,$ObjectDict],$QueryDict.getfirst=function(a,b,c){var d=a._values[b];return void 0===d?void 0===c?None:c:d[0]},$QueryDict.getlist=function(a,b){var c=a._values[b];return void 0===c?[]:c},$QueryDict.getvalue=function(a,b,c){try{return $QueryDict.__getitem__(a,b)}catch(a){return void 0===c?None:c}},$QueryDict.keys=function(a){return a._keys},DOMNodeDict.query=function(a){for(var b={__class__:$QueryDict,_keys:[],_values:{}},c=location.search.substr(1).split("&"),d=0;d<c.length;d++){var e=c[d].search("="),f=[c[d].substr(0,e),c[d].substr(e+1)],g=decodeURIComponent(f[0]),h=decodeURIComponent(f[1]);b._keys.indexOf(g)>-1?b._values[g].push(h):(b._keys.push(g),b._values[g]=[h])}return b};var $TagSumDict={__class__:$B.$type,__name__:"TagSum"};$TagSumDict.appendChild=function(a,b){a.children.push(b)},$TagSumDict.__add__=function(a,b){return $B.get_class(b)===$TagSumDict?a.children=a.children.concat(b.children):isinstance(b,[_b_.str,_b_.int,_b_.float,_b_.dict,_b_.set,_b_.list])?a.children=a.children.concat(DOMNode(document.createTextNode(b))):a.children.push(b),a},$TagSumDict.__mro__=[$TagSumDict,$ObjectDict],$TagSumDict.__radd__=function(a,b){var c=$TagSum();return c.children=a.children.concat(DOMNode(document.createTextNode(b))),c},$TagSumDict.__repr__=function(a){for(var b="<object TagSum> ",c=0;c<a.children.length;c++)b+=a.children[c],"[object Text]"==a.children[c].toString()&&(b+=" ["+a.children[c].textContent+"]\n");return b},$TagSumDict.__str__=$TagSumDict.toString=$TagSumDict.__repr__,$TagSumDict.clone=function(a){var b=$TagSum(),c=0;for(c=0;c<a.children.length;c++)b.children.push(a.children[c].cloneNode(!0));return b},$TagSum.__class__=$B.$factory,$TagSum.$dict=$TagSumDict,$B.$TagSum=$TagSum;var win=JSObject(window);win.get_postMessage=function(a,b){if(isinstance(a,dict)){for(var c={__class__:"dict"},d=_b_.list(_b_.dict.$dict.items(a)),e=0;e<d.length;e++)c[d[e][0]]=d[e][1];a=c}return window.postMessage(a,b)},$B.DOMNodeDict=DOMNodeDict,$B.win=win}(__BRYTHON__),function($B){function load(a,b){b.__class__=$B.$ModuleDict,b.__name__=a,b.__repr__=b.__str__=function(){return"<module '"+a+"' (built-in)>"},$B.imported[a]=$B.modules[a]=b}var modules={};modules.browser={$package:!0,$is_package:!0,__package__:"browser",__file__:$B.brython_path.replace(/\/*$/g,"")+"/Lib/browser/__init__.py",alert:function(a){window.alert($B.builtins.str(a))},confirm:$B.JSObject(window.confirm),console:$B.JSObject(window.console),document:$B.DOMNode(document),doc:$B.DOMNode(document),DOMEvent:$B.DOMEvent,DOMNode:$B.DOMNode,mouseCoords:function(a){return $B.JSObject($mouseCoords(a))},prompt:function(a,b){return $B.JSObject(window.prompt(a,b||""))},reload:function(){for(var a=document.getElementsByTagName("script"),b=[],c=0;c<a.length;c++)if((void 0===a[c].type||"text/javascript"==a[c].type)&&(b.push(a[c]),a[c].src)){document.createElement("SCRIPT");console.log(a[c].src)}console.log(b);for(var c=0;c<$B.scripts.length;c++){var d=$B.scripts[c];console.log("script:",d)}for(var e in $B.imported)$B.imported[e].$last_modified?console.log("check",e,$B.imported[e].__file__,$B.imported[e].$last_modified):console.log("no date for mod",e)},win:$B.win,window:$B.win,URLParameter:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return c=null===c?"":decodeURIComponent(c[1].replace(/\+/g," ")),$B.builtins.str(c)}},modules.browser.__path__=modules.browser.__file__,modules["browser.html"]=function($B){function makeTagDict(tagName){var dict={__class__:$B.$type,__name__:tagName};return dict.__init__=function(){var $ns=$B.args("pow",1,{self:null},["self"],arguments,{},"args","kw"),self=$ns.self,args=$ns.args;if(1==args.length){var first=args[0];if(_b_.isinstance(first,[_b_.str,_b_.int,_b_.float]))self.elt.appendChild(document.createTextNode(_b_.str(first)));else if(first.__class__===$TagSumDict)for(var i=0,_len_i=first.children.length;i<_len_i;i++)self.elt.appendChild(first.children[i].elt);else if(_b_.isinstance(first,$B.DOMNode))self.elt.appendChild(first.elt);else try{for(var items=_b_.list(first),i=0;i<items.length;i++)$B.DOMNode.$dict.__le__(self,items[i])}catch(a){throw _b_.ValueError("wrong element "+first)}}for(var items=_b_.list(_b_.dict.$dict.items($ns.kw)),i=0,_len_i=items.length;i<_len_i;i++){var arg=items[i][0],value=items[i][1];if("on"===arg.toLowerCase().substr(0,2)){var js='$B.DOMNodeDict.bind(self,"';js+=arg.toLowerCase().substr(2),eval(js+'",function(){'+value+"})")}else if("style"==arg.toLowerCase())$B.DOMNodeDict.set_style(self,value);else if(value!==!1)try{arg=arg.toLowerCase().replace("_","-"),self.elt.setAttribute(arg,value)}catch(a){throw _b_.ValueError("can't set attribute "+arg)}}},dict.__mro__=[dict,$B.DOMNodeDict,$B.builtins.object.$dict],dict.__new__=function(a){var b=$B.DOMNode(document.createElement(tagName));return b.__class__=a.$dict,b},dict}function makeFactory(a){var b=function(){var b=$B.DOMNode(document.createElement(a));b.__class__=dicts[a];var c=[b].concat(Array.prototype.slice.call(arguments));return dicts[a].__init__.apply(null,c),b};return b.__class__=$B.$factory,b.$dict=dicts[a],b}for(var _b_=$B.builtins,$TagSumDict=$B.$TagSum.$dict,$tags=["A","ABBR","ACRONYM","ADDRESS","APPLET","AREA","B","BASE","BASEFONT","BDO","BIG","BLOCKQUOTE","BODY","BR","BUTTON","CAPTION","CENTER","CITE","CODE","COL","COLGROUP","DD","DEL","DFN","DIR","DIV","DL","DT","EM","FIELDSET","FONT","FORM","FRAME","FRAMESET","H1","H2","H3","H4","H5","H6","HEAD","HR","HTML","I","IFRAME","IMG","INPUT","INS","ISINDEX","KBD","LABEL","LEGEND","LI","LINK","MAP","MENU","META","NOFRAMES","NOSCRIPT","OBJECT","OL","OPTGROUP","OPTION","P","PARAM","PRE","Q","S","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRIKE","STRONG","STYLE","SUB","SUP","TABLE","TBODY","TD","TEXTAREA","TFOOT","TH","THEAD","TITLE","TR","TT","U","UL","VAR","ARTICLE","ASIDE","AUDIO","BDI","CANVAS","COMMAND","DATA","DATALIST","EMBED","FIGCAPTION","FIGURE","FOOTER","HEADER","KEYGEN","MAIN","MARK","MATH","METER","NAV","OUTPUT","PROGRESS","RB","RP","RT","RTC","RUBY","SECTION","SOURCE","TEMPLATE","TIME","TRACK","VIDEO","WBR","DETAILS","DIALOG","MENUITEM","PICTURE","SUMMARY"],obj=new Object,dicts={},i=0,_len_i=$tags.length;i<_len_i;i++){var tag=$tags[i];dicts[tag]=makeTagDict(tag),obj[tag]=makeFactory(tag),dicts[tag].$factory=obj[tag]}return $B.tag_classes=dicts,obj}(__BRYTHON__),modules.javascript={__file__:$B.brython_path+"/libs/javascript.js",JSObject:$B.JSObject,JSConstructor:$B.JSConstructor,console:$B.JSObject(window.console),load:function(script_url,names){var file_obj=$B.builtins.open(script_url),content=$B.builtins.getattr(file_obj,"read")();if(eval(content),void 0!==names){if(!Array.isArray(names))throw $B.builtins.TypeError("argument 'names' should be a list, not '"+$B.get_class(names).__name__);for(var i=0;i<names.length;i++)try{window[names[i]]=eval(names[i])}catch(a){throw $B.builtins.NameError("name '"+names[i]+"' not found in script "+script_url)}}},py2js:function(a,b){return is_none(b)&&(b="__main__"+$B.UUID()),$B.py2js(a,b,b,"__builtins__").to_js()},pyobj2jsobj:function(a){return $B.pyobj2jsobj(a)},jsobj2pyobj:function(a){return $B.jsobj2pyobj(a)}};var _b_=$B.builtins;modules._sys={__file__:$B.brython_path+"/libs/_sys.js",Getframe:function(a){return $B._frame($B.frames_stack,a)},modules:{__get__:function(){return _b_.dict($B.JSObject($B.imported))},__set__:function(a,b,c){throw _b_.TypeError("Read only property 'sys.modules'")}},path:{__get__:function(){return $B.path},__set__:function(a,b,c){$B.path=c}},meta_path:{__get__:function(){return $B.meta_path},__set__:function(a,b,c){$B.meta_path=c}},path_hooks:{__get__:function(){return $B.path_hooks},__set__:function(a,b,c){$B.path_hooks=c}},path_importer_cache:{__get__:function(){return _b_.dict($B.JSObject($B.path_importer_cache))},__set__:function(a,b,c){throw _b_.TypeError("Read only property 'sys.path_importer_cache'")}},stderr:{__get__:function(){return $B.stderr},__set__:function(a,b,c){$B.stderr=c},write:function(a){_b_.getattr($B.stderr,"write")(a)}},stdout:{__get__:function(){return $B.stdout},__set__:function(a,b,c){$B.stdout=c},write:function(a){console.log("stdout write"),_b_.getattr($B.stdout,"write")(a)}},stdin:$B.stdin};for(var attr in modules)load(attr,modules[attr]);modules.browser.html=modules["browser.html"]}(__BRYTHON__),function(a){function b(b,e,f,g){var h=a.is_none;h(f)&&(f=void 0);for(var i=c.getattr(d,"meta_path"),j=void 0,k=0,l=i.length;k<l&&h(j);k++){var m=i[k],n=c.getattr(m,"find_spec",null);null!==n&&(j=c.getattr(n,"__call__")(b,e,void 0),j.blocking=g)}if(h(j))throw c.ImportError(b);var o=c.getattr(j,"loader",c.None),p=a.imported,q=c.getattr(j,"name");if(h(f)){if(!h(o)){var r=c.getattr(o,"create_module",c.None);h(r)||(f=c.getattr(r,"__call__")(j))}if(void 0===f)throw c.ImportError(b);if(h(f)){f=a.$ModuleDict.$factory(b);var s=c.getattr(j,"origin");s=c.getattr(j,"has_location")?"from '"+s+"'":"("+s+")",f.toString=f.__repr__=f.__str__=function(){return"<module '"+b+"' "+s+">"}}}f.__name__=q,f.__loader__=o,f.__package__=c.getattr(j,"parent",""),f.__spec__=j;var t=c.getattr(j,"submodule_search_locations");(f.$is_package=!h(t))&&(f.__path__=t),c.getattr(j,"has_location")&&(f.__file__=c.getattr(j,"origin"),a.$py_module_path[f.__name__]=f.__file__);var u=c.getattr(j,"cached");if(h(u)||(f.__cached__=u),h(o)){if(h(t))throw c.ImportError(b);a.modules[q]=p[q]=f}else{var v=c.getattr(o,"exec_module",c.None);if(h(v))f=c.getattr(c.getattr(o,"load_module"),"__call__")(q);else{a.modules[q]=p[q]=f;try{c.getattr(v,"__call__")(f,g)}catch(b){throw delete a.modules[q],delete p[q],b}}}return p[q]}var c=a.builtins,d=a.imported._sys;a.import_hooks=b}(__BRYTHON__),function($B){_b_=$B.builtins,$B.execution_object={},$B.execution_object.queue=[],$B.execution_object.start_flag=!0,$B.execution_object.$execute_next_segment=function(){if(0!=$B.execution_object.queue.length){$B.execution_object.start_flag=!1;var element=$B.execution_object.queue.shift(),code=element[0],delay=10;2==element.length&&(delay=element[1]),setTimeout(function(){console.log(code);try{eval(code)}catch(a){console.log(a)}$B.execution_object.start_flag=0==$B.execution_object.queue.length},delay)}},$B.execution_object.$append=function(a,b){$B.execution_object.queue.push([a,b]),$B.execution_object.start_flag&&$B.execution_object.$execute_next_segment()},$B.execution_object.source_conversion=function(a){return a=a.replace("\n","","g"),a=a.replace("'","\\'","g"),a=a.replace('"','\\"',"g"),a=a.replace("@@","'","g"),a+="';$B.execution_object.$append($jscode, 10); ",a+="$B.execution_object.$execute_next_segment(); ","var $jscode='"+a},_b_.brython_block=function(a,b){return void 0!==b&&b!=_b_.None||(b=1),a},$B.builtin_funcs.brython_block=!0,$B.bound.__builtins__.brython_block=!0,_b_.brython_async=function(a){return a},$B.builtin_funcs.brython_async=!0,$B.bound.__builtins__.brython_async=!0}(__BRYTHON__);