function analyticsEvent(a,b,c){window.ga("send","event",a,b,c)}!function(win){function callbackSetter(a){return function(b){callbacks[a]=b}}function unsetCallbacks(){null===temp_callbacks&&(temp_callbacks=callbacks,callbacks=default_callbacks)}function resetCallbacks(){null!==temp_callbacks&&(callbacks=temp_callbacks,temp_callbacks=null)}function setTraceCall(a){traceCall=a}function setNoInputTrace(a){noInputTrace=a}function setNoSuppressOut(a){noSuppressOut=a}function wasRecorded(){return isRecorded}function getDidErrorOccure(){return didErrorOccure}function isDebugging(){return debugging}function isExecuting(){return debugging&&!linePause}function getStep(){return currentStep}function getErrorState(){return errorState}function getRecordedStates(){return recordedStates}function getLastRecordedState(){return recordedStates[recordedStates.length-1]}function getCurrentState(){return recordedStates[currentStep]}function setStepLimit(a){stepLimit=void 0===a?1e4:a}function setStepToLast(){setStep(recordedStates.length-1)}function setStepToFirst(){setStep(0)}function canStep(a){return a<recordedStates.length&&a>=0}function getState(a){return canStep(a)?getRecordedStates()[a]:null}function setStep(a){var b=getState(a);b&&("input"===b.type&&(recordInput(b),rerunCode(),a-=1),currentStep=a,updateStep())}function recordInput(a){var b=callbacks.handleInput(a.arg);return recordedInputs[a.id]=b,recordedInputs[a.id]}function isLastStep(){return currentStep===recordedStates.length-1}function isFirstStep(){return 0===currentStep}function debuggingStarted(){debugging=!0,linePause=!1,callbacks.debugStarted(Debugger)}function updateStep(){var a=getCurrentState();callbacks.stepUpdate(a)}function stopDebugger(){debugging&&(debugging=!1,resetOutErr(),callbacks.debugEnded(Debugger))}function errorWhileDebugging(a){var b="";try{b=_b_.getattr(a,"info")}catch(a){}var c={event:"line",type:"runtime_error",data:b+"\n"+_b_.getattr(a,"__name__")+": "+a.$message+"\n",stack:a.$stack,message:a.$message,name:_b_.getattr(a,"__name__"),frame:$B.last(a.$stack),err:a,step:getRecordedStates().length-1};c.stdout=(getLastRecordedState()?getLastRecordedState().stdout:"")+c.data,c.frame&&(c.module_name=c.frame[0],c.line_no=c.next_line_no=c.frame[1].$line_info?+c.frame[1].$line_info.split(",")[0]:-1),c.column_no_start=0,c.column_no_stop=200,a.args.length>3&&(b="module "+a.args[1]+" line "+a.args[2]+"\n"+a.args[4]+"\n",b+=Array.apply(null,Array(a.args[3])).join(" ")+"^\n",b+=a.__name__+": "+a.args[0],c.data=b,c.fragment=a.args[4],c.column_no_start=Math.max(0,a.args[3]-1),c.column_no_stop=a.args[3]+2,c.line_no=c.line_no||a.args[2]),didErrorOccure=!0,getRecordedStates().length>0?getRecordedStates().length>=stepLimit?(c.name="StepLimitExceededError",c.stdout=c.data=b+"\n"+c.name+": "+c.message+"\n",c.type="infinit_loop",recordedStates.push(c)):setTrace(c):c.type="syntax_error",setErrorState(c),callbacks.debugError(c,Debugger)}function setErrorState(a){errorState=a}function setTrace(a){if(recordedStates.length>stepLimit)throw $B.exception("You have exceeded the amount of steps allowed for this program, you probably have an infinit loop or you're running a long program");switch(a.event){case"line":return setLineTrace(a);case"stdout":return setdStdOutTrace(a);case"stderr":return setdStdErrTrace(a);case"input":return setInputTrace(a);default:recordedStates.push(a)}}function setLineTrace(a){return isRecorded||(linePause=!0),lastState=getLastRecordedState(),a.printerr=a.stderr=a.stdout=a.printout="",lastState&&(a.stdout=lastState.stdout,a.stderr=lastState.stderr,a.frame&&(a.locals=a.frame[1],a.globals=a.frame[3],a.var_names=Object.keys(a.locals).filter(function(a){return!/^(__|_|\$)/.test(a)})),lastState.next_line_no=a.line_no),isDisposableState(a)?void callbacks.lineTrace(a,Debugger):("runtime_error"===a.type&&(recordedStates.pop(),a.stdout+=a.data),callbacks.lineTrace(a,Debugger),void recordedStates.push(a))}function setdStdOutTrace(a){recordedOut.push(a),getLastRecordedState().printout=a.data,getLastRecordedState().stdout+=a.data}function setdStdErrTrace(a){console.error(a.data),recordedErr.push(a),a.frame&&(getLastRecordedState().printerr=a.data,getLastRecordedState().stderr+=a.data)}function setInputTrace(a){if(a.event="line",a.type="input",a.id=a.id+recordedStates.length,void 0!==recordedInputs[a.id])return recordedInputs[a.id];if(stdInChanged())return callbacks.handleInput(a.arg);throw a.line_no=getLastRecordedState().line_no,a.frame=getLastRecordedState().frame,setTrace(a),HALT}function stdInChanged(){return!!$B.imported.sys&&$B.imported.sys.stdin!==$B.modules._sys.stdin}function isDisposableState(a){var b=["afterwhile","eof"];return a.type&&~b.indexOf(a.type)}function resetDebugger(a){recordedStates=[],recordedOut=[],recordedErr=[],a||(didErrorOccure=!1,isRecorded=!1,currentStep=0,recordedInputs={},parserReturn=null,errorState=null)}function stepDebugger(){isRecorded?stepRecording():stepInterpreter()}function stepRecording(){var a=getStep();setStep(a+1)}function stepBackRecording(){var a=getStep();setStep(a-1)}function stepInterpreter(){var a=!1;try{a=myInterpreter.step()}catch(a){errorWhileDebugging(a),console.error(a)}finally{if(!a)return void stopDebugger()}linePause?(linePause=!1,currentStep=getRecordedStates().length-1):stepDebugger()}function rerunCode(){resetDebugger(!0);try{setOutErr(),runTrace(parserReturn)}catch(a){handleDebugError(a)}finally{resetOutErr()}}function startDebugger(a,b){var c=a||"";resetDebugger(),isRecorded=void 0===b||b,setOutErr(noSuppressOut);try{var d=parserReturn=parseCode(c);b?runTrace(d):myInterpreter=interpretCode(d)}catch(a){handleDebugError(a)}finally{resetOutErr()}return debuggingStarted(),getSessionHistory()}function handleDebugError(a){if(!a.$py_error)throw a;if(wasHalted(a)||errorWhileDebugging(a),!wasHalted(a)&&weStopDebugOnRuntimeError)throw a}function wasHalted(a){return a.$message==="<"+HALT+">"}function parseCode(a){var b=pythonToBrythonJS(a);return b.code=injectTrace(b.code),b}function pythonToBrythonJS(a){var b,c,d,e,f,g={code:""},h=$B.frames_stack[$B.frames_stack.length-1];if(void 0===h)b="__main__",$B.$py_src[b]&&delete $B.$py_src[b],$B.$py_module_path[b]=window.location.href,c="__builtins__";else{var i=h[0];e=i.replace(/\./,"_"),d=h[2]||i,f=d.replace(/\./,"_");var j=_b_.dict([]);b=_b_.dict.$dict.get(j,"__name__","exec_"+$B.UUID()),$B.$py_module_path[b]=$B.$py_module_path[d],c=b}g.module_name=b,$B.async_enabled||(g[b]={});try{var k=$B.py2js(a,b,b,c);g.code=k.to_js(),$B.async_enabled&&(g.code=$B.execution_object.source_conversion(g.code))}catch(a){if(void 0===a.$py_error)throw $B.exception(a);throw a}return g}function injectTrace(a){function b(a){var b=LINE_RGX.exec(a);return b?{indent:b[1].length,indentString:b[1],line_no:b[2],string:b[0],module:b[3],match:b,index:b.index}:null}function c(a,b){var c=b.exec(a);return c?{param:c[1],string:c[0],index:c.index}:null}var d="",e=a.split("\n");e.splice(9,0,traceCall+"({event:'line', type:'start', frame:$B.last($B.frames_stack), line_no: 0, next_line_no: 1});"),a=e.join("\n");var f=b(a);if(null===f)return a;for(var g=0,h=1,i=f.index;;){if(d+=a.substr(0,i),+f.line_no!==g&&(d+=f.indentString+traceCall+"({event:'line', frame:$B.last($B.frames_stack), line_no: "+f.line_no+", next_line_no: "+(+f.line_no+1)+"});\n"),d+=f.string,i+=f.string.length,a=a.substr(i),g=+f.line_no,h=h>g?h:g,f=b(a),null===f)break;i=f.index}var j=a.split(/^.*\$B\.leave_frame\(/m);if(d+=j[0]+traceCall+"({event:'line', type:'eof', frame:$B.last($B.frames_stack), line_no: "+ ++h+", next_line_no: "+h+"});\n",d+=";$B.leave_frame("+j[1],!noInputTrace)for(var k=new RegExp(INPUT_RGX.source,"g"),l=c(d,k);null!==l;){a=d.substr(0,l.index);var m=traceCall+"({event:'input'"+(l.param?", arg:"+l.param:"")+", id:'"+l.index+"'})";a+=m,i=l.index+l.string.length,a+=d.substr(i),d=a,l=c(d,k)}return d}function runTrace(obj){var js=obj.code;try{eval("var $locals_"+obj.module_name+'= obj["'+obj.module_name+'"]');var getattr=_b_.getattr,setattr=_b_.setattr,delattr=_b_.setattr,res=eval(js);return void 0===res?_b_.None:res}catch(a){if(void 0===a.$py_error)throw $B.exception(a);throw a}}function runToEnd(a){Debugger.set_no_input_trace(!0),Debugger.set_no_suppress_out(!0),Debugger.start_debugger(a,!0);var b=Debugger.get_session();return Debugger.stop_debugger(),Debugger.set_no_input_trace(!1),Debugger.set_no_suppress_out(!1),b}function runNoTrace(code){resetDebugger();var module_name,local_name,current_globals_id,current_locals_name,current_globals_name,current_frame=$B.frames_stack[$B.frames_stack.length-1];if(void 0===current_frame)module_name="__main__",$B.$py_src[module_name]&&delete $B.$py_src[module_name],$B.$py_module_path[module_name]=window.location.href,local_name="__builtins__";else{var current_locals_id=current_frame[0];current_locals_name=current_locals_id.replace(/\./,"_"),current_globals_id=current_frame[2]||current_locals_id,current_globals_name=current_globals_id.replace(/\./,"_");var _globals=_b_.dict([]);module_name=_b_.dict.$dict.get(_globals,"__name__","exec_"+$B.UUID()),$B.$py_module_path[module_name]=$B.$py_module_path[current_globals_id],local_name=module_name}try{var root=$B.py2js(code,module_name,[module_name],local_name),js=root.to_js();$B.async_enabled||eval("var $locals_"+module_name+"=  {}");var None=_b_.None,getattr=_b_.getattr,setattr=_b_.setattr,delattr=_b_.setattr;$B.async_enabled?(js=$B.execution_object.source_conversion(js),eval(js)):eval(js)}catch(a){if($B.leave_frame(),$B.leave_frame(),!a.$py_error)throw a;errorWhileDebugging(a)}}function interpretCode(a){var b=defineAPIScope(a);return new window.Interpreter(a.code,b)}function defineAPIScope(a){return function(b,c){b.setProperty(c,"__BRYTHON__",$B,!0),b.setProperty(c,"$locals_"+a.module_name,a[a.module_name],!0),b.setProperty(c,"_b_",_b_,!0),b.setProperty(c,"getattr",_b_.getattr,!0);var d;d=function(a){return b.createPrimitive(setTrace(a))},b.setProperty(c,traceCall,b.createNativeFunction(d)),d=function(a){return a=a?a.toString():"",b.createPrimitive(alert(a))},b.setProperty(c,"alert",b.createNativeFunction(d)),d=function(a){return a=a?a.toString():"",b.createPrimitive(prompt(a))},b.setProperty(c,"prompt",b.createNativeFunction(d))}}function getSessionHistory(){var a;return a=didErrorOccure&&"syntax_error"===errorState.type?errorState:getLastRecordedState(),a.frame=a.frame||{},{states:recordedStates,prints:recordedOut,stdout:a.stdout,locals:a.frame[1],globals:a.frame[3],error:didErrorOccure,errorState:errorState}}function createOut(a,b){var c={__class__:$B.$type,__name__:"io"};return c.__mro__=[c,_b_.object.$dict],{__class__:c,write:function(c){var d=getLastRecordedState()||{frame:void 0};return setTrace({event:a,data:c,frame:d.frame,line_no:d.line_no}),b&&b.write(c),_b_.None},flush:function(){}}}function setOutErr(a){realStdOut=$B.stdout,realStdErr=$B.stderr,a?($B.stdout=createOut("stdout",realStdOut),$B.stderr=createOut("stderr",realStdErr)):($B.stdout=outerr.recordOut,$B.stderr=outerr.recordErr)}function resetOutErr(){$B.stdout=realStdOut,$B.stderr=realStdErr}function firstRunCheck(){if($B.frames_stack.length<1){var module_name="__main__";$B.$py_module_path[module_name]=window.location.href;var root=$B.py2js("",module_name,module_name,"__builtins__"),js=root.to_js();eval(js)}}function defineModule(a,b){b.__class__=$B.$ModuleDict,b.__name__=a,b.__repr__=b.__str__=function(){return"<module '"+a+"' (built-in)>"},$B.imported[a]=$B.modules[a]=b}var Debugger=win.Brython_Debugger={run_no_debugger:runNoTrace,run_to_end:runToEnd,start_debugger:startDebugger,stop_debugger:stopDebugger,step_debugger:stepDebugger,step_back_debugger:stepBackRecording,step_to_last_step:setStepToLast,step_to_first_step:setStepToFirst,can_step:canStep,set_step:setStep,set_no_input_trace:setNoInputTrace,set_no_suppress_out:setNoSuppressOut,set_trace:setTrace,set_trace_call:setTraceCall,set_step_limit:setStepLimit,is_debugging:isDebugging,is_recorded:wasRecorded,is_executing:isExecuting,is_last_step:isLastStep,is_first_step:isFirstStep,did_error_occure:getDidErrorOccure,get_session:getSessionHistory,get_current_step:getStep,get_current_state:getCurrentState,get_recorded_states:getRecordedStates,unset_events:unsetCallbacks,reset_events:resetCallbacks,define_module:defineModule,on_input_while_debugging:callbackSetter("handleInput"),on_debugging_started:callbackSetter("debugStarted"),on_debugging_end:callbackSetter("debugEnded"),on_debugging_error:callbackSetter("debugError"),on_step_update:callbackSetter("stepUpdate"),on_line_trace:callbackSetter("lineTrace")},$B=win.__BRYTHON__,_b_=$B.builtins,traceCall="Brython_Debugger.set_trace",noInputTrace=!1,noSuppressOut=!1,debugging=!1,stepLimit=4e3,linePause=!0,myInterpreter=null,isRecorded=!1,didErrorOccure=!1,weStopDebugOnRuntimeError=!1,errorState=null,parserReturn=null,recordedStates=[],recordedInputs={},recordedOut=[],recordedErr=[],currentStep=0,noop=function(){},events=["stepUpdate","debugStarted","debugError","debugEnded","handleInput","lineTrace"],callbacks={},default_callbacks={},temp_callbacks=null;events.forEach(function(a){default_callbacks[a]=callbacks[a]=noop}),default_callbacks.handleInput=callbacks.handleInput=function(a){return _b_.input(a)};var LINE_RGX=/^( *);?\$locals\.\$?line_info=\"(\d+),(.+)\";?/m,WHILE_RGX=/^( *)while/m,FUNC_RGX=/^( *)\$locals.*\[\"(.+)\"\]=\(function\(\){/m,INPUT_RGX=/getattr\(input,\"__call__\"\)\(((?:\"(.)*\")|\d*)\)/g,HALT="HALT",realStdOut=$B.stdout,realStdErr=$B.stderr,realStdIn=$B.stdin,outerr={recordOut:createOut("stdout"),recordErr:createOut("stderr")}}(window),function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),window.ga("create","UA-68861516-1","auto"),window.ga("send","pageview");var PD=window.PD={constant:{student_id_prompt_message:"please enter your guc student id: xx-*****\neg: 40-5610 or 37-12310",student_username_prompt_message:"please enter your guc login username\neg: ahmed.mohamed"},promprtForId:function(){var a=window.localStorage;if(!a.getItem("student-id")){var b=prompt(PD.constant.student_id_prompt_message);null!==b&&a.setItem("student-id",b)}a.getItem("user-ip")||PD.getIP(function(b){a.setItem("user-ip",b)}),a.getItem("student-id")?window.lougout_btn.innerHTML="Logout as "+a.getItem("student-id"):window.lougout_btn.innerHTML="Login"},sendActivity:function(a){var b=window.localStorage;PD.promprtForId(),a.meta=a.meta||{},a.meta["student-id"]=b.getItem("student-id")||"anonymous",a.meta["user-ip"]=b.getItem("user-ip"),a.event=a.event||"python-debugger.editor",a.action=a.action||"run",analyticsEvent(a.event,a.action,a.meta["student-id"]),$.post("http://www.kodr.in/api/activity",a).done(function(){console.log("sucess")}).fail(function(a){console.log("could not send",a)})},getIP:function(a){$.get("http://jsonip.com").done(function(b){a(b.ip)})},logout:function(){var a=window.localStorage;a.getItem("student-id")&&(a.removeItem("student-id"),PD.getIP(function(b){a.setItem("user-ip",b)}),window.lougout_btn.innerHTML="Login")},authAction:function(){localStorage.getItem("student-id")?PD.logout():PD.promprtForId()}};PD.promprtForId();